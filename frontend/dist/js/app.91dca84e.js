(function(e){function t(t){for(var a,s,r=t[0],l=t[1],c=t[2],d=0,m=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&m.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(m.length)m.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"034f":function(e,t,n){"use strict";n("85ec")},"03d3":function(e,t,n){"use strict";n("900a")},"0ee5":function(e,t,n){"use strict";n("5cb9")},1:function(e,t){},10:function(e,t){},"1a80":function(e,t,n){},2:function(e,t){},2511:function(e,t,n){},"261b":function(e,t,n){"use strict";n("3a5d")},"26d1":function(e,t,n){},3:function(e,t){},"3a5d":function(e,t,n){},"3a8d":function(e,t,n){e.exports=n.p+"img/Dispatch Pulse Logo v1.71781c56.svg"},"3d2c":function(e,t,n){"use strict";n("2511")},4:function(e,t){},"413c":function(e,t,n){"use strict";n("cc19")},"43f9":function(e,t,n){},"470f":function(e,t,n){"use strict";n("874c")},"4b77":function(e,t,n){"use strict";n("dbd6")},"4fb8":function(e,t,n){"use strict";n("75b7")},5:function(e,t){},"508e":function(e,t,n){"use strict";n("ccc7")},"54a4":function(e,t,n){"use strict";n("6fdc")},5681:function(e,t,n){"use strict";n("8035")},"5b6e":function(e,t,n){},"5cb9":function(e,t,n){},6:function(e,t){},6485:function(e,t,n){},"6dad":function(e,t,n){},"6ecc":function(e,t,n){"use strict";n("8258")},"6fdc":function(e,t,n){},7:function(e,t){},"75b7":function(e,t,n){},8:function(e,t){},8035:function(e,t,n){},8258:function(e,t,n){},"84c7":function(e,t,n){"use strict";n("9413")},"85ec":function(e,t,n){},"86b5":function(e,t,n){"use strict";n("d8ab")},"874c":function(e,t,n){},"87b4":function(e,t,n){"use strict";n("1a80")},"8e32":function(e,t,n){"use strict";n("26d1")},9:function(e,t){},"900a":function(e,t,n){},9338:function(e,t,n){},9413:function(e,t,n){},"97d8":function(e,t,n){},"9a59":function(e,t,n){"use strict";n("43f9")},a905:function(e,t,n){},ac5b:function(e,t,n){"use strict";n("d40a")},bea4:function(e,t,n){"use strict";n("9338")},c3d1:function(e,t,n){"use strict";n("a905")},c586:function(e,t,n){"use strict";n("97d8")},c98a:function(e,t,n){"use strict";n("6dad")},cc19:function(e,t,n){},ccc7:function(e,t,n){},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("7db0"),n("fb6a"),n("d81d"),n("a630"),n("3ca3"),n("159b"),n("b64b");var a=n("2b0e"),i=n("ce5b"),o=n.n(i);n("95ed"),n("5363"),n("becf");a["default"].use(o.a);var s=new o.a({icons:{iconfont:"md"},theme:{themes:{light:{primary:"#f87560",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("NotificationsSnackbar"),n("Navigation"),n("LoginDialogue",{on:{OnLogin:e.OnLogin}}),n("ModifyLabourDialogue"),n("ModifyMaterialDialogue"),n("ChangePasswordDialogue"),n("LabourDeleteTimerDialogue"),n("CloseAssignmentDialogue"),n("CompleteAssignmentDialogue"),n("ConfirmLogOutDialogue"),n("DeleteAssignmentDialogue"),n("DeleteCompanyDialogue"),n("DeleteLabourDialogue"),n("DeleteMaterialDialogue"),n("DeleteContactDialogue"),n("DeleteProjectDialogue"),n("MergeProjectsDialogue"),n("NewCallDialogue"),n("ModifyContactDialogue"),n("AddProjectDialogue"),n("ModifyCompanyDialogue"),n("GlobalSearchDialogue"),n("DeleteAgentDialogue"),n("AddProjectNoteDialogue"),n("DeleteProjectNoteDialogue"),n("DeleteProductDialogue"),n("ModifyProductDialogue"),n("DeleteAssignmentStatusDialogue"),n("ModifyAssignmentStatusDialogue"),n("DeleteManHourDialogue"),n("ModifyManHourDialogue"),n("DeleteProjectStatusDialogue"),n("ModifyProjectStatusDialogue"),n("ModifyEmploymentStatusDialogue"),n("DeleteEmploymentStatusDialogue"),n("ModifyLabourExceptionDialogue"),n("DeleteLabourExceptionDialogue"),n("ModifyLabourHolidayDialogue"),n("DeleteLabourHolidayDialogue"),n("ModifyLabourNonBillableDialogue"),n("DeleteLabourNonBillableDialogue"),n("AssignmentReportDialogue"),n("CompanyReportDialogue"),n("ContactsReportDialogue"),n("LabourReportDialogue"),n("MaterialsReportDialogue"),n("ProjectReportDialogue"),n("DemoIntroductionDialogue"),n("RegisterDialogue"),n("v-main",{staticStyle:{display:"flex"}},[n("router-view",{ref:"routerView"})],1),n("v-overlay",{staticStyle:{"z-index":"11"},attrs:{absolute:!0,value:e.initialLoading}},[n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.initialLoading,callback:function(t){e.initialLoading=t},expression:"initialLoading"}},[n("v-card",{staticStyle:{"padding-top":"10px"},attrs:{color:"primary",dark:""}},[n("v-card-text",[e._v(" Waiting for connection… "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)},l=[],c=n("d4ec"),u=n("bee2"),d=n("262e"),m=n("2caf"),v=n("9ab4"),p=n("1b40"),f=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);f=Object(v["a"])([Object(p["a"])({components:{}})],f);var h=f,b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{staticClass:"e2e-login-dialogue",attrs:{"max-width":"600",persistent:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.ShowLoginDialogue,callback:function(t){e.ShowLoginDialogue=t},expression:"ShowLoginDialogue"}},[a("v-card",[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{staticClass:"d-none d-sm-block",staticStyle:{padding:"30px","text-align":"center"},attrs:{cols:"12",sm:"6"}},[a("p",[a("img",{staticStyle:{"max-width":"64px","border-radius":"10px"},attrs:{src:n("3a8d")}})]),a("p",{staticClass:"d-none d-sm-block",staticStyle:{"font-size":"24px","text-align":"center"}},[e._v("Dispatch Pulse")]),a("p",{staticClass:"d-none d-sm-block"},[a("v-btn",{staticStyle:{width:"150px"},attrs:{color:"primary",href:"https://www.dispatchpulse.com/Contact",target:"_blank"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-phone")]),e._v(" Sign Up ")],1)],1),a("p",{staticClass:"d-none d-sm-block"},[a("v-btn",{staticStyle:{width:"150px"},attrs:{color:"primary",href:"https://www.dispatchpulse.com/Contact",target:"_blank"}},[a("v-icon",{attrs:{left:""}},[e._v("mdi-phone")]),e._v(" Support ")],1)],1),a("p",{staticClass:"d-none d-sm-block"},[a("v-btn",{staticStyle:{width:"150px"},attrs:{color:"primary"},on:{click:e.OnClickTryADemo}},[e._v("Take a Look")])],1),a("p",{staticClass:"d-none d-sm-block"},[a("v-btn",{staticStyle:{width:"150px"},on:{click:e.OnClickLearnMore}},[e._v("Learn More")])],1)]),a("v-col",{staticStyle:{padding:"10px"},attrs:{cols:"12",sm:"6"}},[a("v-form",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.OnClickLogin.apply(null,arguments)}}},[a("v-container",[a("v-row",{staticStyle:{"margin-top":"12px","margin-bottom":"15px"}},[a("v-col",{staticStyle:{padding:"0px","margin-top":"0px","margin-bottom":"0px"},attrs:{cols:"10",sm:"10",offset:"1"}},[a("v-card-title",{staticClass:"headline",staticStyle:{padding:"0px",display:"flex"}},[a("img",{staticClass:"d-inline d-sm-none",staticStyle:{"max-width":"64px","border-radius":"10px","margin-right":"10px"},attrs:{src:n("3a8d")}}),a("div",{staticStyle:{flex:"1","word-break":"break-word"}},[a("span",{staticClass:"d-inline d-sm-none"},[e._v("Dispatch Pulse ")]),e._v("Login")])])],1)],1),a("v-row",{staticStyle:{"margin-top":"15px","margin-bottom":"20px"}},[a("v-col",{staticStyle:{padding:"0px","margin-top":"0px","margin-bottom":"0px"},attrs:{cols:"10",sm:"10",offset:"1"}},[a("v-text-field",{staticClass:"e2e-login-company-abbreviation",attrs:{disabled:!0,label:"Company Abbreviation","prepend-icon":"business",hint:'The short abbreviated name for your company. Example: "DP" for Dispatch Pulse',"persistent-hint":""},model:{value:e.companyAbbreviation,callback:function(t){e.companyAbbreviation=t},expression:"companyAbbreviation"}})],1)],1),a("v-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("v-col",{staticStyle:{padding:"0px","margin-top":"0px","margin-bottom":"0px"},attrs:{cols:"10",sm:"10",offset:"1"}},[a("v-text-field",{staticClass:"e2e-login-email",attrs:{label:"E-Mail Address","prepend-icon":"account_circle",type:"email"},model:{value:e.contactEMail,callback:function(t){e.contactEMail=t},expression:"contactEMail"}})],1)],1),a("v-row",{staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("v-col",{staticStyle:{padding:"0px","margin-top":"0px","margin-bottom":"0px"},attrs:{cols:"10",sm:"10",offset:"1"}},[a("v-text-field",{staticClass:"e2e-login-password",attrs:{label:"Password","prepend-icon":"lock_outline",type:"password"},model:{value:e.contactPassword,callback:function(t){e.contactPassword=t},expression:"contactPassword"}})],1)],1),a("v-row",[a("v-col",{staticStyle:{padding:"0px"},attrs:{cols:"10",offset:"1"}},[a("v-card-actions",[a("v-btn",{staticClass:"d-flex d-sm-none",staticStyle:{"min-width":"120px"},attrs:{color:"primary"},on:{click:e.OnClickSignUp}},[e._v("Sign Up")]),a("v-spacer"),a("v-btn",{staticClass:"e2e-login-submit-button",staticStyle:{"min-width":"120px"},attrs:{color:"primary"},on:{click:e.OnClickLogin}},[e._v(" Login ")])],1)],1)],1),a("v-row",{staticClass:"d-block d-sm-none"},[a("v-col",{staticStyle:{padding:"0px"},attrs:{cols:"10",offset:"1"}},[a("v-card-actions",[a("v-btn",{staticStyle:{"min-width":"120px","text-align":"center"},attrs:{text:""},on:{click:e.OnClickTryADemo}},[e._v("Try a Demo")]),a("v-spacer"),a("v-btn",{staticStyle:{"min-width":"120px","text-align":"center"},attrs:{text:""},on:{click:e.OnClickLearnMore}},[e._v("Learn More")])],1)],1)],1)],1)],1)],1)],1)],1)],1)},g=[],y=(n("498a"),function(e){return"undefined"===typeof e||(void 0===e||(null===e||(!(!e.length||0!==e.length)||!(!e.trim||""!==e.trim()))))}),C=(n("b0c0"),n("2f62")),j=n("1da1"),S=(n("96cf"),n("d3b7"),n("25f0"),n("e87a")),I=n("1315"),P=(n("ddb0"),n("2b3d"),function(e,t){var n=document.createElement("a");if(void 0!==n.download&&!window.Cypress){var a=new Blob([e],{type:"application/json"}),i=URL.createObjectURL(a);n.setAttribute("href",i),n.setAttribute("download",t),n.style.visibility="hidden",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}),O=function(){return ra.state.demoMode},k=(n("ac1f"),n("5319"),function(){var e=(new Date).getTime();window.performance&&"function"===typeof window.performance.now&&(e+=window.performance.now());var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:3&n|8).toString(16)}));return t}),D=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"AddNotification",value:function(e){e.id||(e.id=k()),e.timestamp||(e.timestamp=I["DateTime"].local()),void 0===e.autoClearInSeconds&&(e.autoClearInSeconds=-1),e.autoClearInSeconds>=0&&setTimeout((function(){ra.commit("ClearId",{id:e.id})}),1e3*e.autoClearInSeconds),ra.commit("AddNotification",e)}},{key:"ClearAllNotifications",value:function(){ra.commit("ClearAllNotifications",{})}},{key:"ClearIndex",value:function(e){ra.commit("ClearIndex",{index:e})}},{key:"ClearId",value:function(e){e&&!y(e)&&ra.commit("ClearId",{id:e})}}]),e}();window.DEBUG_Notifications=D;var _=function(){function e(){var t=this;Object(c["a"])(this,e),this.LatexTasks={},this.BackupTasks={},this.Requests={},this.apiRoot=null,this.connection=null,window.fetch("/env/API_ROOT").then((function(e){return e.text()})).then((function(e){console.log("API_ROOT",e),t.apiRoot=e,t.connection=(new S["a"]).withUrl("".concat(t.apiRoot,"/APIHub")).configureLogging(S["b"].Information).withAutomaticReconnect({nextRetryDelayInMilliseconds:function(e){if(e.elapsedMilliseconds<5184e6){var t=1e4*Math.random();return D.AddNotification({severity:"warning",message:"Disconnected. Waiting ".concat(Math.round(t/1e3*10)/10," seconds before reconnecting."),autoClearInSeconds:10}),t}return console.error("We've tried reconnecting for a day. Reload the app to try connecting again."),D.AddNotification({severity:"error",message:"We've tried reconnecting for a day. Reload the app to try connecting again."}),null}}).build(),t.Start(),t.connection.onreconnecting((function(){console.debug("onreconnecting")})),t.connection.onclose(Object(j["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.Start();case 2:case"end":return e.stop()}}),e)})))),t.connection.on("CreateBackupTaskCB",(function(e){return t.CreateBackupTaskCB(e)}))})).catch((function(e){console.error("error")}))}return Object(u["a"])(e,[{key:"Start",value:function(){var e=this;if(null==this.connection)return console.error("null == this.connection"),Promise.reject();var t=this.connection.start().then((function(){})).catch((function(t){var n="Unknown Error";t&&"Error"===t.toString()?n="Unable to connect to API. Retrying in 5 seconds...":t&&(n="API Connection Error: ".concat(t.toString())),D.AddNotification({severity:"warning",message:n,autoClearInSeconds:10}),setTimeout((function(){return e.Start()}),5e3)}));return t}},{key:"Connection",get:function(){return this.connection}},{key:"Ready",value:function(e){var t=this;null!=this.connection&&"Connected"===this.connection.state?e():setTimeout((function(){return t.Ready(e)}),500)}},{key:"CreateBackupTask",value:function(e){var t=this;return null==this.connection?(console.error("null == this.connection"),Promise.reject()):O()?Promise.resolve():e?(e.hasOwnProperty("sessionId")||(e.sessionId=ra.state.Sessions.sessionId),e.hasOwnProperty("tzIANA")||(e.tzIANA=I["DateTime"].local().zoneName),this.connection.invoke("CreateBackupTask",e).then((function(){})).catch((function(e){var n;return console.error("CreateBackupTask Network Error",null===(n=t.connection)||void 0===n?void 0:n.state,e.toString())}))):(console.error("!payload"),Promise.reject("!payload"))}},{key:"CreateBackupTaskCB",value:function(e){if(!O()){console.debug("CreateBackupTaskCB",e);var t=JSON.stringify(e.backupContent,null,"\t");P(t,"".concat(e.id,".json"))}}}]),e}(),w=new _,x=w,R=n("45eb"),M=n("7e84"),A=function(){localStorage.removeItem("SessionUUID"),ra.commit("reset"),window.location.reload()},T=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,[{key:"GetServerMethodName",value:function(){return null}},{key:"GetClientCallbackMethodName",value:function(){return null}},{key:"Send",value:function(e){var t=this.GetServerMethodName();window.DEBUG_PRINT_REQUESTS&&console.debug("$RPC Send: ".concat(t),e),e.hasOwnProperty("roundTripRequestId")||(e.roundTripRequestId=k());var n={roundTripRequestId:e.roundTripRequestId,outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};return!t||y(t)?(n.outboundRequestPromise=Promise.reject(new Error("No Server Method Name!")),n.completeRequestPromise=Promise.reject(new Error("No Server Method Name!")),n):null==x.Connection?(n.outboundRequestPromise=Promise.reject(new Error("Not connected!")),n.completeRequestPromise=Promise.reject(new Error("Not connected!")),n):O()?(n.outboundRequestPromise=Promise.resolve(),n.completeRequestPromise=Promise.resolve(),n):(e.hasOwnProperty("idempotencyToken")||(e.idempotencyToken=k()),n.outboundRequestPromise=x.Connection.invoke(t,e),n.completeRequestPromise=new Promise((function(e,t){n._completeRequestPromiseResolve=e,n._completeRequestPromiseReject=t})),n.outboundRequestPromise.catch((function(e){D.AddNotification({severity:"error",message:e.message,autoClearInSeconds:10})})),n.outboundRequestPromise.then((function(){})),n.outboundRequestPromise.catch((function(e){var a;console.error("".concat(t," Network Error"),null===(a=x.Connection)||void 0===a?void 0:a.state,e.toString()),n&&n._completeRequestPromiseReject&&n._completeRequestPromiseReject(e)})),n.completeRequestPromise.catch((function(e){throw D.AddNotification({severity:"error",message:e.message,autoClearInSeconds:10}),e})),x.Requests[n.roundTripRequestId]=n,n)}},{key:"RecieveDefaultAction",value:function(e,t){return!1}},{key:"Recieve",value:function(e){var t=this.GetClientCallbackMethodName();if(window.DEBUG_PRINT_REQUESTS&&console.debug("$RPC Recieve: ".concat(t),e),!O())if(e.forceLogout)A();else{var n=x.Requests[e.roundTripRequestId];e.isError?n&&n._completeRequestPromiseReject&&n._completeRequestPromiseReject(new Error("Error: ".concat(e.errorMessage))):this.RecieveDefaultAction&&!1===this.RecieveDefaultAction(n,e)||(n&&n._completeRequestPromiseResolve&&n._completeRequestPromiseResolve(e),delete x.Requests[e.roundTripRequestId])}}}],[{key:"Register",value:function(e){var t=this;if(void 0===x||null==x.Connection)return setTimeout((function(){return t.Register(e)}),500),e;var n=e.GetClientCallbackMethodName();return!n||y(n)?(console.error("!callbackMethodName || IsNullOrEmpty(callbackMethodName)"),e):(x.Connection.on(n,(function(t){return e.Recieve(t)})),e)}}]),e}(),V=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestGroupGeneral"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestGroupGeneralCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.assignmentStatus?t.agentsEmploymentStatus?t.estimatingManHours?t.labourSubtypeHolidays?t.labourSubtypeException?t.labourSubtypeNonBillable?t.labourTypes?t.projectStatus?t.settingsDefault?t.settingsProvisioning?t.settingsUser?(ra.commit("UpdateAssignmentStatusRemote",t.assignmentStatus),ra.commit("UpdateAgentsEmploymentStatusRemote",t.agentsEmploymentStatus),ra.commit("UpdateEstimatingManHoursRemote",t.estimatingManHours),ra.commit("UpdateLabourSubtypeHolidaysRemote",t.labourSubtypeHolidays),ra.commit("UpdateLabourSubtypeExceptionRemote",t.labourSubtypeException),ra.commit("UpdateLabourSubtypeNonBillableRemote",t.labourSubtypeNonBillable),ra.commit("UpdateLabourTypesRemote",t.labourTypes),ra.commit("UpdateProjectStatusRemote",t.projectStatus),ra.commit("UpdateSettingsDefaultRemote",t.settingsDefault),ra.commit("UpdateSettingsProvisioningRemote",t.settingsProvisioning),ra.commit("UpdateSettingsUserRemote",t.settingsUser),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve settings user.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve settings provisioning.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve settings default.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve project status.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve labour types.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve labour subtype non-billable.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve labour subtype exception.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve labour subtype holidays.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve man hours.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve employment status.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "general", didn\'t recieve assignment status.')),!1)}}]),n}(T),B=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestGroupViewDashboard"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestGroupViewDashboardCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.agents?t.assignments?t.labour?t.projects?(ra.commit("UpdateAgentsRemote",t.agents),ra.commit("UpdateAssignmentsRemote",t.assignments),ra.commit("UpdateLabourRemote",t.labour),ra.commit("UpdateProjectsRemote",t.projects),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "dashboard", didn\'t recieve projects.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "dashboard", didn\'t recieve labour.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "dashboard", didn\'t recieve assignments.')),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error('Error requesting group "dashboard", didn\'t recieve agents.')),!1)}}]),n}(T),L=function e(){Object(c["a"])(this,e)};L.RequestGroupGeneral=T.Register(new V),L.RequestGroupViewDashboard=T.Register(new B);var N=n("ade3"),E=n("2ef0"),F=n.n(E),q=function(e,t){if(!e)return null;if(void 0===t)return console.error("CaseInsensitivePropertyGet key === undefined"),null;if(null===t)return console.error("CaseInsensitivePropertyGet key === null"),null;if(!t.toLowerCase)return console.error("CaseInsensitivePropertyGet !key.toLowerCase, supplied key doesn't appear to be a string?",t),null;var n=Object.keys(e).find((function(e){return e.toLowerCase?e.toLowerCase()===t.toLowerCase():(console.warn("iterating keys, found one that doesn't appear to be a string, saying it doesn't match",e),!1)}))||null;return n?e[n]:null},G=n("b85c"),$=(n("4de4"),n("07ac"),n("3835")),U=(n("4fad"),function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingPermissionsGroupsMembershipsForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingPermissionsGroupsMembershipsForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingPermissionsGroupsMemberships)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting permissions groups memberships #2.")),!1;var n,a={},i=Object(G["a"])(t.billingPermissionsGroupsMemberships);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.id]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingPermissionsGroupsMembershipsRemote",a),!0}}]),n}(T)),H=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformBillingPermissionsGroupsMembershipsAdd"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformBillingPermissionsGroupsMembershipsAddCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!t.isError||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error adding group membership: ".concat(t.errorMessage))),!1)}}]),n}(T),W=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformBillingPermissionsGroupsMembershipsRemove"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformBillingPermissionsGroupsMembershipsRemoveCB"}},{key:"RecieveDefaultAction",value:function(e,t){var n,a=[],i=Object(G["a"])(t.removed);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(o)}}catch(s){i.e(s)}finally{i.f()}return ra.commit("DeleteBillingPermissionsGroupsMembershipsRemote",a),!0}}]),n}(T),K=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,groupId:"",contactId:"",json:{}};return t}},{key:"All",value:function(){var e=ra.state.Database.billingPermissionsGroupsMemberships;return e&&0!==Object.keys(e).length?e:null}},{key:"ForId",value:function(e){if(!e)return null;var t=this.All();if(!t||0===Object.keys(t).length)return null;var n=t[e];return status&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"ForBillingContactId",value:function(e){var t=this.All();if(null===t)return{};for(var n={},a=0,i=Object.entries(t);a<i.length;a++){var o=Object($["a"])(i[a],2),s=o[0],r=o[1];r.contactId===e&&(n[s]=r)}return n}},{key:"ValidateObject",value:function(e){return e}},{key:"PerformAddMemberships",value:function(t,n){return e.PerformBillingPermissionsGroupsMembershipsAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:t,permissionsGroupIds:n})}},{key:"PerformRemoveMemberships",value:function(t,n){return e.PerformBillingPermissionsGroupsMembershipsRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:t,permissionsGroupIds:n})}},{key:"PermBillingPermissionsGroupsMembershipsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.permissions-groups-memberships.read-any")||-1!==e.indexOf("billing.permissions-groups-memberships.read-company");return t}}]),e}();K.RequestBillingPermissionsGroupsMembershipsForCurrentSession=T.Register(new U),K.PerformBillingPermissionsGroupsMembershipsAdd=T.Register(new H),K.PerformBillingPermissionsGroupsMembershipsRemove=T.Register(new W);var z=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingPermissionsBoolForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingPermissionsBoolForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingPermissionsBool)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting permissions #2.")),!1;var n,a={},i=Object(G["a"])(t.billingPermissionsBool);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingPermissionsBoolRemote",a),!0}}]),n}(T),J=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformBillingPermissionsBoolAdd"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformBillingPermissionsBoolAddCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),Y=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformBillingPermissionsBoolRemove"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformBillingPermissionsBoolRemoveCB"}},{key:"RecieveDefaultAction",value:function(e,t){var n,a=[],i=Object(G["a"])(t.removed);try{for(i.s();!(n=i.n()).done;){var o=n.value;a.push(o)}}catch(s){i.e(s)}finally{i.f()}return ra.commit("DeleteBillingPermissionsBoolRemote",a),!0}}]),n}(T),Q=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,key:"",value:!1,contactId:null,groupId:null,json:{}};return t}},{key:"HasAnyPermissions",value:function(){var t=e.All();return!!t&&0!==Object.keys(t).length}},{key:"Ready",value:function(t){var n=this;0!==e.AllForBillingContactId().length?t():setTimeout((function(){return n.Ready(t)}),500)}},{key:"AllForBillingContactId",value:function(){var t=he.CurrentBillingContactId();if(!t)return[];var n=e.KeysForBillingContactIdAmalgamated(t);return n}},{key:"All",value:function(){var e=ra.state.Database.billingPermissionsBool;return e&&0!==Object.keys(e).length?e:null}},{key:"ForId",value:function(e){if(!e)return null;var t=this.All();if(!t||0===Object.keys(t).length)return null;var n=t[e];return status&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"ForGroupIds",value:function(e){return F.a.filter(this.All(),(function(t){return null!==t.groupId&&-1!==e.indexOf(t.groupId)}))}},{key:"ForBillingContactId",value:function(e){return F.a.filter(this.All(),(function(t){return null!==t.contactId&&t.contactId===e}))}},{key:"KeysForBillingContactIdAmalgamated",value:function(t){var n,a=[],i=e.ForBillingContactId(t),o=Object(G["a"])(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;!0===s.value&&-1===a.indexOf(s.key)&&a.push(s.key)}}catch(h){o.e(h)}finally{o.f()}for(var r=K.ForBillingContactId(t),l=[],c=0,u=Object.values(r);c<u.length;c++){var d=u[c];l.push(d.groupId)}var m,v=e.ForGroupIds(l),p=Object(G["a"])(v);try{for(p.s();!(m=p.n()).done;){var f=m.value;!0===f.value&&-1===a.indexOf(f.key)&&a.push(f.key)}}catch(h){p.e(h)}finally{p.f()}return a}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingPermissionsBoolCanRequest",value:function(){if(O())return!0;var t=e.AllForBillingContactId(),n=-1!==t.indexOf("billing.permissions-bool.read-any")||-1!==t.indexOf("billing.permissions-bool.read-company")||-1!==t.indexOf("billing.permissions-bool.read-self");return n}}]),e}();Q.RequestBillingPermissionsBoolForCurrentSession=T.Register(new z),Q.PerformBillingPermissionsBoolAdd=T.Register(new J),Q.PerformBillingPermissionsBoolRemove=T.Register(new Y),window.DEBUG_BillingPermissionsBool=Q;var X=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionAgentId"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionAgentIdCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error updating session agent id #2.")),!1)}}]),n}(T),Z=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionContactId"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionContactIdCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving session contact id #2.")),!1)}}]),n}(T),ee=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionEMail"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionEMailCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving email #2.")),!1)}}]),n}(T),te=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionEMailListMarketing"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionEMailListMarketingCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving email list marketing #2.")),!1)}}]),n}(T),ne=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionEMailListTutorials"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionEMailListTutorialsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving email list tutorials #2.")),!1)}}]),n}(T),ae=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionMarketingCampaign"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionMarketingCampaignCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving marketing campaign #2.")),!1)}}]),n}(T),ie=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionName"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionNameCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving session name #2.")),!1)}}]),n}(T),oe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushBillingSessionPhone"}},{key:"GetClientCallbackMethodName",value:function(){return"PushBillingSessionPhoneCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving phone number #2.")),!1)}}]),n}(T),se=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingSessionsForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingSessionsForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingSessions)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting sessions #2.")),!1;var n,a={},i=Object(G["a"])(t.billingSessions);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingSessionsRemote",a),!0}}]),n}(T),re=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformCreateBillingSessionForCredentials"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformCreateBillingSessionForCredentialsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.sessionId&&!y(t.sessionId)&&(ra.commit("SetSession",t.sessionId),localStorage.setItem("SessionUUID",t.sessionId)),!0}}]),n}(T),le=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformLogOutSession"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformLogOutSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.loggedOut&&A(),!0}}]),n}(T),ce=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,contactId:"",agentDescription:"",ipAddress:null,createdUtc:"",lastAccessUtc:"",json:{}};return t}},{key:"CurrentSessionId",value:function(){return ra.state.Sessions.sessionId}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingSessionsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.sessions.read-any")||-1!==e.indexOf("billing.sessions.read-company")||-1!==e.indexOf("billing.sessions.read-self");return t}}]),e}();ce.PushBillingSessionAgentId=T.Register(new X),ce.PushBillingSessionContactId=T.Register(new Z),ce.PushBillingSessionEMail=T.Register(new ee),ce.PushBillingSessionEMailListMarketing=T.Register(new te),ce.PushBillingSessionEMailListTutorials=T.Register(new ne),ce.PushBillingSessionMarketingCampaign=T.Register(new ae),ce.PushBillingSessionName=T.Register(new ie),ce.PushBillingSessionPhone=T.Register(new oe),ce.RequestBillingSessionsForCurrentSession=T.Register(new se),ce.PerformCreateBillingSessionForCredentials=T.Register(new re),ce.PerformLogOutSession=T.Register(new le),window.DEBUG_BillingSessions=ce;var ue=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingContactsForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingContactsForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingContacts)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting billing contacts #2.")),!1;var n,a={},i=Object(G["a"])(t.billingContacts);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingContactsRemote",a),!0}}]),n}(T),de=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformChangeSessionPassword"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformChangeSessionPasswordCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),me=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformDeleteBillingContact"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformDeleteBillingContactCB"}},{key:"RecieveDefaultAction",value:function(e,t){return ra.commit("DeleteBillingContactsRemote",t.billingContactsDelete),!0}}]),n}(T),ve=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformRegisterAdditionalUsers"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformRegisterAdditionalUsersCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.isError?(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering additional users: ".concat(t.errorMessage))),!1):!!t.hasOwnProperty("created")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering additional users #2.")),!1)}}]),n}(T),pe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformRegisterMainUser"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformRegisterMainUserCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering main user #2.")),!1)}}]),n}(T),fe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformUpdateBillingContactDetails"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformUpdateBillingContactDetailsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),he=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={fullName:null,email:null,emailListMarketing:null,emailListTutorials:null,marketingCampaign:null,phone:null,uuid:e,companyId:null,applicationData:{},json:{}};return t}},{key:"All",value:function(){var e=ra.state.Database.billingContacts;return e&&0!==Object.keys(e).length?e:null}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.billingContacts;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"DeleteId",value:function(t){return t?e.PerformDeleteBillingContact.Send({sessionId:ce.CurrentSessionId(),billingContacts:[t]}):null}},{key:"Add",value:function(t){if(!t)return null;var n={sessionId:ce.CurrentSessionId(),billingContacts:Object(N["a"])({},t.uuid,t)};return console.debug("BillingContacts.Add",n),e.PerformUpdateBillingContactDetails.Send(n)}},{key:"CurrentBillingContactId",value:function(){var e=ce.CurrentSessionId();if(!e||y(e))return null;var t=ra.state.Database.billingSessions;if(!t)return null;var n=t[e];if(!n)return null;var a=n.contactId;return!a||y(a)?null:a}},{key:"ForCurrentSession",value:function(){return e.ForId(e.CurrentBillingContactId())}},{key:"EMailForCurrentSession",value:function(){var t=e.ForCurrentSession();return t?!t.email||y(t.email)?null:t.email:null}},{key:"NameForCurrentSession",value:function(){var t=e.ForCurrentSession();return t?!t.fullName||y(t.fullName)?null:t.fullName:null}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingContactsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.contacts.read-any")||-1!==e.indexOf("billing.contacts.read-company")||-1!==e.indexOf("billing.contacts.read-self");return t}},{key:"PermCRMCanModifySelf",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.contacts.modify-any")||-1!==e.indexOf("billing.contacts.modify-self")||-1!==e.indexOf("billing.contacts.modify-company");return t}},{key:"PermBillingContactsCanModify",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.contacts.modify-any")||-1!==e.indexOf("billing.contacts.modify-company");return t}}]),e}();he.RequestBillingContactsForCurrentSession=T.Register(new ue),he.PerformChangeSessionPassword=T.Register(new de),he.PerformDeleteBillingContact=T.Register(new me),he.PerformRegisterAdditionalUsers=T.Register(new ve),he.PerformRegisterMainUser=T.Register(new pe),he.PerformUpdateBillingContactDetails=T.Register(new fe),window.DEBUG_BillingContacts=he;var be={state:{sessionId:""},getters:{SessionId:function(e){return e.sessionId}},mutations:{SetSession:function(e,t){e.sessionId=t,x.Ready((function(){if(!O()){var e=he.RequestBillingContactsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});e.completeRequestPromise&&e.completeRequestPromise.catch((function(e){console.error("SetSession>RequestBillingContactsForCurrentSession error",e),A()}));var t=ce.RequestBillingSessionsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});t.completeRequestPromise&&t.completeRequestPromise.catch((function(e){console.error("SetSession>RequestBillingSessionsForCurrentSession error",e),A()})),L.RequestGroupGeneral.Send({sessionId:ce.CurrentSessionId()})}}))}},actions:{DestroySession:function(){ce.PerformLogOutSession.Send({sessionId:ce.CurrentSessionId()})}}},ge=(n("c740"),n("a434"),function(){var e=ra.state.Database.projectStatus;if(!e)return null;var t=F.a.find(e,(function(e){return!0===e.json.isNewProjectStatus}));return t&&t.id?t.id:null}),ye=function(e){if(!e)return null;var t=I["DateTime"].fromISO(e);return t.toLocaleString(I["DateTime"].DATE_MED)},Ce=function(e){if(!e)return null;var t=I["DateTime"].fromISO(e);return t.toLocaleString(I["DateTime"].DATETIME_MED)},je=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestAgents"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestAgentsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.agents?(ra.commit("UpdateAgentsRemote",t.agents),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting agents #2.")),!1)}}]),n}(T),Se=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteAgents"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteAgentsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.agentsDelete&&t.agentsDelete.length>0&&ra.commit("DeleteAgentsRemote",t.agentsDelete),!0}}]),n}(T),Ie=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushAgents"}},{key:"GetClientCallbackMethodName",value:function(){return"PushAgentsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.agents||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying agents #2.")),!1)}}]),n}(T),Pe=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestAgents.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:"",lastModifiedISO8601:I["DateTime"].utc().toISO(),lastModifiedBillingId:null,title:"",employmentStatusId:null,hourlyWage:null,notificationSMSNumber:null,phoneId:null,phonePasscode:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.agents;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateAgents",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteAgents",e)}},{key:"FetchLoggedInAgent",value:function(){var t=e.LoggedInAgentId();return t?e.FetchForId(t):null}},{key:"LoggedInAgentId",value:function(){var e=ce.CurrentSessionId();if(!e||y(e))return null;var t=ra.state.Database.billingSessions;if(!t)return null;var n=t[e];if(!n)return null;var a=n.contactId;if(!a||y(a))return null;var i=ra.state.Database.billingContacts;if(!i)return null;var o=i[a];if(!o)return null;var s=o.applicationData;if(!s)return null;var r=s.dispatchPulseAgentId;return!r||y(r)?null:r}},{key:"DescriptionForAgentList",value:function(e){for(var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="",a=0;a<e.length;a++)0!==a&&(n+=", "),0!==a&&a===e.length-1&&(n+=" and "),n+=y(e[a].json.name)?"No Name":e[a].json.name;return t&&(n+="."),n}},{key:"ForAssignmentId",value:function(t){var n=Ze.ForId(t);if(!n)return[];if(!n||!n.json||!n.json.agentIds)return[];var a,i=[],o=Object(G["a"])(n.json.agentIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(s){var r=e.ForId(s);r&&i.push(r)}}}catch(l){o.e(l)}finally{o.f()}return i}},{key:"ForLoggedInAgent",value:function(){var t=e.LoggedInAgentId();return!t||y(t)?null:e.ForId(t)}},{key:"NameForId",value:function(t){var n=e.ForId(t);return n?n.json.name:null}},{key:"ValidateObject",value:function(e){return e}},{key:"PermAgentDisplayOwn",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.agents.display-own");return t}},{key:"PermAgentsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.agents.request-any")||-1!==e.indexOf("crm.agents.request-company");return t}},{key:"PermAgentsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.agents.push-any")||-1!==e.indexOf("crm.agents.push-company");return t}},{key:"PermAgentsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.agents.delete-any")||-1!==e.indexOf("crm.agents.delete-company");return t}},{key:"PermCRMExportAgentsCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.agents-csv");return t}}]),e}();Pe.RequestAgents=T.Register(new je),Pe.DeleteAgents=T.Register(new Se),Pe.PushAgents=T.Register(new Ie),Pe._RefreshTracker={},window.DEBUG_AGENT=Pe;n("99af");var Oe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestLabourTypes"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestLabourTypesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourTypes?(ra.commit("UpdateLabourTypesRemote",t.labourTypes),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting labour types #2.")),!1)}}]),n}(T),ke=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteLabourTypes"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteLabourTypesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourTypesDelete&&t.labourTypesDelete.length>0&&ra.commit("DeleteLabourTypesRemote",t.labourTypesDelete),!0}}]),n}(T),De=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushLabourTypes"}},{key:"GetClientCallbackMethodName",value:function(){return"PushLabourTypesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.labourTypes||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying labour types #2.")),!1)}}]),n}(T),_e=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestLabourTypes.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:null,icon:null,description:null,default:!1,isBillable:!1,isHoliday:!1,isNonBillable:!1,isException:!1,isPayOutBanked:!1,lastModifiedBillingId:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"DefaultBillableTypeId",value:function(){var e=ra.state.Database.labourTypes;if(!e||0===Object.keys(e).length)return null;var t=F.a.filter(e,(function(e){return!0===e.json.isBillable}));if(0===t.length)return null;if(1===t.length)return t[0].id||null;if(t.length>1){var n=F.a.filter(t,(function(e){return!0===e.json.default}));return 0===n.length?t[0].id||null:n[0].id||null}return null}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.labourTypes;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateLabourTypes",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteLabourTypes",e)}},{key:"All",value:function(){var e=ra.state.Database.labourTypes,t=F.a.filter(e,(function(e){return!0})),n=F.a.sortBy(t,(function(e){return e.json.name}));return n}},{key:"NameForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourTypes,n=t[e];return n||(n=q(t,e)),n.json.name}catch(a){return null}}},{key:"IsPayOutBankedForId",value:function(e){try{if(null==e)return!1;var t=ra.state.Database.labourTypes,n=t[e];return n||(n=q(t,e)),n.json.isPayOutBanked}catch(a){return!1}}},{key:"IsNonBillableForId",value:function(e){try{if(null==e)return!1;var t=ra.state.Database.labourTypes,n=t[e];return n||(n=q(t,e)),n.json.isNonBillable}catch(a){return!1}}},{key:"IsHolidayForId",value:function(e){try{if(null==e)return!1;var t=ra.state.Database.labourTypes,n=t[e];return n||(n=q(t,e)),n.json.isHoliday}catch(a){return!1}}},{key:"IsExceptionForId",value:function(e){try{if(null==e)return!1;var t=ra.state.Database.labourTypes,n=t[e];return n||(n=q(t,e)),n.json.isException}catch(a){return!1}}},{key:"IsBillableForId",value:function(e){try{if(null==e)return!1;var t=ra.state.Database.labourTypes,n=t[e];return n||(n=q(t,e)),n.json.isBillable}catch(a){return!1}}},{key:"IconForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourTypes,n=t[e];return n||(n=q(t,e)),n.json.icon}catch(a){return null}}},{key:"ValidateObject",value:function(e){return e}},{key:"PermLabourTypesCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-types.request-any")||-1!==e.indexOf("crm.labour-types.request-company");return t}},{key:"PermLabourTypesCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-types.push-any")||-1!==e.indexOf("crm.labour-types.push-company");return t}},{key:"PermLabourTypesCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-types.delete-any")||-1!==e.indexOf("crm.labour-types.delete-company");return t}}]),e}();_e.RequestLabourTypes=T.Register(new Oe),_e.DeleteLabourTypes=T.Register(new ke),_e.PushLabourTypes=T.Register(new De),_e._RefreshTracker={};var we=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestLabourSubtypeException"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestLabourSubtypeExceptionCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourSubtypeException?(ra.commit("UpdateLabourSubtypeExceptionRemote",t.labourSubtypeException),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting labour subtype exception #2.")),!1)}}]),n}(T),xe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteLabourSubtypeException"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteLabourSubtypeExceptionCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourSubtypeExceptionDelete&&t.labourSubtypeExceptionDelete.length>0&&ra.commit("DeleteLabourSubtypeHolidaysRemote",t.labourSubtypeExceptionDelete),!0}}]),n}(T),Re=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushLabourSubtypeException"}},{key:"GetClientCallbackMethodName",value:function(){return"PushLabourSubtypeExceptionCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.labourSubtypeException||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying labour subtype exception #2.")),!1)}}]),n}(T),Me=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestLabourSubtypeException.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:"",description:null,icon:null,lastModifiedBillingId:null,lastModifiedISO8601:I["DateTime"].utc().toISO()},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.labourSubtypeException;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateLabourSubtypeException",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteLabourSubtypeException",e)}},{key:"All",value:function(){var e=ra.state.Database.labourSubtypeException,t=F.a.filter(e,(function(e){return!0})),n=F.a.sortBy(t,(function(e){return e.json.name}));return n}},{key:"NameForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourSubtypeException,n=t[e];return n||(n=q(t,e)),n.json.name}catch(a){return null}}},{key:"IconForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourSubtypeException,n=t[e];return n||(n=q(t,e)),n.json.icon}catch(a){return null}}},{key:"ValidateObject",value:function(e){return e}},{key:"PermLabourSubtypeExceptionCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-exception.push-any")||-1!==e.indexOf("crm.labour-subtype-exception.push-company");return t}},{key:"PermLabourSubtypeExceptionCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-exception.request-any")||-1!==e.indexOf("crm.labour-subtype-exception.request-company")||-1!==e.indexOf("crm.labour-subtype-exception.request-self");return t}},{key:"PermLabourSubtypeExceptionCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-exception.delete-any")||-1!==e.indexOf("crm.labour-subtype-exception.delete-company");return t}},{key:"PermCRMExportLabourExceptionCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.labour-exception-definitions-csv");return t}}]),e}();Me.RequestLabourSubtypeException=T.Register(new we),Me.DeleteLabourSubtypeException=T.Register(new xe),Me.PushLabourSubtypeException=T.Register(new Re),Me._RefreshTracker={};var Ae=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestLabourSubtypeHolidays"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestLabourSubtypeHolidaysCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourSubtypeHolidays?(ra.commit("UpdateLabourSubtypeHolidaysRemote",t.labourSubtypeHolidays),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting labour subtype holidays")),!1)}}]),n}(T),Te=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteLabourSubtypeHolidays"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteLabourSubtypeHolidaysCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourSubtypeHolidaysDelete&&t.labourSubtypeHolidaysDelete.length>0&&ra.commit("DeleteLabourSubtypeHolidaysRemote",t.labourSubtypeHolidaysDelete),!0}}]),n}(T),Ve=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushLabourSubtypeHolidays"}},{key:"GetClientCallbackMethodName",value:function(){return"PushLabourSubtypeHolidaysCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.labourSubtypeHolidays||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying labour subtype holidays")),!1)}}]),n}(T),Be=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestLabourSubtypeHolidays.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:"",description:null,icon:null,isStaticDate:!1,staticDateMonth:null,staticDateDay:null,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null,lastModifiedBillingId:null,lastModifiedISO8601:I["DateTime"].utc().toISO()},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.labourSubtypeHolidays;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateLabourSubtypeHolidays",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteLabourSubtypeHolidays",e)}},{key:"All",value:function(){var e=ra.state.Database.labourSubtypeHolidays,t=F.a.filter(e,(function(e){return!0})),n=F.a.sortBy(t,(function(e){return e.json.name}));return n}},{key:"NameForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourSubtypeHolidays,n=t[e];return n||(n=q(t,e)),n.json.name}catch(a){return null}}},{key:"IconForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourSubtypeHolidays,n=t[e];n||(n=q(t,e));var a=n.json.icon;return a}catch(i){return null}}},{key:"ValidateObject",value:function(e){return e}},{key:"PermLabourSubtypeHolidayCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-holidays.push-any")||-1!==e.indexOf("crm.labour-subtype-holidays.push-company");return t}},{key:"PermLabourSubtypeHolidayCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-holidays.request-any")||-1!==e.indexOf("crm.labour-subtype-holidays.request-company")||-1!==e.indexOf("crm.labour-subtype-holidays.request-self");return t}},{key:"PermLabourSubtypeHolidayCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-holidays.delete-any")||-1!==e.indexOf("crm.labour-subtype-holidays.delete-company");return t}},{key:"PermCRMExportLabourSubtypeHolidayCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.labour-holidays-definitions-csv");return t}}]),e}();Be.RequestLabourSubtypeHolidays=T.Register(new Ae),Be.DeleteLabourSubtypeHolidays=T.Register(new Te),Be.PushLabourSubtypeHolidays=T.Register(new Ve),Be._RefreshTracker={},window.DEBUG_LabourSubtypeHoliday=Be;var Le=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestLabourSubtypeNonBillable"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestLabourSubtypeNonBillableCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourSubtypeNonBillable?(ra.commit("UpdateLabourSubtypeNonBillableRemote",t.labourSubtypeNonBillable),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting labour subtype non-billable #2.")),!1)}}]),n}(T),Ne=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteLabourSubtypeNonBillable"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteLabourSubtypeNonBillableCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourSubtypeNonBillableDelete&&t.labourSubtypeNonBillableDelete.length>0&&ra.commit("DeleteLabourSubtypeNonBillableRemote",t.labourSubtypeNonBillableDelete),!0}}]),n}(T),Ee=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushLabourSubtypeNonBillable"}},{key:"GetClientCallbackMethodName",value:function(){return"PushLabourSubtypeNonBillableCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.labourSubtypeNonBillable||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modify labour subtype non-billable #2.")),!1)}}]),n}(T),Fe=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestLabourSubtypeNonBillable.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:"",description:null,icon:null,lastModifiedBillingId:null,lastModifiedISO8601:I["DateTime"].utc().toISO()},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.labourSubtypeNonBillable;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateLabourSubtypeNonBillable",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteLabourSubtypeNonBillable",e)}},{key:"All",value:function(){var e=ra.state.Database.labourSubtypeNonBillable,t=F.a.filter(e,(function(e){return!0})),n=F.a.sortBy(t,(function(e){return e.json.name}));return n}},{key:"NameForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourSubtypeNonBillable,n=t[e];return n||(n=q(t,e)),n.json.name}catch(a){return null}}},{key:"IconForId",value:function(e){try{if(null==e)return null;var t=ra.state.Database.labourSubtypeNonBillable,n=t[e];n||(n=q(t,e));var a=n.json.icon;return a}catch(i){return null}}},{key:"ValidateObject",value:function(e){return e}},{key:"PermLabourSubtypeNonBillableCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-non-billable.push-any")||-1!==e.indexOf("crm.labour-subtype-non-billable.push-company");return t}},{key:"PermLabourSubtypeNonBillableCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-non-billable.request-any")||-1!==e.indexOf("crm.labour-subtype-non-billable.request-company")||-1!==e.indexOf("crm.labour-subtype-non-billable.request-self");return t}},{key:"PermLabourSubtypeNonBillableCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour-subtype-non-billable.delete-any")||-1!==e.indexOf("crm.labour-subtype-non-billable.delete-company");return t}},{key:"PermCRMExportLabourSubtypeNonBillableCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.labour-non-billable-definitions-csv");return t}}]),e}();Fe.RequestLabourSubtypeNonBillable=T.Register(new Le),Fe.DeleteLabourSubtypeNonBillable=T.Register(new Ne),Fe.PushLabourSubtypeNonBillable=T.Register(new Ee),Fe._RefreshTracker={};var qe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestLabour"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestLabourCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labour?(ra.commit("UpdateLabourRemote",t.labour),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting labour #2.")),!1)}}]),n}(T),Ge=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteLabour"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteLabourCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.labourDelete&&t.labourDelete.length>0&&ra.commit("DeleteLabourRemote",t.labourDelete),!0}}]),n}(T),$e=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushLabour"}},{key:"GetClientCallbackMethodName",value:function(){return"PushLabourCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.labour||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying labour #2.")),!1)}}]),n}(T),Ue=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestLabour.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,lastModifiedISO8601:"",lastModifiedBillingId:"",projectId:null,agentId:null,assignmentId:null,typeId:null,timeMode:null,hours:null,startISO8601:null,endISO8601:null,isActive:!1,locationType:"none",isExtra:null,isBilled:null,isPaidOut:null,notes:null,bankedPayOutAmount:null,exceptionTypeId:null,holidayTypeId:null,nonBillableTypeId:null,isEnteredThroughTelephoneCompanyAccess:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.labour;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"DeleteIds",value:function(e){ra.commit("DeleteLabour",e)}},{key:"UpdateIds",value:function(e){ra.commit("UpdateLabour",e)}},{key:"ForProjectIds",value:function(e){var t=ra.state.Database.labour;if(!t)return[];var n=F.a.filter(t,(function(t){var n=t.json.projectId;return!!F.a.find(e,(function(e){return e===n}))}));return n}},{key:"ForAssignmentIds",value:function(e){var t=ra.state.Database.labour;if(!t)return[];var n=F.a.filter(t,(function(t){var n=t.json.assignmentId;return!!F.a.find(e,(function(e){return e===n}))}));return n}},{key:"DescriptionForId",value:function(t){if(null==t)return null;var n=e.ForId(t);if(!n)return null;var a=n.json.typeId;if(!a)return null;var i=_e.ForId(a);if(!i)return null;var o="";if(i.json.isBillable){o+="Billable: ";var s=n.json.projectId;if(s){var r=ze.ForId(s);r?(o+=ze.CombinedDescriptionForId(s),o+=" "):o+="No project. "}else o+="No project. "}else if(i.json.isException){o+="Exception:";var l=n.json.exceptionTypeId;if(l){var c=Me.ForId(l);o+=c?"".concat(c.json.name," "):"Unknown "}else o+="Unknown "}else if(i.json.isHoliday){o+="Holiday:";var u=n.json.holidayTypeId;if(u){var d=Be.ForId(u);o+=d?"".concat(d.json.name," "):"Unknown "}else o+="Unknown "}else if(i.json.isNonBillable){o+="Non Billable:";var m=n.json.nonBillableTypeId;if(m){var v=Fe.ForId(m);o+=v?"".concat(v.json.name," "):"Unknown "}else o+="Unknown "}else i.json.isPayOutBanked&&(o+="Pay Out Banked: ${labour.json.bankedPayOutAmount}");switch(n.json.timeMode){case"none":default:o+="No Time. ";break;case"date-and-hours":o+="".concat(n.json.hours," hours.");break;case"start-stop-timestamp":o+="Start: ".concat(n.json.startISO8601," End: ").concat(n.json.endISO8601," ");break}return o}},{key:"IsExtraForId",value:function(t){if(null==t)return!1;var n=e.ForId(t);if(!n)return!1;var a=ze.ForId(n.json.projectId);return!!a&&(!!a.json.forceLabourAsExtra||(n.json.isExtra||!1))}},{key:"ValidateObject",value:function(e){return e}},{key:"PermCRMLabourManualEntries",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour.manual-entries");return t}},{key:"PermLabourCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour.push-any")||-1!==e.indexOf("crm.labour.push-company");return t}},{key:"PermLabourCanPushSelf",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour.push-any")||-1!==e.indexOf("crm.labour.push-company")||-1!==e.indexOf("crm.labour.push-self");return t}},{key:"PermLabourCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour.request-any")||-1!==e.indexOf("crm.labour.request-company")||-1!==e.indexOf("crm.labour.request-self");return t}},{key:"PermLabourCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.labour.delete-any")||-1!==e.indexOf("crm.labour.delete-company");return t}},{key:"PermCRMReportLabourPDF",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.report.labour-pdf");return t}},{key:"PermCRMExportLabourCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.labour-csv");return t}}]),e}();Ue.RequestLabour=T.Register(new qe),Ue.DeleteLabour=T.Register(new Ge),Ue.PushLabour=T.Register(new $e),Ue._RefreshTracker={},window.DEBUG_Labour=Ue;var He=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestProjects"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestProjectsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.projects?(ra.commit("UpdateProjectsRemote",t.projects),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting projects #2.")),!1)}}]),n}(T),We=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteProjects"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteProjectsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.projectsDelete&&t.projectsDelete.length>0&&ra.commit("DeleteProjectsRemote",t.projectsDelete),!0}}]),n}(T),Ke=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushProjects"}},{key:"GetClientCallbackMethodName",value:function(){return"PushProjectsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.projects||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying projects #2.")),!1)}}]),n}(T),ze=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestProjects.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,parentId:null,lastModifiedISO8601:I["DateTime"].utc().toISO(),lastModifiedBillingId:null,name:null,statusId:ge(),addresses:[],contacts:[],companies:[],hasStartISO8601:!1,startTimeMode:"none",startISO8601:null,hasEndISO8601:!1,endTimeMode:"none",endISO8601:null,forceLabourAsExtra:!0,forceAssignmentsToUseProjectSchedule:!0},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.projects;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"DeleteIds",value:function(e){ra.commit("DeleteProjects",e)}},{key:"UpdateIds",value:function(e){ra.commit("UpdateProjects",e)}},{key:"AddressForId",value:function(t){try{if(null==t)return null;var n=e.ForId(t);if(!n)return null;var a,i=n.json.addresses,o=[],s=Object(G["a"])(i);try{for(s.s();!(a=s.n()).done;){var r=a.value;null==r.value||y(r.value)||o.push(r.value)}}catch(u){s.e(u)}finally{s.f()}if(!o||0===o.length)return null;for(var l="",c=0;c<o.length;c++)0!==c&&(l+=", "),0!==c&&c===o.length-1&&(l+=" and "),l+=o[c];return l}catch(d){return null}}},{key:"NameForId",value:function(t){try{if(null==t)return null;var n=e.ForId(t);return n?n.json.name:null}catch(a){return null}}},{key:"CombinedDescriptionForId",value:function(t){var n="",a=e.AddressForId(t),i=e.NameForId(t);return null==a||y(a)?null==i||y(i)?n+="Unnamed, no address (".concat(t,")"):n+=i:(n+=a,null==i||y(i)||(n+=" (".concat(i,")"))),n}},{key:"EndScheduleDescriptionForId",value:function(t){var n="";do{if(!t||y(t)){n+="No project.";break}var a=e.ForId(t);if(!a){n+="No project.";break}if(!a.json.hasEndISO8601){n+="No end time.";break}-1!==["none"].indexOf(a.json.startTimeMode)?(n+=ye(a.json.endISO8601),n+=" "):(n+=Ce(a.json.endISO8601),n+=" ")}while(0);return n}},{key:"StartScheduleDescriptionForId",value:function(t){var n="";do{if(!t||y(t)){n+="No project.";break}var a=e.ForId(t);if(!a){n+="No project.";break}if(!a.json.hasStartISO8601){n+="No start time.";break}-1!==["none","morning-first-thing","morning-second-thing","afternoon-first-thing","afternoon-second-thing"].indexOf(a.json.startTimeMode)?(n+=ye(a.json.startISO8601),n+=" "):(n+=Ce(a.json.startISO8601),n+=" "),"morning-first-thing"===a.json.startTimeMode?n+="First Thing in the Morning":"morning-second-thing"===a.json.startTimeMode?n+="Second Thing in the Morning":"afternoon-first-thing"===a.json.startTimeMode?n+="First Thing in the Afternoon":"afternoon-second-thing"===a.json.startTimeMode&&(n+="Second Thing in the Afternoon")}while(0);return n}},{key:"StartTravelForId",value:function(e){if(e){var t=Pe.ForLoggedInAgent();if(t)if(t.id){var n=Ue.GetEmpty();if(n.id){n.lastModifiedISO8601=I["DateTime"].utc().toISO(),n.json.lastModifiedBillingId=he.CurrentBillingContactId(),n.json.projectId=e,n.json.agentId=t.id,n.json.isEnteredThroughTelephoneCompanyAccess=!1;for(var a=ra.state.Database.labourTypes,i=null,o=0,s=Object.values(a);o<s.length;o++){var r=s[o];!0===r.json.isBillable&&!0===r.json.default&&(i=r)}if(i)if(i.id){n.json.typeId=i.id,n.json.timeMode="start-stop-timestamp",n.json.hours=null,n.json.startISO8601=I["DateTime"].utc().toISO(),n.json.endISO8601=null,n.json.isActive=!0,n.json.locationType="travel",n.json.isExtra=null,n.json.isBilled=null,n.json.isPaidOut=null,n.json.exceptionTypeId=null,n.json.holidayTypeId=null,n.json.nonBillableTypeId=null,n.json.notes=null,n.json.bankedPayOutAmount=null;var l={};l[n.id]=n,ra.commit("UpdateLabour",l)}else console.error("Project.StartTravelOnId !billableType.id");else console.error("Project.StartTravelOnId !billableType")}else console.error("!labour.id")}else console.error("Project.StartTravelOnId !agent.id",t);else console.error("Project.StartTravelOnId !agent",t)}else console.error("Project.StartTravelOnId !id",e)}},{key:"StartOnSiteForId",value:function(e){if(e){var t=Pe.ForLoggedInAgent();if(t)if(t.id){var n=Ue.GetEmpty();if(n.id){n.lastModifiedISO8601=I["DateTime"].utc().toISO(),n.json.lastModifiedBillingId=he.CurrentBillingContactId(),n.json.projectId=e,n.json.agentId=t.id,n.json.isEnteredThroughTelephoneCompanyAccess=!1;for(var a=ra.state.Database.labourTypes,i=null,o=0,s=Object.values(a);o<s.length;o++){var r=s[o];!0===r.json.isBillable&&!0===r.json.default&&(i=r)}if(i)if(i.id){n.json.typeId=i.id,n.json.timeMode="start-stop-timestamp",n.json.hours=null,n.json.startISO8601=I["DateTime"].utc().toISO(),n.json.endISO8601=null,n.json.isActive=!0,n.json.locationType="on-site",n.json.isExtra=null,n.json.isBilled=null,n.json.isPaidOut=null,n.json.exceptionTypeId=null,n.json.holidayTypeId=null,n.json.nonBillableTypeId=null,n.json.notes=null,n.json.bankedPayOutAmount=null,console.log("start on-site",n);var l={};l[n.id]=n,ra.commit("UpdateLabour",l)}else console.error("Project.StartOnSiteOnId !billableType.id");else console.error("Project.StartOnSiteOnId !billableType")}else console.error("!labour.id")}else console.error("Project.StartTravelOnId !agent.id",t);else console.error("Project.StartTravelOnId !agent",t)}else console.error("Project.StartTravelOnId !id",e)}},{key:"StartRemoteForId",value:function(e){if(e){var t=Pe.ForLoggedInAgent();if(t)if(t.id){var n=Ue.GetEmpty();if(n.id){n.lastModifiedISO8601=I["DateTime"].utc().toISO(),n.json.lastModifiedBillingId=he.CurrentBillingContactId(),n.json.projectId=e,n.json.agentId=t.id,n.json.isEnteredThroughTelephoneCompanyAccess=!1;for(var a=ra.state.Database.labourTypes,i=null,o=0,s=Object.values(a);o<s.length;o++){var r=s[o];!0===r.json.isBillable&&!0===r.json.default&&(i=r)}if(i)if(i.id){n.json.typeId=i.id,n.json.timeMode="start-stop-timestamp",n.json.hours=null,n.json.startISO8601=I["DateTime"].utc().toISO(),n.json.endISO8601=null,n.json.isActive=!0,n.json.locationType="remote",n.json.isExtra=null,n.json.isBilled=null,n.json.isPaidOut=null,n.json.exceptionTypeId=null,n.json.holidayTypeId=null,n.json.nonBillableTypeId=null,n.json.notes=null,n.json.bankedPayOutAmount=null,console.log("start remote",n);var l={};l[n.id]=n,ra.commit("UpdateLabour",l)}else console.error("Project.StartRemoteForId !billableType.id");else console.error("Project.StartRemoteForId !billableType")}else console.error("!labour.id")}else console.error("Project.StartTravelOnId !agent.id",t);else console.error("Project.StartTravelOnId !agent",t)}else console.error("Project.StartTravelOnId !id",e)}},{key:"UpdateStartTimeForId",value:function(t,n){if(console.debug("Project.UpdateStartTimeForId",t,n),t){var a=e.ForId(t),i=F.a.cloneDeep(a);i.lastModifiedISO8601=I["DateTime"].utc().toISO(),i.json.lastModifiedBillingId=he.CurrentBillingContactId(),i.json.startTimeMode=n.startTimeMode,i.json.hasStartISO8601=n.hasStartISO8601,i.json.startISO8601=n.startISO8601;var o={};o[t]=i,ra.commit("UpdateProjects",o)}else console.error("Project.UpdateAgentForId !id")}},{key:"UpdateForceAssignmentsToUseProjectScheduleForId",value:function(t,n){if(t){var a=e.ForId(t),i=F.a.cloneDeep(a);i.lastModifiedISO8601=I["DateTime"].utc().toISO(),i.json.lastModifiedBillingId=he.CurrentBillingContactId(),i.json.forceAssignmentsToUseProjectSchedule=n;var o={};o[t]=i,ra.commit("UpdateProjects",o)}else console.error("Project.UpdateAgentForId !id")}},{key:"ValidateObject",value:function(e){return e}},{key:"ChildProjectsOfId",value:function(e){if(!e)return[];var t=ra.state.Database.projects;if(!t||0===Object.keys(t).length)return[];var n=F.a.filter(t,(function(t){return t.json.parentId===e}));return n}},{key:"RecursiveChildProjectsOfId",value:function(t){if(!t)return[];var n=e.ForId(t);if(!n)return[];var a=[n],i=function t(n){if(n&&n.id){var i=e.ChildProjectsOfId(n.id);if(0!==i.length){var o,s=Object(G["a"])(i);try{var r=function(){var e=o.value,n=!!F.a.find(a,(function(t){return t.id===e.id}));n||(a.push(e),t(e))};for(s.s();!(o=s.n()).done;)r()}catch(l){s.e(l)}finally{s.f()}}}};return i(n),a}},{key:"PermProjectsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.projects.delete-any")||-1!==e.indexOf("crm.projects.delete-company");return t}},{key:"PermProjectsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.projects.push-any")||-1!==e.indexOf("crm.projects.push-company");return t}},{key:"PermProjectsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.projects.request-any")||-1!==e.indexOf("crm.projects.request-company");return t}},{key:"PermCRMReportProjectsPDF",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.report.projects-pdf");return t}},{key:"PermCRMExportProjectsCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.projects-csv");return t}}]),e}();ze.RequestProjects=T.Register(new He),ze.DeleteProjects=T.Register(new We),ze.PushProjects=T.Register(new Ke),ze._RefreshTracker={},window.DEBUG_Project=ze;var Je=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(e.length<=t)return e;var i=e.substr(0,t-1);return(n?i.substr(0,i.lastIndexOf(" ")):i)+(a?"\\ldots":"…")},Ye=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestAssignments"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestAssignmentsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.assignments?(ra.commit("UpdateAssignmentsRemote",t.assignments),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting assignments #2.")),!1)}}]),n}(T),Qe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteAssignments"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteAssignmentsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.assignmentsDelete&&t.assignmentsDelete.length>0&&ra.commit("DeleteAssignmentsRemote",t.assignmentsDelete),!0}}]),n}(T),Xe=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushAssignments"}},{key:"GetClientCallbackMethodName",value:function(){return"PushAssignmentsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.assignments||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying assignments #2.")),!1)}}]),n}(T),Ze=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"ValidateObject",value:function(e){if(e.json.agentIds||(e.json.agentIds=[]),e.json.agentId&&!y(e.json.agentId)){var t=F.a.find(e.json.agentIds,(function(t){return t===e.json.agentId}));t||e.json.agentIds.push(e.json.agentId),delete e.json.agentId}return e}},{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestAssignments.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,lastModifiedISO8601:I["DateTime"].utc().toISO(),lastModifiedBillingId:null,projectId:null,agentIds:[],workRequested:null,workPerformed:null,internalComments:null,hasStartISO8601:!1,startTimeMode:"none",startISO8601:I["DateTime"].utc().toISO(),hasEndISO8601:!1,endTimeMode:"none",endISO8601:null,statusId:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"UpdateIds",value:function(e){ra.commit("UpdateAssignments",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteAssignments",e)}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.assignments;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"ForProjectIds",value:function(e){var t=ra.state.Database.assignments;if(!t)return[];var n=F.a.filter(t,(function(t){var n=t.json.projectId;return!!F.a.find(e,(function(e){return e===n}))}));return n}},{key:"ForSchedulerMinimization",value:function(t){var n=ra.state.Database.assignments,a=F.a.filter(n,(function(n){if(!n)return!1;if(!n.id)return!1;if(!n.json)return!1;var a=e.StartTimeModeForId(n.id);if(!t.isFirstAM&&"morning-first-thing"===a)return!1;if(!t.isSecondAM&&"morning-second-thing"===a)return!1;if(!t.isFirstPM&&"afternoon-first-thing"===a)return!1;if(!t.isSecondPM&&"afternoon-second-thing"===a)return!1;if(!t.isUnscheduled&&"none"===a)return!1;if(t.isFirstAM&&"morning-first-thing"!==a)return!1;if(t.isSecondAM&&"morning-second-thing"!==a)return!1;if(t.isFirstPM&&"afternoon-first-thing"!==a)return!1;if(t.isSecondPM&&"afternoon-second-thing"!==a)return!1;if(t.isUnscheduled&&"none"!==a)return!1;if(!t.isUnscheduled){if(!n.json.hasStartISO8601)return!1;var i=e.StartISO8601ForId(n.id);if("none"!==a&&(!i||y(i)))return!1;if(!i)return!1;var o=I["DateTime"].fromISO(i),s=o.toLocal();if(s.toFormat("yyyy-MM-dd")!==t.date)return!1}if(!t.isUnscheduled&&!t.isFirstAM&&!t.isSecondAM&&!t.isFirstPM&&!t.isSecondPM&&null!=t.localTimeStart&&null!=t.localTimeEnd){var r=e.StartISO8601ForId(n.id);if("time"!==a||!r||y(r))return!1;var l=I["DateTime"].fromFormat(t.date,"yyyy-MM-dd",{zone:"local",setZone:!0}),c=I["DateTime"].fromISO(r),u=c.toLocal(),d=I["DateTime"].fromObject({year:l.year,month:l.month,day:l.day,hour:t.localTimeStart.hour||0,minute:t.localTimeStart.minute||0,second:t.localTimeStart.second||0,millisecond:0},{zone:"local"});d=d.minus({seconds:1});var m=I["DateTime"].fromObject({year:l.year,month:l.month,day:l.day,hour:t.localTimeEnd.hour||23,minute:t.localTimeEnd.minute||59,second:t.localTimeEnd.second||59,millisecond:0},{zone:"local"});if(m=m.plus({seconds:1}),+u<=+d||+u>=+m)return!1}return!0}));return a.length>0}},{key:"ForSchedulerCell",value:function(t,n,a,i,o,s,r,l,c){var u,d=ra.state.Database.assignments,m=F.a.filter(d,(function(u){if(!u)return!1;if(!u.id)return!1;if(!u.json)return!1;if(t&&!y(t)){var d=F.a.find(u.json.agentIds,(function(e){return(null===e||void 0===e?void 0:e.trim())===(null===t||void 0===t?void 0:t.trim())}));if(!d)return!1}var m=e.StartTimeModeForId(u.id);if(!i&&"morning-first-thing"===m)return!1;if(!o&&"morning-second-thing"===m)return!1;if(!s&&"afternoon-first-thing"===m)return!1;if(!r&&"afternoon-second-thing"===m)return!1;if(!a&&"none"===m)return!1;if(i&&"morning-first-thing"!==m)return!1;if(o&&"morning-second-thing"!==m)return!1;if(s&&"afternoon-first-thing"!==m)return!1;if(r&&"afternoon-second-thing"!==m)return!1;if(a&&"none"!==m)return!1;if(!a){if(!u.json.hasStartISO8601)return!1;var v=e.StartISO8601ForId(u.id);if("none"!==m&&(!v||y(v)))return!1;if(!v)return!1;var p=I["DateTime"].fromISO(v),f=p.toLocal();if(f.toFormat("yyyy-MM-dd")!==n)return!1}if(!a&&!i&&!o&&!s&&!r&&null!=l&&null!=c){var h=e.StartISO8601ForId(u.id);if("time"!==m||!h||y(h))return!1;var b=I["DateTime"].fromFormat(n,"yyyy-MM-dd",{zone:"local",setZone:!0}),g=I["DateTime"].fromISO(h),C=g.toLocal(),j=I["DateTime"].fromObject({year:b.year,month:b.month,day:b.day,hour:l.hour||0,minute:l.minute||0,second:l.second||0,millisecond:0},{zone:"local"});j=j.minus({seconds:1});var S=I["DateTime"].fromObject({year:b.year,month:b.month,day:b.day,hour:c.hour||23,minute:c.minute||59,second:c.second||59,millisecond:0},{zone:"local"});if(S=S.plus({seconds:1}),+C<=+j||+C>=+S)return!1}return!0})),v=[],p=Object(G["a"])(m);try{for(p.s();!(u=p.n()).done;){var f=u.value,h=F.a.filter(f.json.agentIds,(function(e){return void 0!==e})),b=F.a.filter(f.json.agentIds,(function(e){return!(e&&!y(e))||!Pe.ForId(e)}));if(!t||y(t))if(0===h.length)v.push({assignment:f,forAgentId:null});else{var g,C=Object(G["a"])(b);try{for(C.s();!(g=C.n()).done;){g.value;v.push({assignment:f,forAgentId:null})}}catch(O){C.e(O)}finally{C.f()}}else{var j,S=Object(G["a"])(h);try{for(S.s();!(j=S.n()).done;){var P=j.value;P===t&&v.push({assignment:f,forAgentId:P})}}catch(O){S.e(O)}finally{S.f()}}}}catch(O){p.e(O)}finally{p.f()}return v}},{key:"NameForId",value:function(t){var n=e.ForId(t);if(!n||!n.json||y(n.json.projectId))return null;var a=ze.ForId(n.json.projectId);if(!a||!a.json)return"Assignment without project.";var i="";if(a.json&&a.json.addresses){var o,s=Object(G["a"])(a.json.addresses);try{for(s.s();!(o=s.n()).done;){var r=o.value;y(r.value)||(i+="".concat(r.value," "))}}catch(l){s.e(l)}finally{s.f()}}return a.json&&a.json.name&&!y(a.json.name)&&(i+=" (".concat(a.json.name,") ")),i.trim()}},{key:"WorkDescriptionForId",value:function(t){if(null==t)return null;var n=e.ForId(t);return null==n||null==n.json.workRequested||y(n.json.workRequested)?null:Je(n.json.workRequested,30,!0)}},{key:"LocationDescriptionForId",value:function(t){if(!t)return null;var n=e.ForId(t);if(!n)return null;var a=n.json.projectId;if(!a)return"No Address. Work: "+(e.WorkDescriptionForId(t)||"No Work Specified");var i=ze.ForId(a);return i?ze.CombinedDescriptionForId(a):"No Address. Work: "+(e.WorkDescriptionForId(t)||"No Work Specified")}},{key:"StartTravelForId",value:function(t){if(t){var n=e.ForId(t);if(n){var a=n.json.projectId;if(a){var i=Pe.ForLoggedInAgent();if(i)if(i.id){var o=Ue.GetEmpty();if(o.id){o.lastModifiedISO8601=I["DateTime"].utc().toISO(),o.json.lastModifiedBillingId=he.CurrentBillingContactId(),o.json.projectId=a,o.json.agentId=i.id,o.json.assignmentId=t,o.json.isEnteredThroughTelephoneCompanyAccess=!1;for(var s=ra.state.Database.labourTypes,r=null,l=0,c=Object.values(s);l<c.length;l++){var u=c[l];!0===u.json.isBillable&&!0===u.json.default&&(r=u)}if(r)if(r.id){o.json.typeId=r.id,o.json.timeMode="start-stop-timestamp",o.json.hours=null,o.json.startISO8601=I["DateTime"].utc().toISO(),o.json.endISO8601=null,o.json.isActive=!0,o.json.locationType="travel",o.json.isExtra=null,o.json.isBilled=null,o.json.isPaidOut=null,o.json.exceptionTypeId=null,o.json.holidayTypeId=null,o.json.nonBillableTypeId=null,o.json.notes=null,o.json.bankedPayOutAmount=null;var d={};d[o.id]=o,ra.commit("UpdateLabour",d)}else console.error("Assignment.StartTravelOnId !billableType.id");else console.error("Assignment.StartTravelOnId !billableType")}else console.error("!labour.id")}else console.error("Assignment.StartTravelOnId !agent.id",i);else console.error("Assignment.StartTravelOnId !agent",i)}else console.error("Assignment.StartTravelOnId !projectId",a)}else console.error("Assignment.StartTravelOnId !assignment",n)}else console.error("Assignment.StartTravelOnId !id",t)}},{key:"StartOnSiteForId",value:function(t){if(t){var n=e.ForId(t);if(n){var a=n.json.projectId;if(a){var i=Pe.ForLoggedInAgent();if(i)if(i.id){var o=Ue.GetEmpty();if(o.id){o.lastModifiedISO8601=I["DateTime"].utc().toISO(),o.json.lastModifiedBillingId=he.CurrentBillingContactId(),o.json.projectId=a,o.json.agentId=i.id,o.json.assignmentId=t,o.json.isEnteredThroughTelephoneCompanyAccess=!1;for(var s=ra.state.Database.labourTypes,r=null,l=0,c=Object.values(s);l<c.length;l++){var u=c[l];!0===u.json.isBillable&&!0===u.json.default&&(r=u)}if(r)if(r.id){o.json.typeId=r.id,o.json.timeMode="start-stop-timestamp",o.json.hours=null,o.json.startISO8601=I["DateTime"].utc().toISO(),o.json.endISO8601=null,o.json.isActive=!0,o.json.locationType="on-site",o.json.isExtra=null,o.json.isBilled=null,o.json.isPaidOut=null,o.json.exceptionTypeId=null,o.json.holidayTypeId=null,o.json.nonBillableTypeId=null,o.json.notes=null,o.json.bankedPayOutAmount=null,console.log("start on-site",o);var d={};d[o.id]=o,ra.commit("UpdateLabour",d)}else console.error("Assignment.StartOnSiteOnId !billableType.id");else console.error("Assignment.StartOnSiteOnId !billableType")}else console.error("!labour.id")}else console.error("Assignment.StartOnSiteForId !agent.id",i);else console.error("Assignment.StartOnSiteForId !agent",i)}else console.error("Assignment.StartOnSiteForId !projectId",a)}else console.error("Assignment.StartOnSiteForId !assignment",n)}else console.error("Assignment.StartOnSiteForId !id",t)}},{key:"StartRemoteForId",value:function(t){if(t){var n=e.ForId(t);if(n){var a=n.json.projectId;if(a){var i=Pe.ForLoggedInAgent();if(i)if(i.id){var o=Ue.GetEmpty();if(o.id){o.lastModifiedISO8601=I["DateTime"].utc().toISO(),o.json.lastModifiedBillingId=he.CurrentBillingContactId(),o.json.projectId=a,o.json.agentId=i.id,o.json.assignmentId=t,o.json.isEnteredThroughTelephoneCompanyAccess=!1;for(var s=ra.state.Database.labourTypes,r=null,l=0,c=Object.values(s);l<c.length;l++){var u=c[l];!0===u.json.isBillable&&!0===u.json.default&&(r=u)}if(r)if(r.id){o.json.typeId=r.id,o.json.timeMode="start-stop-timestamp",o.json.hours=null,o.json.startISO8601=I["DateTime"].utc().toISO(),o.json.endISO8601=null,o.json.isActive=!0,o.json.locationType="remote",o.json.isExtra=null,o.json.isBilled=null,o.json.isPaidOut=null,o.json.exceptionTypeId=null,o.json.holidayTypeId=null,o.json.nonBillableTypeId=null,o.json.notes=null,o.json.bankedPayOutAmount=null,console.log("start remote",o);var d={};d[o.id]=o,ra.commit("UpdateLabour",d)}else console.error("Assignment.StartRemoteForId !billableType.id");else console.error("Assignment.StartRemoteForId !billableType")}else console.error("!labour.id")}else console.error("Assignment.StartRemoteForId !agent.id",i);else console.error("Assignment.StartRemoteForId !agent",i)}else console.error("Assignment.StartRemoteForId !projectId",a)}else console.error("Assignment.StartRemoteForId !assignment",n)}else console.error("Assignment.StartRemoteForId !id",t)}},{key:"HasStartISO8601ForId",value:function(t){if(!t)return!1;var n=e.ForId(t);if(!n)return!1;var a=n.json.projectId;if(!a)return n.json.hasStartISO8601;var i=ze.ForId(a);return i&&i.json.forceAssignmentsToUseProjectSchedule?i.json.hasStartISO8601:n.json.hasStartISO8601}},{key:"StartTimeModeForId",value:function(t){if(!t)return console.error("Assignment.StartTimeModeForId !id",t),"none";var n=e.ForId(t);if(!n)return console.error("Assignment.StartTimeModeForId !assignment",n),"none";var a=n.json.projectId;if(!a)return n.json.startTimeMode;var i=ze.ForId(a);return i&&i.json.forceAssignmentsToUseProjectSchedule?i.json.startTimeMode:n.json.startTimeMode}},{key:"StartISO8601ForId",value:function(t){if(!t)return console.error("Assignment.StartISO8601ForId !id",t),"none";var n=e.ForId(t);if(!n)return console.error("Assignment.StartISO8601ForId !assignment",n),"none";var a=n.json.projectId;if(!a)return n.json.startISO8601;var i=ze.ForId(a);return i?i.json.forceAssignmentsToUseProjectSchedule?!1===i.json.hasStartISO8601?null:i.json.startISO8601:!1===n.json.hasStartISO8601?null:n.json.startISO8601:n.json.startISO8601}},{key:"HasEndISO8601ForId",value:function(t){if(!t)return console.error("Assignment.HasEndISO8601ForId !id",t),!1;var n=e.ForId(t);if(!n)return!1;var a=n.json.projectId;if(!a)return n.json.hasEndISO8601;var i=ze.ForId(a);return i&&i.json.forceAssignmentsToUseProjectSchedule?i.json.hasEndISO8601:n.json.hasEndISO8601}},{key:"EndTimeModeForId",value:function(t){if(!t)return console.error("Assignment.EndTimeModeForId !id",t),"none";var n=e.ForId(t);if(!n)return console.error("Assignment.EndTimeModeForId !assignment",n),"none";var a=n.json.projectId;if(!a)return n.json.endTimeMode;var i=ze.ForId(a);return i&&i.json.forceAssignmentsToUseProjectSchedule?i.json.endTimeMode:n.json.endTimeMode}},{key:"EndISO8601ForId",value:function(t){if(!t)return console.error("Assignment.EndISO8601ForId !id",t),"none";var n=e.ForId(t);if(!n)return console.error("Assignment.EndISO8601ForId !assignment",n),"none";var a=n.json.projectId;if(!a)return n.json.endISO8601;var i=ze.ForId(a);return i&&i.json.forceAssignmentsToUseProjectSchedule?i.json.endISO8601:n.json.endISO8601}},{key:"RemoveAgentIdFromId",value:function(t,n){if(t){var a=e.ForId(t);if(a){var i=a.json.agentIds,o=F.a.findIndex(i,(function(e){return e===n}));if(console.log("removeIdx",o),-1!==o){i.splice(o,1);var s=F.a.cloneDeep(a);s.lastModifiedISO8601=I["DateTime"].utc().toISO(),s.json.lastModifiedBillingId=he.CurrentBillingContactId(),s.json.agentIds=i;var r={};r[t]=s,ra.commit("UpdateAssignments",r)}}else console.error("Assignment.AddAgentIdsToId !assignment")}else console.error("Assignment.AddAgentIdsToId !id")}},{key:"AddAgentIdsToId",value:function(t,n){if(t){var a=e.ForId(t);if(a){var i=a.json.agentIds;if(null!=n){var o=F.a.find(i,(function(e){return e===n}));if(o)return void console.debug("Agent already exists in list, not adding a second time.")}i.push(n);var s=F.a.cloneDeep(a);s.lastModifiedISO8601=I["DateTime"].utc().toISO(),s.json.lastModifiedBillingId=he.CurrentBillingContactId(),s.json.agentIds=i;var r={};r[t]=s,ra.commit("UpdateAssignments",r)}else console.error("Assignment.AddAgentIdsToId !assignment")}else console.error("Assignment.AddAgentIdsToId !id")}},{key:"UpdateStartTimeForId",value:function(t,n){if(console.debug("Assignment.UpdateStartTimeForId",t,n),t){var a=e.ForId(t),i=F.a.cloneDeep(a);i.lastModifiedISO8601=I["DateTime"].utc().toISO(),i.json.lastModifiedBillingId=he.CurrentBillingContactId(),i.json.startTimeMode=n.startTimeMode,i.json.hasStartISO8601=n.hasStartISO8601,i.json.startISO8601=n.startISO8601;var o={};o[t]=i,ra.commit("UpdateAssignments",o)}else console.error("Assignment.UpdateAgentForId !id")}},{key:"PermAssignmentCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.assignments.push-any")||-1!==e.indexOf("crm.assignments.push-company");return t}},{key:"PermAssignmentCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.assignments.request-any")||-1!==e.indexOf("crm.assignments.request-company")||-1!==e.indexOf("crm.assignments.request-self");return t}},{key:"PermAssignmentCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.assignments.delete-any")||-1!==e.indexOf("crm.assignments.delete-company");return t}},{key:"PermCRMReportAssignmentPDF",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.report.assignments-pdf");return t}},{key:"PermCRMExportAssignmentCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.assignments-csv");return t}}]),e}();Ze.RequestAssignments=T.Register(new Ye),Ze.DeleteAssignments=T.Register(new Qe),Ze.PushAssignments=T.Register(new Xe),Ze._RefreshTracker={};var et=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingSubscriptionsProvisioningStatusForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingSubscriptionsProvisioningStatusForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingSubscriptionsProvisioningStatus)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting subscriptions provisioning status #2.")),!1;var n,a={},i=Object(G["a"])(t.billingSubscriptionsProvisioningStatus);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingSubscriptionsProvisioningStatusRemote",a),!0}}]),n}(T),tt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,status:"",json:{}};return t}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingSubscriptionsProvisioningStatusCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.subscription-provisioning-status.request-any")||-1!==e.indexOf("billing.subscription-provisioning-status.request-company");return t}}]),e}();tt.RequestBillingSubscriptionsProvisioningStatusForCurrentSession=T.Register(new et);var nt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingPermissionsGroupsForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingPermissionsGroupsForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingPermissionsGroups)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting permissions groups #2.")),!1;var n,a={},i=Object(G["a"])(t.billingPermissionsGroups);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.id]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingPermissionsGroupsRemote",a),!0}}]),n}(T),at=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,name:null,json:{hidden:!1}};return t}},{key:"All",value:function(){var e=ra.state.Database.billingPermissionsGroups;return e&&0!==Object.keys(e).length?e:null}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.billingPermissionsGroups;if(!t||0===Object.keys(t).length)return null;var n=t[e];return status&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"GroupIdsForBillingId",value:function(e){if(!e)return[];for(var t=[],n=K.ForBillingContactId(e),a=0,i=Object.values(n);a<i.length;a++){var o=i[a];t.push(o.groupId)}return t}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingPermissionsGroupsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.permissions-groups.read-any")||-1!==e.indexOf("billing.permissions-groups.read-company");return t}}]),e}();at.RequestBillingPermissionsGroupsForCurrentSession=T.Register(new nt);var it=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingPaymentMethodForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingPaymentMethodForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingPaymentMethod)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting payment methods #2.")),!1;var n,a={},i=Object(G["a"])(t.billingPaymentMethod);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingPaymentMethodRemote",a),!0}}]),n}(T),ot=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformRegisterPaymentInformation"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformRegisterPaymentInformationCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering payment information #2.")),!1)}}]),n}(T),st=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,value:"",json:{}};return t}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingPaymentMethodCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.payment-method.read-any")||-1!==e.indexOf("billing.payment-method.read-company");return t}}]),e}();st.RequestBillingPaymentMethodForCurrentSession=T.Register(new it),st.PerformRegisterPaymentInformation=T.Register(new ot);var rt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingPaymentFrequenciesForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingPaymentFrequenciesForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingPaymentFrequencies)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting payment frequencies #2.")),!1;var n,a={},i=Object(G["a"])(t.billingPaymentFrequencies);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingPaymentFrequenciesRemote",a),!0}}]),n}(T),lt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,value:"",displayName:"",monthsBetweenPayments:1,json:{}};return t}},{key:"ValidateObject",value:function(e){return e}}]),e}();lt.RequestBillingPaymentFrequenciesForCurrentSession=T.Register(new rt);var ct=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingPackagesTypeForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingPackagesTypeForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingPackagesType)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting package types #2.")),!1;var n,a={},i=Object(G["a"])(t.billingPackagesType);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingPackagesTypeRemote",a),!0}}]),n}(T),ut=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,type:"",json:{}};return t}},{key:"ValidateObject",value:function(e){return e}}]),e}();ut.RequestBillingPackagesTypeForCurrentSession=T.Register(new ct);n("b680");var dt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingPackagesForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingPackagesForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingPackages)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting packages #2.")),!1;var n,a={},i=Object(G["a"])(t.billingPackages);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingPackagesRemote",a),!0}}]),n}(T),mt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,packageName:"",displayName:"",currency:"",costPerMonth:0,provisionDispatchPulse:!1,provisionDispatchPulseUsers:0,allowNewAssignment:!1,type:"",provisionEmail:!1,provisionEmailUsers:0,provisionWebsites:!1,provisionWebsitesStaticCount:0,isDemo:!1,json:{}};return t}},{key:"ForId",value:function(e){if(!e||y(e))return null;var t=ra.state.Database.billingPackages;if(!t)return null;var n=t[e];return n||null}},{key:"CostForId",value:function(t){var n=e.ForId(t);if(!n)return"?";var a="$".concat(n.costPerMonth.toFixed(2)," ").concat(n.currency);return y(a)?"?":a}},{key:"DisplayNameForId",value:function(t){var n=e.ForId(t);if(!n)return"?";var a="".concat(n.displayName);return y(a)?"?":a}},{key:"NameForId",value:function(t){if(!t||y(t))return"";var n=e.ForId(t);return n&&n.packageName||t}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingPackagesCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.packages.read-any")||-1!==e.indexOf("billing.packages.read-company");return t}}]),e}();mt.RequestBillingPackagesForCurrentSession=T.Register(new dt);var vt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingIndustriesForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingIndustriesForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingIndustries)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting billing industries #2.")),!1;var n,a={},i=Object(G["a"])(t.billingIndustries);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingIndustriesRemote",a),!0}}]),n}(T),pt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,value:null,json:{}};return t}},{key:"ValidateObject",value:function(e){return e}}]),e}();pt.RPCRequestBillingIndustriesForCurrentSession=T.Register(new vt);var ft=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingCurrencyForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingCurrencyForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingCurrency)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting currency #2.")),!1;var n,a={},i=Object(G["a"])(t.billingCurrency);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingCurrencyRemote",a),!0}}]),n}(T),ht=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,currency:"",json:{}};return t}},{key:"ValidateObject",value:function(e){return e}}]),e}();ht.RequestBillingCurrencyForCurrentSession=T.Register(new ft);var bt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingCouponCodesForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingCouponCodesForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingCouponCodes)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting billing coupon codes #2.")),!1;var n,a={},i=Object(G["a"])(t.billingCouponCodes);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingCouponCodesRemote",a),!0}}]),n}(T),gt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,discount:null,displayName:null,months:null,couponCode:null,forbidNewApplications:!1,json:{}};return t}},{key:"ValidateObject",value:function(e){return e}}]),e}();gt.RequestBillingCouponCodesForCurrentSession=T.Register(new bt);var yt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingSubscriptionsForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingSubscriptionsForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingSubscriptions)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting subscriptions #2.")),!1;var n,a={},i=Object(G["a"])(t.billingSubscriptions);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingSubscriptionsRemote",a),!0}}]),n}(T),Ct=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,companyId:null,packageId:null,timestampAddedUtc:"",provisioningActual:"",provisioningDesired:"",provisioningDatabaseName:null,timestampLastSettingsPushUtc:null,json:{}};return t}},{key:"GetAll",value:function(){var e=he.ForCurrentSession();if(!e)return[];var t=e.companyId,n=ra.state.Database.billingSubscriptions,a=[];return a=F.a.filter(n,(function(e){return e.companyId===t})),a}},{key:"ValidateObject",value:function(e){return e}},{key:"PermCRMCanRequestSubscriptions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.subscription.read-any")||-1!==e.indexOf("billing.subscription.read-company");return t}}]),e}();Ct.RequestBillingSubscriptionsForCurrentSession=T.Register(new yt);var jt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingCompanyForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingCompanyForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingCompany)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting billing companies #2.")),!1;var n=t.billingCompany.uuid,a={};return a[n]=t.billingCompany,ra.commit("UpdateBillingCompaniesRemote",a),!0}}]),n}(T),St=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestCompanyNameInUse"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestCompanyNameInUseCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("inUse")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting company name in use #2.")),!1)}}]),n}(T),It=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformCheckCompanyPhoneIdInUse"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformCheckCompanyPhoneIdInUseCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),Pt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformRegisterCreateDPDatabase"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformRegisterCreateDPDatabaseCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("created")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error creating dispatch pulse database #2.")),!1)}}]),n}(T),Ot=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformRegisterNewCompany"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformRegisterNewCompanyCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.hasOwnProperty("created")?t.hasOwnProperty("billingCompanyId")?t.hasOwnProperty("billingContactId")?t.hasOwnProperty("billingSessionId")?!!t.hasOwnProperty("stripeIntentClientSecret")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering new company #6.")),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering new company #5.")),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering new company #4.")),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering new company #3.")),!1):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error registering new company #2.")),!1)}}]),n}(T),kt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformRegisterSaveServiceAgreement"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformRegisterSaveServiceAgreementCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("saved")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error saving service agreement #2.")),!1)}}]),n}(T),Dt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformUpdatePhoneId"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformUpdatePhoneIdCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),_t=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,fullName:null,abbreviation:null,industry:null,marketingCampaign:null,addressCity:null,addressCountry:null,addressLine1:null,addressLine2:null,addressPostalCode:null,addressProvince:null,stripeCustomerId:null,paymentMethod:null,invoiceContactId:null,paymentFrequency:null,json:{phoneId:null}};return t}},{key:"All",value:function(){var e=ra.state.Database.billingCompanies;return e&&0!==Object.keys(e).length?e:null}},{key:"ForId",value:function(e){if(!e)return null;var t=this.All();if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"CompanyForCurrentBillingContact",value:function(){var t=he.ForCurrentSession();if(!t)return console.error("!contact"),null;if(!t.companyId||y(t.companyId))return console.error("!contact.companyId || IsNullOrEmpty(contact.companyId)"),null;var n=e.ForId(t.companyId);return n?n.json?n:(console.error("!company.json"),null):(console.error("!company"),null)}},{key:"CompanyPhoneIdForCurrentBillingContact",value:function(){var t=e.CompanyForCurrentBillingContact();return t&&t.json.phoneId||""}},{key:"ValidateObject",value:function(e){return e}},{key:"PermBillingCompaniesCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.companies.read-any")||-1!==e.indexOf("billing.companies.read-company");return t}},{key:"PermBillingCompaniesCanModifyPhoneId",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.companies.modify-company-phone-id");return t}},{key:"PermBillingCompaniesCanModify",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.companies.modify-any")||-1!==e.indexOf("billing.companies.modify-company");return t}}]),e}();_t.RequestBillingCompanyForCurrentSession=T.Register(new jt),_t.RequestCompanyNameInUse=T.Register(new St),_t.PerformCheckCompanyPhoneIdInUse=T.Register(new It),_t.PerformRegisterCreateDPDatabase=T.Register(new Pt),_t.PerformRegisterNewCompany=T.Register(new Ot),_t.PerformRegisterSaveServiceAgreement=T.Register(new kt),_t.PerformUpdatePhoneId=T.Register(new Dt),window.DEBUG_BillingCompanies=_t;var wt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingJournalEntriesForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingJournalEntriesForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingJournalEntries)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting journal entries #2.")),!1;var n,a={},i=Object(G["a"])(t.billingJournalEntries);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingJournalEntriesRemote",a),!0}}]),n}(T),xt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,timestamp:I["DateTime"].utc().toISO(),type:"",otherEntryId:null,description:null,quantity:0,unitPrice:0,currency:"",taxPercentage:0,taxActual:0,invoiceId:"",packageId:"",companyId:"",json:{}};return t}},{key:"GetAll",value:function(){var e=he.ForCurrentSession();if(!e)return[];var t=e.companyId,n=ra.state.Database.billingJournalEntries,a=[];return a=F.a.filter(n,(function(e){return e.companyId===t})),a}},{key:"ValidateObject",value:function(e){return e}},{key:"PermCRMCanRequestJournalEntries",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.journal-entries.read-any")||-1!==e.indexOf("billing.journal-entries.read-company");return t}},{key:"PermBillingCanMakeOneTimeCompanyCreditCardPayments",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.credit-card-payments.one-time");return t}},{key:"PermBillingCanSetupPreAuthorizedCreditCardPayments",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.credit-card-payments.setup-pre-authorized");return t}}]),e}();xt.RequestBillingJournalEntriesForCurrentSession=T.Register(new wt);var Rt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestBillingInvoicesForCurrentSession"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestBillingInvoicesForCurrentSessionCB"}},{key:"RecieveDefaultAction",value:function(e,t){if(!t.billingInvoices)return e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting invoices #2.")),!1;var n,a={},i=Object(G["a"])(t.billingInvoices);try{for(i.s();!(n=i.n()).done;){var o=n.value;a[o.uuid]=o}}catch(s){i.e(s)}finally{i.f()}return ra.commit("UpdateBillingInvoicesRemote",a),!0}}]),n}(T),Mt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={uuid:e,timestampStartUtc:"",timestampEndUtc:"",invoiceNumber:"",currency:"",amountDue:0,amountPaid:0,amountRemaining:0,timestampCreatedUtc:"",timestampDueUtc:"",companyId:"",json:{}};return t}},{key:"GetAll",value:function(){var e=he.ForCurrentSession();if(!e)return[];var t=e.companyId,n=ra.state.Database.billingInvoices,a=[];return a=F.a.filter(n,(function(e){return e.companyId===t})),a}},{key:"ValidateObject",value:function(e){return e}},{key:"PermCRMCanRequestInvoices",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.invoices.read-any")||-1!==e.indexOf("billing.invoices.read-company");return t}},{key:"PermBillingInvoicesCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("billing.invoices.read-any")||-1!==e.indexOf("billing.invoices.read-company");return t}}]),e}();Mt.RequestBillingInvoicesForCurrentSession=T.Register(new Rt);var At=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestSkills"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestSkillsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.skills?(ra.commit("UpdateSkillsRemote",t.skills),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting skills #2.")),!1)}}]),n}(T),Tt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteSkills"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteSkillsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.skillsDelete&&t.skillsDelete.length>0&&ra.commit("DeleteSkillsRemote",t.skillsDelete),!0}}]),n}(T),Vt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushSkills"}},{key:"GetClientCallbackMethodName",value:function(){return"PushSkillsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.skills||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error deleting skills #2.")),!1)}}]),n}(T),Bt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{lastModifiedBillingId:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"UpdateIds",value:function(e){ra.commit("UpdateSkills",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteSkills",e)}},{key:"ValidateObject",value:function(e){return e}}]),e}();Bt.RequestSkills=T.Register(new At),Bt.DeleteSkills=T.Register(new Tt),Bt.PushSkills=T.Register(new Vt);var Lt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestSettingsUser"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestSettingsUserCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.settingsUser?(ra.commit("UpdateSettingsUserRemote",t.settingsUser),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting settings user #2.")),!1)}}]),n}(T),Nt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteSettingsUser"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteSettingsUserCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.settingsUserDelete&&t.settingsUserDelete.length>0&&ra.commit("DeleteSettingsUserRemote",t.settingsUserDelete),!0}}]),n}(T),Et=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushSettingsUser"}},{key:"GetClientCallbackMethodName",value:function(){return"PushSettingsUserCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.settingsUser||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error deleting settings user #2.")),!1)}}]),n}(T),Ft=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{key:"",value:"",lastModifiedBillingId:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ValidateObject",value:function(e){return e}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.settingsUser;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateSettingsUser",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteSettingsUser",e)}}]),e}();Ft.RequestSettingsUser=T.Register(new Lt),Ft.DeleteSettingsUser=T.Register(new Nt),Ft.PushSettingsUser=T.Register(new Et);var qt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestSettingsProvisioning"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestSettingsProvisioningCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.settingsProvisioning?(ra.commit("UpdateSettingsProvisioningRemote",t.settingsProvisioning),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting settings provisioning #2.")),!1)}}]),n}(T),Gt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteSettingsProvisioning"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteSettingsProvisioningCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.settingsProvisioningDelete&&t.settingsProvisioningDelete.length>0&&ra.commit("DeleteSettingsProvisioningRemote",t.settingsProvisioningDelete),!0}}]),n}(T),$t=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestSettingsProvisioning.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{key:"",value:""},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.settingsProvisioning;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateSettingsProvisioning",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteSettingsProvisioning",e)}},{key:"ValidateObject",value:function(e){return e}}]),e}();$t.RequestSettingsProvisioning=T.Register(new qt),$t.DeleteSettingsProvisioning=T.Register(new Gt),$t._RefreshTracker={};var Ut=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestSettingsDefault"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestSettingsDefaultCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.settingsDefault?(ra.commit("UpdateSettingsDefaultRemote",t.settingsDefault),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting settings default #2.")),!1)}}]),n}(T),Ht=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteSettingsDefault"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteSettingsDefaultCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.settingsDefaultDelete&&t.settingsDefaultDelete.length>0&&ra.commit("DeleteSettingsDefaultRemote",t.settingsDefaultDelete),!0}}]),n}(T),Wt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushSettingsDefault"}},{key:"GetClientCallbackMethodName",value:function(){return"PushSettingsDefaultCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.settingsDefault||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying settings default #2.")),!1)}}]),n}(T),Kt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestSettingsDefault.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{key:"",value:""},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.settingsDefault;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateSettingsDefault",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteSettingsDefault",e)}},{key:"ValidateObject",value:function(e){return e}}]),e}();Kt.RequestSettingsDefault=T.Register(new Ut),Kt.DeleteSettingsDefault=T.Register(new Ht),Kt.PushSettingsDefault=T.Register(new Wt),Kt._RefreshTracker={};var zt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestAssignmentStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestAssignmentStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.assignmentStatus?(ra.commit("UpdateAssignmentStatusRemote",t.assignmentStatus),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting assignment status #2.")),!1)}}]),n}(T),Jt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteAssignmentStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteAssignmentStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.assignmentStatusDelete&&t.assignmentStatusDelete.length>0&&ra.commit("DeleteAssignmentStatusRemote",t.assignmentStatusDelete),!0}}]),n}(T),Yt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushAssignmentStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"PushAssignmentStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.assignmentStatus||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying assignment status #2.")),!1)}}]),n}(T),Qt=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestAssignmentStatus.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:"",isOpen:!1,isReOpened:!1,isAssigned:!1,isWaitingOnClient:!1,isWaitingOnVendor:!1,isBillable:!1,isBillableReview:!1,isDefault:!1,isToBeScheduled:!1,isInProgress:!1,isNonBillable:!1,isScheduled:!1,lastModifiedBillingId:null,lastModifiedISO8601:I["DateTime"].utc().toISO()},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.assignmentStatus;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateAssignmentStatus",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteAssignmentStatus",e)}},{key:"ValidateObject",value:function(e){return e}},{key:"PermAssignmentStatusCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.assignments-status.push-any")||-1!==e.indexOf("crm.assignments-status.push-company");return t}},{key:"PermAssignmentStatusCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.assignments-status.request-any")||-1!==e.indexOf("crm.assignments-status.request-company");return t}},{key:"PermAssignmentStatusCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.assignments-status.delete-any")||-1!==e.indexOf("crm.assignments-status.delete-company");return t}},{key:"PermCRMExportAssignmentStatusCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.assignment-status-definitions-csv");return t}}]),e}();Qt.RequestAssignmentStatus=T.Register(new zt),Qt.DeleteAssignmentStatus=T.Register(new Jt),Qt.PushAssignmentStatus=T.Register(new Yt),Qt._RefreshTracker={};var Xt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestCompanies"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestCompaniesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.companies?(ra.commit("UpdateCompaniesRemote",t.companies),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting companies #2.")),!1)}}]),n}(T),Zt=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteCompanies"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteCompaniesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.companiesDelete&&t.companiesDelete.length>0&&ra.commit("DeleteCompaniesRemote",t.companiesDelete),!0}}]),n}(T),en=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushCompanies"}},{key:"GetClientCallbackMethodName",value:function(){return"PushCompaniesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.companies||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying companies #2.")),!1)}}]),n}(T),tn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestCompanies.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:null,logoURI:null,websiteURI:null,lastModifiedISO8601:I["DateTime"].utc().toISO(),lastModifiedBillingId:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.companies;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(n,e)),n||null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateCompanies",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteCompanies",e)}},{key:"NameForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.name||null}},{key:"CompanyListDescriptionForIds",value:function(t){var n,a=[],i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(null!=o){var s=o.value;if(!y(s)){var r=e.NameForId(s);y(r)||a.push(r)}}}}catch(u){i.e(u)}finally{i.f()}for(var l="",c=0;c<a.length;c++)0!==c&&(l+=", "),0!==c&&c===a.length-1&&(l+=" and "),l+=a[c];return y(l)?null:l}},{key:"ValidateObject",value:function(e){return e}},{key:"PermCompaniesCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.companies.request-any")||-1!==e.indexOf("crm.companies.request-company");return t}},{key:"PermCompaniesCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.companies.push-any")||-1!==e.indexOf("crm.companies.push-company");return t}},{key:"PermCompaniesCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.companies.delete-any")||-1!==e.indexOf("crm.companies.delete-company");return t}},{key:"PermCRMReportCompaniesPDF",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.report.companies-pdf");return t}},{key:"PermCRMExportCompaniesCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.companies-csv");return t}}]),e}();tn.RequestCompanies=T.Register(new Xt),tn.DeleteCompanies=T.Register(new Zt),tn.PushCompanies=T.Register(new en),tn._RefreshTracker={};var nn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestAgentsEmploymentStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestAgentsEmploymentStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.agentsEmploymentStatus?(ra.commit("UpdateAgentsEmploymentStatusRemote",t.agentsEmploymentStatus),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error deleting agents employment status #2.")),!1)}}]),n}(T),an=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushAgentsEmploymentStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"PushAgentsEmploymentStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.agentsEmploymentStatus||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying agents employment status #2.")),!1)}}]),n}(T),on=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteAgentsEmploymentStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteAgentsEmploymentStatusRemote"}},{key:"RecieveDefaultAction",value:function(e,t){return t.agentsEmploymentStatusDelete&&t.agentsEmploymentStatusDelete.length>0&&ra.commit("DeleteAgentsEmploymentStatusRemote",t.agentsEmploymentStatusDelete),!0}}]),n}(T),sn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestAgentsEmploymentStatus.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:"",shouldBeListedInScheduler:!1,lastModifiedISO8601:null,lastModifiedBillingId:null,isDefault:!1,isContractor:!1,isEmployee:!1,isActive:!1},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.agentsEmploymentStatus;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateAgentsEmploymentStatus",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteAgentsEmploymentStatus",e)}},{key:"All",value:function(){var e=ra.state.Database.agentsEmploymentStatus,t=F.a.filter(e,(function(e){return!0})),n=F.a.sortBy(t,(function(e){return e.json.name}));return n}},{key:"ValidateObject",value:function(e){return e.json.hasOwnProperty("isDefault")||(e.json.isDefault=!1),e.json.hasOwnProperty("isContractor")||(e.json.isContractor=!1),e.json.hasOwnProperty("isEmployee")||(e.json.isEmployee=!1),e.json.hasOwnProperty("isActive")||(e.json.isActive=!1),e}},{key:"PermEmploymentStatusCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.employment-status.push-any")||-1!==e.indexOf("crm.employment-status.push-company");return t}},{key:"PermEmploymentStatusCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.employment-status.request-any")||-1!==e.indexOf("crm.employment-status.request-company")||-1!==e.indexOf("crm.employment-status.request-self");return t}},{key:"PermEmploymentStatusCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.employment-status.delete-any")||-1!==e.indexOf("crm.employment-status.delete-company");return t}},{key:"PermCRMExportEmploymentStatusCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.employment-status-definitions-csv");return t}}]),e}();sn.RequestAgentsEmploymentStatus=T.Register(new nn),sn.PushAgentsEmploymentStatus=T.Register(new an),sn.DeleteAgentsEmploymentStatus=T.Register(new on),sn._RefreshTracker={},window.DEBUG_EmploymentStatus=sn;var rn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestContacts"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestContactsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.contacts?(ra.commit("UpdateContactsRemote",t.contacts),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting contacts #2.")),!1)}}]),n}(T),ln=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteContacts"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteContactsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.contactsDelete&&t.contactsDelete.length>0&&ra.commit("DeleteContactsRemote",t.contactsDelete),!0}}]),n}(T),cn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushContacts"}},{key:"GetClientCallbackMethodName",value:function(){return"PushContactsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.contacts||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying contacts #2.")),!1)}}]),n}(T),un=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestContacts.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,lastModifiedISO8601:I["DateTime"].utc().toISO(),lastModifiedBillingId:null,name:null,title:null,companyId:null,notes:null,phoneNumbers:[],emails:[],addresses:[]},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.contacts;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(n,e)),n||null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateContacts",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteContacts",e)}},{key:"ForCompanyId",value:function(e){var t=[];return null===e||(t=F.a.filter(ra.state.Database.contacts,(function(t){return t.json.companyId===e})),t=F.a.sortBy(t,(function(e){return e.json.name}))),t}},{key:"NameForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.name||null}},{key:"ValidateObject",value:function(e){return e}},{key:"PermContactsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.contacts.request-any")||-1!==e.indexOf("crm.contacts.request-company");return t}},{key:"PermContactsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.contacts.push-any")||-1!==e.indexOf("crm.contacts.push-company");return t}},{key:"PermContactsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.contacts.delete-any")||-1!==e.indexOf("crm.contacts.delete-company");return t}},{key:"PermCRMReportContactsPDF",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.report.contacts-pdf");return t}},{key:"PermCRMExportContactsCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.contacts-csv");return t}}]),e}();un.RequestContacts=T.Register(new rn),un.DeleteContacts=T.Register(new ln),un.PushContacts=T.Register(new cn),un._RefreshTracker={};var dn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestEstimatingManHours"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestEstimatingManHoursCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.estimatingManHours?(ra.commit("UpdateEstimatingManHoursRemote",t.estimatingManHours),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting man hours #2.")),!1)}}]),n}(T),mn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteEstimatingManHours"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteEstimatingManHoursCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.estimatingManHoursDelete&&t.estimatingManHoursDelete.length>0&&ra.commit("DeleteEstimatingManHoursRemote",t.estimatingManHoursDelete),!0}}]),n}(T),vn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushEstimatingManHours"}},{key:"GetClientCallbackMethodName",value:function(){return"PushEstimatingManHoursCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.estimatingManHours||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying man hours #2.")),!1)}}]),n}(T),pn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestEstimatingManHours.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,item:null,manHours:null,measurement:null,lastModifiedBillingId:null,lastModifiedISO8601:I["DateTime"].utc().toISO()},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.estimatingManHours;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateEstimatingManHours",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteEstimatingManHours",e)}},{key:"ValidateObject",value:function(e){return e}},{key:"PermEstimatingManHoursCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.estimating-man-hours.push-any")||-1!==e.indexOf("crm.estimating-man-hours.push-company");return t}},{key:"PermEstimatingManHoursCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.estimating-man-hours.request-any")||-1!==e.indexOf("crm.estimating-man-hours.request-company")||-1!==e.indexOf("crm.estimating-man-hours.request-self");return t}},{key:"PermEstimatingManHoursCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.estimating-man-hours.delete-any")||-1!==e.indexOf("crm.estimating-man-hours.delete-company");return t}},{key:"PermCRMExportManHoursCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.man-hours-definitions-csv");return t}}]),e}();pn.RequestEstimatingManHours=T.Register(new dn),pn.DeleteEstimatingManHours=T.Register(new mn),pn.PushEstimatingManHours=T.Register(new vn),pn._RefreshTracker={};var fn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestMaterials"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestMaterialsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.materials?(ra.commit("UpdateMaterialsRemote",t.materials),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting materials #2.")),!1)}}]),n}(T),hn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteMaterials"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteMaterialsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.materialsDelete&&t.materialsDelete.length>0&&ra.commit("DeleteMaterialsRemote",t.materialsDelete),!0}}]),n}(T),bn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushMaterials"}},{key:"GetClientCallbackMethodName",value:function(){return"PushMaterialsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.materials||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying materials #2.")),!1)}}]),n}(T),gn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestMaterials.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,lastModifiedISO8601:I["DateTime"].utc().toISO(),lastModifiedBillingId:null,dateUsedISO8601:I["DateTime"].local().toUTC().toISO(),projectId:null,quantity:null,quantityUnit:null,productId:null,isExtra:null,isBilled:null,location:null,notes:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"DeleteIds",value:function(e){ra.commit("DeleteMaterials",e)}},{key:"UpdateIds",value:function(e){ra.commit("UpdateMaterials",e)}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.materials;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"ForProjectIds",value:function(e){var t=ra.state.Database.materials;if(!t)return[];var n=F.a.filter(t,(function(t){var n=t.json.projectId;return!!F.a.find(e,(function(e){return e===n}))}));return n}},{key:"ValidateObject",value:function(e){return e}},{key:"PermMaterialsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.materials.push-any")||-1!==e.indexOf("crm.materials.push-company");return t}},{key:"PermMaterialsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.materials.request-any")||-1!==e.indexOf("crm.materials.request-company")||-1!==e.indexOf("crm.materials.request-self");return t}},{key:"PermMaterialsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.materials.delete-any")||-1!==e.indexOf("crm.materials.delete-company");return t}},{key:"PermCRMReportMaterialsPDF",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.report.materials-pdf");return t}},{key:"PermCRMExportMaterialsCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.materials-csv");return t}}]),e}();gn.RequestMaterials=T.Register(new fn),gn.DeleteMaterials=T.Register(new hn),gn.PushMaterials=T.Register(new bn),gn._RefreshTracker={};var yn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestProjectNotes"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestProjectNotesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.projectNotes?(ra.commit("UpdateProjectNotesRemote",t.projectNotes),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting project notes #2.")),!1)}}]),n}(T),Cn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteProjectNotes"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteProjectNotesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.projectNotesDelete&&t.projectNotesDelete.length>0&&ra.commit("DeleteProjectNotesRemote",t.projectNotesDelete),!0}}]),n}(T),jn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushProjectNotes"}},{key:"GetClientCallbackMethodName",value:function(){return"PushProjectNotesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.projectNotes||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying project notes #2.")),!1)}}]),n}(T),Sn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestProjectNotes.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"ValidateObject",value:function(e){return e.lastModifiedISO8601&&!y(e.lastModifiedISO8601)||(e.json.lastModifiedISO8601&&!y(e.json.lastModifiedISO8601)?e.lastModifiedISO8601=e.json.lastModifiedISO8601:e.lastModifiedISO8601=I["DateTime"].utc().toISO()),e.json.lastModifiedISO8601&&!y(e.json.lastModifiedISO8601)||(e.lastModifiedISO8601&&!y(e.lastModifiedISO8601)?e.json.lastModifiedISO8601=e.lastModifiedISO8601:e.json.lastModifiedISO8601=I["DateTime"].utc().toISO()),e.json.originalISO8601&&!y(e.json.originalISO8601)||e.json.lastModifiedISO8601&&!y(e.json.lastModifiedISO8601)&&(e.json.originalISO8601=e.json.lastModifiedISO8601),e.json.originalBillingId&&!y(e.json.originalBillingId)||e.json.lastModifiedBillingId&&!y(e.json.lastModifiedBillingId)&&(e.json.originalBillingId=e.json.lastModifiedBillingId),void 0===e.json.assignmentId&&(e.json.assignmentId=null),void 0===e.json.internalOnly&&(e.json.internalOnly=!1),void 0===e.json.resolved&&(e.json.resolved=!1),void 0===e.json.noLongerRelevant&&(e.json.noLongerRelevant=!1),e}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,lastModifiedISO8601:I["DateTime"].utc().toISO(),lastModifiedBillingId:null,originalISO8601:null,originalBillingId:null,projectId:null,assignmentId:null,contentType:null,content:null,internalOnly:!1,resolved:!1,noLongerRelevant:!1},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"DeleteIds",value:function(e){ra.commit("DeleteProjectNotes",e)}},{key:"UpdateIds",value:function(e){ra.commit("UpdateProjectNotes",e)}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.projectNotes;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"ForProjectIds",value:function(e){var t=ra.state.Database.projectNotes;if(!t)return[];var n=F.a.filter(t,(function(t){var n=t.json.projectId;return!!F.a.find(e,(function(e){return e===n}))}));return n}},{key:"ForAssignmentIds",value:function(e){var t=ra.state.Database.projectNotes;if(!t)return[];var n=F.a.filter(t,(function(t){var n=t.json.assignmentId;return!!F.a.find(e,(function(e){return e===n}))}));return n}},{key:"PermProjectNotesCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.project-notes.push-any")||-1!==e.indexOf("crm.project-notes.push-company");return t}},{key:"PermProjectNotesCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.project-notes.request-any")||-1!==e.indexOf("crm.project-notes.request-company");return t}},{key:"PermProjectNotesCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.project-notes.delete-any")||-1!==e.indexOf("crm.project-notes.delete-company");return t}}]),e}();Sn.RequestProjectNotes=T.Register(new yn),Sn.DeleteProjectNotes=T.Register(new Cn),Sn.PushProjectNotes=T.Register(new jn),Sn._RefreshTracker={};var In=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestProjectStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestProjectStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.projectStatus?(ra.commit("UpdateProjectStatusRemote",t.projectStatus),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting project status #2.")),!1)}}]),n}(T),Pn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteProjectStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteProjectStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.projectStatusDelete&&t.projectStatusDelete.length>0&&ra.commit("DeleteProjectStatusRemote",t.projectStatusDelete),!0}}]),n}(T),On=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushProjectStatus"}},{key:"GetClientCallbackMethodName",value:function(){return"PushProjectStatusCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.projectStatus||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying project status #2.")),!1)}}]),n}(T),kn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestProjectStatus.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:"",isOpen:!1,isAwaitingPayment:!1,isClosed:!1,isNewProjectStatus:!1,lastModifiedBillingId:null,lastModifiedISO8601:I["DateTime"].utc().toISO()},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.projectStatus;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateProjectStatus",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteProjectStatus",e)}},{key:"ValidateObject",value:function(e){return e}},{key:"PermProjectStatusCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.project-status.push-any")||-1!==e.indexOf("crm.project-status.push-company");return t}},{key:"PermProjectStatusCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.project-status.request-any")||-1!==e.indexOf("crm.project-status.request-company")||-1!==e.indexOf("crm.project-status.request-self");return t}},{key:"PermProjectStatusCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.project-status.delete-any")||-1!==e.indexOf("crm.project-status.delete-company");return t}},{key:"PermCRMExportProjectStatusCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.project-status-definitions-csv");return t}}]),e}();kn.RequestProjectStatus=T.Register(new In),kn.DeleteProjectStatus=T.Register(new Pn),kn.PushProjectStatus=T.Register(new On),kn._RefreshTracker={};var Dn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestProducts"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestProductsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.products?(ra.commit("UpdateProductsRemote",t.products),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting products #2.")),!1)}}]),n}(T),_n=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteProducts"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteProductsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.productsDelete&&t.productsDelete.length>0&&ra.commit("DeleteProductsRemote",t.productsDelete),!0}}]),n}(T),wn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushProducts"}},{key:"GetClientCallbackMethodName",value:function(){return"PushProductsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.products||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying products #2.")),!1)}}]),n}(T),xn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestProducts.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{id:e,name:null,quantityUnit:null,lastModifiedBillingId:null,lastModifiedISO8601:I["DateTime"].utc().toISO()},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.products;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateProducts",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteProducts",e)}},{key:"NameForId",value:function(t){if(!t)return null;var n=e.ForId(t);return n&&n.json&&!y(n.json.name)?n.json.name:null}},{key:"ValidateObject",value:function(e){return e}},{key:"PermProductsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.products.request-any")||-1!==e.indexOf("crm.products.request-company");return t}},{key:"PermProductsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.products.push-any")||-1!==e.indexOf("crm.products.push-company");return t}},{key:"PermProductsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.products.delete-any")||-1!==e.indexOf("crm.products.delete-company");return t}},{key:"PermCRMExportProductsCSV",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.export.product-definitions-csv");return t}}]),e}();xn.RequestProducts=T.Register(new Dn),xn.DeleteProducts=T.Register(new _n),xn.PushProducts=T.Register(new wn),xn._RefreshTracker={},window.DEBUG_Product=xn;var Rn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestDIDs"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestDIDsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.hasOwnProperty("dids")?(ra.commit("UpdateDIDsRemote",t.dids),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting dids #2.")),!1)}}]),n}(T),Mn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteDIDs"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteDIDsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.didsDelete&&t.didsDelete.length>0&&ra.commit("DeleteDIDsRemote",t.didsDelete),!0}}]),n}(T),An=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushDIDs"}},{key:"GetClientCallbackMethodName",value:function(){return"PushDIDsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return console.log("payload",t),!!t.hasOwnProperty("dids")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying dids #2.")),!1)}}]),n}(T),Tn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformCheckDIDPBXRegistered"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformCheckDIDPBXRegisteredCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("isRegistered")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error PerformCheckDIDPBXRegisteredCB RecieveDefaultAction")),!1)}}]),n}(T),Vn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformPBXDeRegisterDID"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformPBXDeRegisterDIDCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.complete||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error PerformPBXDeRegisterDIDCB RecieveDefaultAction")),!1)}}]),n}(T),Bn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformPBXRegisterDID"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformPBXRegisterDIDCB"}},{key:"RecievefaultAction",value:function(e,t){return!!t.complete||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error PerformPBXRegisterDIDCB RecieveDefaultAction")),!1)}}]),n}(T),Ln=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestDIDs.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"ValidateObject",value:function(e){return e}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{DIDNumber:null,assignToType:null,assignToID:null,lastModifiedBillingId:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.dids;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateDIDs",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteDIDs",e)}},{key:"PermDIDsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.dids.request-any")||-1!==e.indexOf("crm.dids.request-company");return t}},{key:"PermDIDsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.dids.push-any")||-1!==e.indexOf("crm.dids.push-company");return t}},{key:"PermDIDsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.dids.delete-any")||-1!==e.indexOf("crm.dids.delete-company");return t}}]),e}();Ln.RequestDIDs=T.Register(new Rn),Ln.DeleteDIDs=T.Register(new Mn),Ln.PushDIDs=T.Register(new An),Ln.PerformCheckDIDPBXRegistered=T.Register(new Tn),Ln.PerformPBXDeRegisterDID=T.Register(new Vn),Ln.PerformPBXRegisterDID=T.Register(new Bn),Ln._RefreshTracker={},window.DEBUG_DID=Ln;var Nn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestOnCallAutoAttendants"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestOnCallAutoAttendantsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.hasOwnProperty("onCallAutoAttendants")?(ra.commit("UpdateOnCallAutoAttendantsRemote",t.onCallAutoAttendants),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting autoAttendants #2.")),!1)}}]),n}(T),En=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteOnCallAutoAttendants"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteOnCallAutoAttendantsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.onCallAutoAttendantsDelete&&t.onCallAutoAttendantsDelete.length>0&&ra.commit("DeleteOnCallAutoAttendantsRemote",t.onCallAutoAttendantsDelete),!0}}]),n}(T),Fn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushOnCallAutoAttendants"}},{key:"GetClientCallbackMethodName",value:function(){return"PushOnCallAutoAttendantsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("onCallAutoAttendants")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying onCallAutoAttendants #2.")),!1)}}]),n}(T),qn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestOnCallAutoAttendants.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"ValidateObject",value:function(e){return e}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{name:null,agentOnCallPriorityCalendars:[],noAgentResponseNotificationNumber:null,noAgentResponseNotificationEMail:null,markedHandledNotificationEMail:null,failoverNumber:"",recordings:{intro:{type:"polly",text:"Thanks for calling, you've reached our after hours on call service.\n\n\n\n If you wish to leave a message for our on call representative, please press 1.",recordingId:null},askForCallbackNumber:{type:"polly",text:"Please provide a callback number that we can reach you at. Followed by the pound key.",recordingId:null},askForMessage:{type:"polly",text:"At the tone, leave a message detailing the nature of the request, as well as any other contact numbers.",recordingId:null},thankYouAfter:{type:"polly",text:"Thank you, we will dispatch this to the on call representative right away.",recordingId:null}},lastModifiedBillingId:null,callAttemptsToEachCalendarBeforeGivingUp:2,minutesBetweenCallAttempts:5},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.onCallAutoAttendants;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateOnCallAutoAttendants",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteOnCallAutoAttendants",e)}},{key:"PermOnCallAutoAttendantsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.on-call-auto-attendants.request-any")||-1!==e.indexOf("crm.on-call-auto-attendants.request-company");return t}},{key:"PermOnCallAutoAttendantsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.on-call-auto-attendants.push-any")||-1!==e.indexOf("crm.on-call-auto-attendants.push-company");return t}},{key:"PermOnCallAutoAttendantsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.on-call-auto-attendants.delete-any")||-1!==e.indexOf("crm.on-call-auto-attendants.delete-company");return t}},{key:"NameForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.name||null}}]),e}();qn.RequestOnCallAutoAttendants=T.Register(new Nn),qn.DeleteOnCallAutoAttendants=T.Register(new En),qn.PushOnCallAutoAttendants=T.Register(new Fn),qn._RefreshTracker={},window.DEBUG_OnCallAutoAttendant=qn;var Gn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestCalendars"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestCalendarsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.hasOwnProperty("calendars")?(ra.commit("UpdateCalendarsRemote",t.calendars),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting calendars #2.")),!1)}}]),n}(T),$n=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteCalendars"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteCalendarsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.calendarsDelete&&t.calendarsDelete.length>0&&ra.commit("DeleteCalendarsRemote",t.calendarsDelete),!0}}]),n}(T),Un=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushCalendars"}},{key:"GetClientCallbackMethodName",value:function(){return"PushCalendarsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("calendars")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying calendars #2.")),!1)}}]),n}(T),Hn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformRetrieveCalendar"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformRetrieveCalendarCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.complete||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error PerformRetrieveCalendarCB RecieveDefaultAction")),!1)}}]),n}(T),Wn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestCalendars.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"ValidateObject",value:function(e){return e}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{name:null,iCalFileURI:null,lastModifiedBillingId:null,iCalFileLastRetrievedISO8601:null,iCalFileLastData:null,occurancesRoughlyAroundThisMonth:[]},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.calendars;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateCalendars",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteCalendars",e)}},{key:"PermCalendarsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.calendars.request-any")||-1!==e.indexOf("crm.calendars.request-company");return t}},{key:"PermCalendarsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.calendars.push-any")||-1!==e.indexOf("crm.calendars.push-company");return t}},{key:"PermCalendarsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.calendars.delete-any")||-1!==e.indexOf("crm.calendars.delete-company");return t}},{key:"NameForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.name||null}}]),e}();Wn.RequestCalendars=T.Register(new Gn),Wn.DeleteCalendars=T.Register(new $n),Wn.PushCalendars=T.Register(new Un),Wn.PerformRetrieveCalendar=T.Register(new Hn),Wn._RefreshTracker={},window.DEBUG_Calendar=Wn;var Kn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestVoicemails"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestVoicemailsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.hasOwnProperty("voicemails")?(ra.commit("UpdateVoicemailsRemote",t.voicemails),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting autoAttendants #2.")),!1)}}]),n}(T),zn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteVoicemails"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteVoicemailsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.voicemailsDelete&&t.voicemailsDelete.length>0&&ra.commit("DeleteVoicemailsRemote",t.voicemailsDelete),!0}}]),n}(T),Jn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushVoicemails"}},{key:"GetClientCallbackMethodName",value:function(){return"PushVoicemailsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.hasOwnProperty("voicemails")||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying voicemails #2.")),!1)}}]),n}(T),Yn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformGetVoicemailRecordingLink"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformGetVoicemailRecordingLinkCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),Qn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PerformVoicemailMarkAsHandled"}},{key:"GetClientCallbackMethodName",value:function(){return"PerformVoicemailMarkAsHandledCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),Xn=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestVoicemails.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"ValidateObject",value:function(e){return e}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{type:null,onCallAutoAttendantId:null,lastModifiedBillingId:null,messageLeftAtISO8601:null,callerIdNumber:null,callerIdName:null,callbackNumber:null,timeline:[],recordingsS3Bucket:null,recordingsS3Host:null,recordingsS3Key:null,recordingS3HttpsURI:null,recordingS3CmdURI:null,onCallAttemptsProgress:[],onCallAttemptsFinished:!1,isMarkedHandled:!1,noAgentResponseNotificationNumber:null,noAgentResponseNotificationEMail:null,markedHandledNotificationEMail:null,nextAttemptAfterISO8601:null,minutesBetweenCallAttempts:null,markedHandledBy:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.voicemails;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n||(n=q(t,e)),n||null}},{key:"UpdateIds",value:function(e){ra.commit("UpdateVoicemails",e)}},{key:"DeleteIds",value:function(e){ra.commit("DeleteVoicemails",e)}},{key:"PermVoicemailsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.voicemails.request-any")||-1!==e.indexOf("crm.voicemails.request-company");return t}},{key:"PermVoicemailsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.voicemails.push-any")||-1!==e.indexOf("crm.voicemails.push-company");return t}},{key:"PermVoicemailsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.voicemails.delete-any")||-1!==e.indexOf("crm.voicemails.delete-company");return t}},{key:"DisplayNameForId",value:function(t){var n=e.ForId(t);if(!n||!n.json||!n.json.messageLeftAtISO8601)return null;var a=I["DateTime"].fromISO(n.json.messageLeftAtISO8601);return"".concat(n.json.callerIdNumber," at ").concat(a.toLocaleString(I["DateTime"].DATETIME_MED))}},{key:"DisplayTypeForId",value:function(t){var n=e.ForId(t);if(!n||!n.json||!n.json.type)return null;switch(n.json.type){case"OnCall":return"On-Call";case null:return"Unknown"}return null}},{key:"DisplayCallerIdNameForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.callerIdName&&!y(n.json.callerIdName)?n.json.callerIdName:null}},{key:"DisplayCallerIdNumberForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.callerIdNumber&&!y(n.json.callerIdNumber)?n.json.callerIdNumber:null}},{key:"DisplayCallbackNumberForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.callbackNumber&&!y(n.json.callbackNumber)?n.json.callbackNumber:null}}]),e}();Xn.RequestVoicemails=T.Register(new Kn),Xn.DeleteVoicemails=T.Register(new zn),Xn.PushVoicemails=T.Register(new Jn),Xn.PerformGetVoicemailRecordingLink=T.Register(new Yn),Xn.PerformVoicemailMarkAsHandled=T.Register(new Qn),Xn._RefreshTracker={},window.DEBUG_Voicemail=Xn;var Zn=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RequestRecordings"}},{key:"GetClientCallbackMethodName",value:function(){return"RequestRecordingsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.recordings?(ra.commit("UpdateRecordingsRemote",t.recordings),!0):(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error requesting recordings #2.")),!1)}}]),n}(T),ea=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"DeleteRecordings"}},{key:"GetClientCallbackMethodName",value:function(){return"DeleteRecordingsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return t.recordingsDelete&&t.recordingsDelete.length>0&&ra.commit("DeleteRecordingsRemote",t.recordingsDelete),!0}}]),n}(T),ta=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"PushRecordings"}},{key:"GetClientCallbackMethodName",value:function(){return"PushRecordingsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!!t.recordings||(e&&e._completeRequestPromiseReject&&e._completeRequestPromiseReject(new Error("Error modifying recordings #2.")),!1)}}]),n}(T),na=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"FetchForId",value:function(t){var n=this,a={roundTripRequestId:k(),outboundRequestPromise:null,completeRequestPromise:null,_completeRequestPromiseResolve:null,_completeRequestPromiseReject:null};if(!t||y(t))return a.outboundRequestPromise=Promise.reject(),a.completeRequestPromise=Promise.reject(),a;for(var i=Object.keys(this._RefreshTracker),o=0,s=i;o<s.length;o++){var r=s[o],l=this._RefreshTracker[r];l.isComplete&&(I["DateTime"].utc()>l.lastRequestTimeUtc.plus({seconds:5})&&delete this._RefreshTracker[r])}var c=this._RefreshTracker[t];if(c)return c.rtr;var u=e.ForId(t);if(u)return a.outboundRequestPromise=Promise.resolve(),a.completeRequestPromise=Promise.resolve(u),a;var d=e.RequestRecordings.Send({sessionId:ce.CurrentSessionId(),limitToIds:[t]});return a.outboundRequestPromise=d.outboundRequestPromise,a.completeRequestPromise=new Promise((function(e,t){a._completeRequestPromiseResolve=e,a._completeRequestPromiseReject=t})),d.completeRequestPromise&&(d.completeRequestPromise.then((function(){a._completeRequestPromiseResolve&&a._completeRequestPromiseResolve(e.ForId(t))})),d.completeRequestPromise.catch((function(e){a._completeRequestPromiseReject&&a._completeRequestPromiseReject(e)})),d.completeRequestPromise.finally((function(){n._RefreshTracker[t].isComplete=!0}))),this._RefreshTracker[t]={lastRequestTimeUtc:I["DateTime"].utc(),isComplete:!1,rtr:d},a}},{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e=k(),t={id:e,json:{name:null,tmpMP3Path:null,tmpPCMPath:null,tmpWAVPath:null,S3Host:null,S3Bucket:null,S3MP3Key:null,S3MP3HTTPSURI:null,S3CMDMP3URI:null,S3WAVKey:null,S3WAVHTTPSURI:null,S3CMDWAVURI:null,S3PCMKey:null,S3PCMHTTPSURI:null,S3CMDPCMURI:null},searchString:null,lastModifiedISO8601:I["DateTime"].utc().toISO()};return t}},{key:"DeleteIds",value:function(e){ra.commit("DeleteRecordings",e)}},{key:"UpdateIds",value:function(e){ra.commit("UpdateRecordings",e)}},{key:"ForId",value:function(e){if(!e)return null;var t=ra.state.Database.recordings;if(!t||0===Object.keys(t).length)return null;var n=t[e];return n&&n.json||(n=q(t,e)),n&&n.json?n:null}},{key:"ValidateObject",value:function(e){return e}},{key:"NameForId",value:function(t){var n=e.ForId(t);return n&&n.json&&n.json.name||null}},{key:"PermRecordingsCanPush",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.recordings.push-any")||-1!==e.indexOf("crm.recordings.push-company");return t}},{key:"PermRecordingsCanRequest",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.recordings.request-any")||-1!==e.indexOf("crm.recordings.request-company")||-1!==e.indexOf("crm.recordings.request-self");return t}},{key:"PermRecordingsCanDelete",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.recordings.delete-any")||-1!==e.indexOf("crm.recordings.delete-company");return t}}]),e}();na.RequestRecordings=T.Register(new Zn),na.DeleteRecordings=T.Register(new ea),na.PushRecordings=T.Register(new ta),na._RefreshTracker={};var aa={state:{billingCompanies:{},billingContacts:{},billingCouponCodes:{},billingCurrency:{},billingIndustries:{},billingInvoices:{},billingJournalEntries:{},billingJournalEntriesType:{},billingPackages:{},billingPackagesType:{},billingPaymentFrequencies:{},billingPaymentMethod:{},billingPermissionsBool:{},billingPermissionsGroups:{},billingPermissionsGroupsMemberships:{},billingSessions:{},billingSubscriptions:{},billingSubscriptionsProvisioningStatus:{},agents:{},assignments:{},assignmentStatus:{},companies:{},agentsEmploymentStatus:{},contacts:{},estimatingManHours:{},labourSubtypeHolidays:{},labourSubtypeException:{},labourSubtypeNonBillable:{},labour:{},labourTypes:{},materials:{},projectNotes:{},projects:{},projectStatus:{},settingsDefault:{},settingsProvisioning:{},settingsUser:{},products:{},skills:{},dids:{},calendars:{},onCallAutoAttendants:{},voicemails:{},recordings:{}},getters:{SortedDeduplicatedContactTitles:function(e){for(var t=["Apprentice","Journeyman","Client","Owner","Manager","Sales"],n=0,a=Object.entries(e.contacts);n<a.length;n++){var i=Object($["a"])(a[n],2),o=(i[0],i[1]),s=o.json.title;null==s||y(s)||-1===t.indexOf(s)&&t.push(s)}return F.a.sortBy(t,(function(e){return e.toLowerCase()}))}},mutations:{UpdateBillingContactsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),r.applicationData=JSON.parse(r.applicationData),a["default"].set(e.billingContacts,s,he.ValidateObject(r))}},DeleteBillingContactsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingContacts,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingCompaniesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingCompanies,s,_t.ValidateObject(r))}},DeleteBillingCompaniesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingCompanies,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingCouponCodesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingCouponCodes,s,gt.ValidateObject(r))}},DeleteBillingCouponCodesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingCouponCodes,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingCurrencyRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingCurrency,s,ht.ValidateObject(r))}},DeleteBillingCurrencyRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingCurrency,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingIndustriesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingIndustries,s,pt.ValidateObject(r))}},DeleteBillingIndustriesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingIndustries,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingInvoicesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingInvoices,s,Mt.ValidateObject(r))}},DeleteBillingInvoicesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingInvoices,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingJournalEntriesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingJournalEntries,s,xt.ValidateObject(r))}},DeleteBillingJournalEntriesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingJournalEntries,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingPackagesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingPackages,s,mt.ValidateObject(r))}},DeleteBillingPackagesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingPackages,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingPackagesTypeRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingPackagesType,s,ut.ValidateObject(r))}},DeleteBillingPackagesTypeRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingPackagesType,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingPaymentFrequenciesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingPaymentFrequencies,s,lt.ValidateObject(r))}},DeleteBillingPaymentFrequenciesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingPaymentFrequencies,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingPaymentMethodRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingPaymentMethod,s,st.ValidateObject(r))}},DeleteBillingPaymentMethodRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingPaymentMethod,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingPermissionsBoolRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingPermissionsBool,s,Q.ValidateObject(r))}},DeleteBillingPermissionsBoolRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingPermissionsBool,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingPermissionsGroupsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingPermissionsGroups,s,at.ValidateObject(r))}},DeleteBillingPermissionsGroupsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingPermissionsGroups,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingPermissionsGroupsMembershipsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingPermissionsGroupsMemberships,s,K.ValidateObject(r))}},DeleteBillingPermissionsGroupsMembershipsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingPermissionsGroupsMemberships,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingSessionsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingSessions,s,ce.ValidateObject(r))}},DeleteBillingSessionsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingSessions,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingSubscriptionsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingSubscriptions,s,Ct.ValidateObject(r))}},DeleteBillingSubscriptionsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingSubscriptions,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateBillingSubscriptionsProvisioningStatusRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.billingSubscriptionsProvisioningStatus,s,tt.ValidateObject(r))}},DeleteBillingSubscriptionsProvisioningStatusRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.billingSubscriptionsProvisioningStatus,o)}}catch(s){i.e(s)}finally{i.f()}},UpdateAgentsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.agents,s,Pe.ValidateObject(r))}},UpdateAgents:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.agents,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Pe.PushAgents.Send({sessionId:ce.CurrentSessionId(),agents:l})},DeleteAgentsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.agents,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteAgents:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.agents,o)}}catch(s){i.e(s)}finally{i.f()}Pe.DeleteAgents.Send({sessionId:ce.CurrentSessionId(),agentsDelete:t})},UpdateAssignmentsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.assignments,s,Ze.ValidateObject(r))}},UpdateAssignments:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.assignments,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Ze.PushAssignments.Send({sessionId:ce.CurrentSessionId(),assignments:l})},DeleteAssignmentsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.assignments,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteAssignments:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.assignments,o)}}catch(s){i.e(s)}finally{i.f()}Ze.DeleteAssignments.Send({sessionId:ce.CurrentSessionId(),assignmentsDelete:t})},UpdateAssignmentStatusRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.assignmentStatus,s,Qt.ValidateObject(r))}},UpdateAssignmentStatus:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.assignmentStatus,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Qt.PushAssignmentStatus.Send({sessionId:ce.CurrentSessionId(),assignmentStatus:l})},DeleteAssignmentStatusRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.assignmentStatus,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteAssignmentStatus:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.assignmentStatus,o)}}catch(s){i.e(s)}finally{i.f()}Qt.DeleteAssignmentStatus.Send({sessionId:ce.CurrentSessionId(),assignmentStatusDelete:t})},UpdateCompaniesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.companies,s,tn.ValidateObject(r))}},UpdateCompanies:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.companies,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}tn.PushCompanies.Send({sessionId:ce.CurrentSessionId(),companies:l})},DeleteCompaniesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.companies,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteCompanies:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.companies,o)}}catch(s){i.e(s)}finally{i.f()}tn.DeleteCompanies.Send({sessionId:ce.CurrentSessionId(),companiesDelete:t})},UpdateAgentsEmploymentStatusRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.agentsEmploymentStatus,s,sn.ValidateObject(r))}},UpdateAgentsEmploymentStatus:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.agentsEmploymentStatus,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}sn.PushAgentsEmploymentStatus.Send({sessionId:ce.CurrentSessionId(),agentsEmploymentStatus:l})},DeleteAgentsEmploymentStatusRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.agentsEmploymentStatus,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteAgentsEmploymentStatus:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.agentsEmploymentStatus,o)}}catch(s){i.e(s)}finally{i.f()}sn.DeleteAgentsEmploymentStatus.Send({sessionId:ce.CurrentSessionId(),agentsEmploymentStatusDelete:t})},UpdateContactsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.contacts,s,un.ValidateObject(r))}},UpdateContacts:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.contacts,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}un.PushContacts.Send({sessionId:ce.CurrentSessionId(),contacts:l})},DeleteContactsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.contacts,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteContacts:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.contacts,o)}}catch(s){i.e(s)}finally{i.f()}un.DeleteContacts.Send({sessionId:ce.CurrentSessionId(),contactsDelete:t})},UpdateEstimatingManHoursRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.estimatingManHours,s,pn.ValidateObject(r))}},UpdateEstimatingManHours:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.estimatingManHours,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}pn.PushEstimatingManHours.Send({sessionId:ce.CurrentSessionId(),estimatingManHours:l})},DeleteEstimatingManHoursRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.estimatingManHours,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteEstimatingManHours:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.estimatingManHours,o)}}catch(s){i.e(s)}finally{i.f()}pn.DeleteEstimatingManHours.Send({sessionId:ce.CurrentSessionId(),estimatingManHoursDelete:t})},UpdateLabourSubtypeHolidaysRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.labourSubtypeHolidays,s,Be.ValidateObject(r))}},UpdateLabourSubtypeHolidays:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.labourSubtypeHolidays,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Be.PushLabourSubtypeHolidays.Send({sessionId:ce.CurrentSessionId(),labourSubtypeHolidays:l})},DeleteLabourSubtypeHolidaysRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourSubtypeHolidays,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteLabourSubtypeHolidays:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourSubtypeHolidays,o)}}catch(s){i.e(s)}finally{i.f()}Be.DeleteLabourSubtypeHolidays.Send({sessionId:ce.CurrentSessionId(),labourSubtypeHolidaysDelete:t})},UpdateLabourSubtypeExceptionRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.labourSubtypeException,s,Me.ValidateObject(r))}},UpdateLabourSubtypeException:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.labourSubtypeException,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Me.PushLabourSubtypeException.Send({sessionId:ce.CurrentSessionId(),labourSubtypeException:l})},DeleteLabourSubtypeExceptionRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourSubtypeException,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteLabourSubtypeException:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourSubtypeException,o)}}catch(s){i.e(s)}finally{i.f()}Me.DeleteLabourSubtypeException.Send({sessionId:ce.CurrentSessionId(),labourSubtypeExceptionDelete:t})},UpdateLabourSubtypeNonBillableRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.labourSubtypeNonBillable,s,Fe.ValidateObject(r))}},UpdateLabourSubtypeNonBillable:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.labourSubtypeNonBillable,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Fe.PushLabourSubtypeNonBillable.Send({sessionId:ce.CurrentSessionId(),labourSubtypeNonBillable:l})},DeleteLabourSubtypeNonBillableRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourSubtypeNonBillable,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteLabourSubtypeNonBillable:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourSubtypeNonBillable,o)}}catch(s){i.e(s)}finally{i.f()}Fe.DeleteLabourSubtypeNonBillable.Send({sessionId:ce.CurrentSessionId(),labourSubtypeNonBillableDelete:t})},UpdateLabourRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.labour,s,Ue.ValidateObject(r))}},UpdateLabour:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.labour,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Ue.PushLabour.Send({sessionId:ce.CurrentSessionId(),labour:l})},DeleteLabourRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labour,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteLabour:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labour,o)}}catch(s){i.e(s)}finally{i.f()}Ue.DeleteLabour.Send({sessionId:ce.CurrentSessionId(),labourDelete:t})},UpdateLabourTypesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.labourTypes,s,_e.ValidateObject(r))}},UpdateLabourTypes:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.labourTypes,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}_e.PushLabourTypes.Send({sessionId:ce.CurrentSessionId(),labourTypes:l})},DeleteLabourTypesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourTypes,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteLabourTypes:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.labourTypes,o)}}catch(s){i.e(s)}finally{i.f()}_e.DeleteLabourTypes.Send({sessionId:ce.CurrentSessionId(),labourTypesDelete:t})},UpdateMaterialsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.materials,s,gn.ValidateObject(r))}},UpdateMaterials:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.materials,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}gn.PushMaterials.Send({sessionId:ce.CurrentSessionId(),materials:l})},DeleteMaterialsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.materials,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteMaterials:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.materials,o)}}catch(s){i.e(s)}finally{i.f()}gn.DeleteMaterials.Send({sessionId:ce.CurrentSessionId(),materialsDelete:t})},UpdateProjectNotesRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.projectNotes,s,Sn.ValidateObject(r))}},UpdateProjectNotes:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.projectNotes,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Sn.PushProjectNotes.Send({sessionId:ce.CurrentSessionId(),projectNotes:l})},DeleteProjectNotesRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.projectNotes,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteProjectNotes:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.projectNotes,o)}}catch(s){i.e(s)}finally{i.f()}Sn.DeleteProjectNotes.Send({sessionId:ce.CurrentSessionId(),projectNotesDelete:t})},UpdateProjectsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.projects,s,ze.ValidateObject(r))}},UpdateProjects:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.projects,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}ze.PushProjects.Send({sessionId:ce.CurrentSessionId(),projects:l})},DeleteProjectsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.projects,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteProjects:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.projects,o)}}catch(s){i.e(s)}finally{i.f()}ze.DeleteProjects.Send({sessionId:ce.CurrentSessionId(),projectsDelete:t})},UpdateProjectStatusRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.projectStatus,s,kn.ValidateObject(r))}},UpdateProjectStatus:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.projectStatus,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}kn.PushProjectStatus.Send({sessionId:ce.CurrentSessionId(),projectStatus:l})},DeleteProjectStatusRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.projectStatus,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteProjectStatus:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.projectStatus,o)}}catch(s){i.e(s)}finally{i.f()}kn.DeleteProjectStatus.Send({sessionId:ce.CurrentSessionId(),projectStatusDelete:t})},UpdateSettingsDefaultRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.settingsDefault,s,Kt.ValidateObject(r))}},UpdateSettingsDefault:function(e,t){console.error("Don't call this function.")},DeleteSettingsDefaultRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.settingsDefault,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteSettingsDefault:function(e,t){console.error("Don't call this function.")},UpdateSettingsProvisioningRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.settingsProvisioning,s,$t.ValidateObject(r))}},UpdateSettingsProvisioning:function(e,t){console.error("Don't call this function.")},DeleteSettingsProvisioningRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.settingsProvisioning,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteSettingsProvisioning:function(e,t){console.error("Don't call this function.")},UpdateSettingsUserRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.settingsUser,s,Ft.ValidateObject(r))}},UpdateSettingsUser:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.settingsUser,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Ft.PushSettingsUser.Send({sessionId:ce.CurrentSessionId(),settingsUser:l})},DeleteSettingsUserRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.settingsUser,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteSettingsUser:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.settingsUser,o)}}catch(s){i.e(s)}finally{i.f()}Ft.DeleteSettingsUser.Send({sessionId:ce.CurrentSessionId(),settingsUserDelete:t})},UpdateProductsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.products,s,xn.ValidateObject(r))}},UpdateProducts:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.products,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}xn.PushProducts.Send({sessionId:ce.CurrentSessionId(),products:l})},DeleteProductsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.products,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteProducts:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.products,o)}}catch(s){i.e(s)}finally{i.f()}xn.DeleteProducts.Send({sessionId:ce.CurrentSessionId(),productsDelete:t})},UpdateSkillsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.skills,s,Bt.ValidateObject(r))}},UpdateSkills:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.skills,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Bt.PushSkills.Send({sessionId:ce.CurrentSessionId(),skills:l})},DeleteSkillsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.skills,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteSkills:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.skills,o)}}catch(s){i.e(s)}finally{i.f()}Bt.DeleteSkills.Send({sessionId:ce.CurrentSessionId(),skillsDelete:t})},UpdateDIDsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.dids,s,Ln.ValidateObject(r))}},UpdateDIDs:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.dids,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Ln.PushDIDs.Send({sessionId:ce.CurrentSessionId(),dids:l})},DeleteDIDsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.dids,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteDIDs:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.dids,o)}}catch(s){i.e(s)}finally{i.f()}Ln.DeleteDIDs.Send({sessionId:ce.CurrentSessionId(),didsDelete:t})},UpdateCalendarsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.calendars,s,Wn.ValidateObject(r))}},UpdateCalendars:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.calendars,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Wn.PushCalendars.Send({sessionId:ce.CurrentSessionId(),calendars:l})},DeleteCalendarsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.calendars,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteCalendars:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.calendars,o)}}catch(s){i.e(s)}finally{i.f()}Wn.DeleteCalendars.Send({sessionId:ce.CurrentSessionId(),calendarsDelete:t})},UpdateOnCallAutoAttendantsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.onCallAutoAttendants,s,qn.ValidateObject(r))}},UpdateOnCallAutoAttendants:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.onCallAutoAttendants,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}qn.PushOnCallAutoAttendants.Send({sessionId:ce.CurrentSessionId(),onCallAutoAttendants:l})},DeleteOnCallAutoAttendantsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.onCallAutoAttendants,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteOnCallAutoAttendants:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.onCallAutoAttendants,o)}}catch(s){i.e(s)}finally{i.f()}qn.DeleteOnCallAutoAttendants.Send({sessionId:ce.CurrentSessionId(),onCallAutoAttendantsDelete:t})},UpdateVoicemailsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.voicemails,s,Xn.ValidateObject(r))}},UpdateVoicemails:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json.lastModifiedBillingId=he.CurrentBillingContactId(),r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.voicemails,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}Xn.PushVoicemails.Send({sessionId:ce.CurrentSessionId(),voicemails:l})},DeleteVoicemailsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.voicemails,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteVoicemails:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.voicemails,o)}}catch(s){i.e(s)}finally{i.f()}Xn.DeleteVoicemails.Send({sessionId:ce.CurrentSessionId(),voicemailsDelete:t})},UpdateRecordingsRemote:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.json=JSON.parse(r.json),a["default"].set(e.recordings,s,na.ValidateObject(r))}},UpdateRecordings:function(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var o=Object($["a"])(i[n],2),s=o[0],r=o[1];r.lastModifiedISO8601=I["DateTime"].utc().toISO(),a["default"].set(e.recordings,s,r)}for(var l=F.a.cloneDeep(t),c=0,u=Object.entries(l);c<u.length;c++){var d=Object($["a"])(u[c],2),m=(d[0],d[1]);m.json=JSON.stringify(m.json)}na.PushRecordings.Send({sessionId:ce.CurrentSessionId(),recordings:l})},DeleteRecordingsRemote:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.recordings,o)}}catch(s){i.e(s)}finally{i.f()}},DeleteRecordings:function(e,t){var n,i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;a["default"].delete(e.recordings,o)}}catch(s){i.e(s)}finally{i.f()}na.DeleteRecordings.Send({sessionId:ce.CurrentSessionId(),recordingsDelete:t})}},actions:{}},ia={state:{notifications:[]},getters:{},mutations:{AddNotification:function(e,t){console.debug("AddNotification",e,t);var n=e.notifications;n.push(t),p["c"].set(e,"notifications",n)},ClearAllNotifications:function(e){p["c"].set(e,"notifications",[])},ClearIndex:function(e,t){var n=e.notifications;n.splice(t.index,1),p["c"].set(e,"notifications",n)},ClearId:function(e,t){var n=e.notifications;F.a.remove(n,(function(e){return e.id===t.id})),p["c"].set(e,"notifications",n)}},actions:{}},oa=n("0056");a["default"].use(C["a"]);var sa=new C["a"].Store({plugins:[Object(oa["a"])()],state:{openDialogues:{},dialogueModelStates:{},drawers:{showNavigation:window.innerWidth>960},demoMode:!1},mutations:{reset:function(){},SetModelState:function(e,t){a["default"].set(e.dialogueModelStates,t.name,t.state)},SetDemoMode:function(e,t){a["default"].set(e,"demoMode",t)}},modules:{Sessions:be,Database:aa,Notifications:ia}});window.DEBUG_store=sa;var ra=sa,la=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"Open",value:function(e){if(-1===Object.keys(ra.state.openDialogues).indexOf(e.name)){var t=ra.state.dialogueModelStates[e.name];t||(t={}),F.a.merge(t,e.state),a["default"].set(ra.state.dialogueModelStates,e.name,t),a["default"].set(ra.state.openDialogues,e.name,e)}}},{key:"Close",value:function(e){a["default"].delete(ra.state.openDialogues,e)}},{key:"GetOpen",value:function(){return ra.state.openDialogues}},{key:"IsDialogueOpen",value:function(e){return-1!==Object.keys(ra.state.openDialogues).indexOf(e)}},{key:"GetDialogueModelState",value:function(e){if(!ra.state||!ra.state.dialogueModelStates)return null;var t=ra.state.dialogueModelStates[e]||null;return t}},{key:"SetDialogueModelState",value:function(e){ra.commit("SetModelState",e)}}]),e}(),ca=la,ua=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"DialogueName",get:function(){throw Error("not implemented")}},{key:"ModelState",get:function(){return ca.GetDialogueModelState(this.DialogueName)},set:function(e){ca.SetDialogueModelState({name:this.DialogueName,state:e})}},{key:"IsOpen",get:function(){return ca.IsDialogueOpen(this.DialogueName)}}]),n}(p["c"]);ua=Object(v["a"])([Object(p["a"])({components:{}})],ua);var da=ua,ma=function(){return window.matchMedia("(max-width: 500px)").matches},va=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.companyAbbreviation="CWE",e.contactEMail="",e.contactPassword="",e.CurrentSessionId=ce.CurrentSessionId,e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"ShowLoginDialogue",get:function(){var e=y(ce.CurrentSessionId()),t=ca.IsDialogueOpen("DemoIntroductionDialogue"),n=ca.IsDialogueOpen("RegisterDialogue"),a=O();return e&&!t&&!a&&!n}},{key:"DialogueName",get:function(){return"LoginDialogue"}},{key:"OnClickLearnMore",value:function(){window.open("https://www.dispatchpulse.com/")}},{key:"OnClickTryADemo",value:function(){ca.Open({name:"DemoIntroductionDialogue",state:null})}},{key:"OnClickSignUp",value:function(){console.log("OnClickSignUp"),ca.Open({name:"RegisterDialogue",state:null})}},{key:"OnClickLogin",value:function(){var e=this;console.log("OnClickLogin()",this),O()||(this.companyAbbreviation&&!y(this.companyAbbreviation)?this.contactEMail&&!y(this.contactEMail)?this.contactPassword&&!y(this.contactPassword)?x.Ready((function(){var t=ce.PerformCreateBillingSessionForCredentials.Send({sessionId:null,companyAbbreviation:e.companyAbbreviation,contactEMail:e.contactEMail,contactPassword:e.contactPassword});t.completeRequestPromise&&(t.completeRequestPromise.then((function(){e.companyAbbreviation="",e.contactEMail="",e.contactPassword="",requestAnimationFrame((function(){e.$emit("OnLogin",null)}))})),t.completeRequestPromise.catch((function(e){D.AddNotification({severity:"error",message:e.message,autoClearInSeconds:10}),console.error("GetNewSession error",e)})))})):D.AddNotification({severity:"error",message:"Password cannot be empty.",autoClearInSeconds:10}):D.AddNotification({severity:"error",message:"E-Mail Address cannot be empty.",autoClearInSeconds:10}):D.AddNotification({severity:"error",message:"Company Abbreviation cannot be empty.",autoClearInSeconds:10}))}}]),n}(da);va=Object(v["a"])([Object(p["a"])({components:{}})],va);var pa=va,fa=pa,ha=n("2877"),ba=n("6544"),ga=n.n(ba),ya=n("8336"),Ca=n("b0af"),ja=n("99d9"),Sa=n("62ad"),Ia=n("a523"),Pa=n("169a"),Oa=n("4bd4"),ka=n("132d"),Da=n("0fd9"),_a=n("2fa4"),wa=n("8654"),xa=Object(ha["a"])(fa,b,g,!1,null,null,null),Ra=xa.exports;ga()(xa,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VForm:Oa["a"],VIcon:ka["a"],VRow:Da["a"],VSpacer:_a["a"],VTextField:wa["a"]});var Ma=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-navigation-drawer",{staticStyle:{"z-index":"10"},attrs:{width:"260px",fixed:"",app:"","mobile-breakpoint":"960"},model:{value:e.$store.state.drawers.showNavigation,callback:function(t){e.$set(e.$store.state.drawers,"showNavigation",t)},expression:"$store.state.drawers.showNavigation"}},[n("v-img",{staticStyle:{"max-height":"185px"},attrs:{src:"https://static.dispatchpulse.com/app-version-images/v3-on-call.jpg",dark:""}},[n("v-avatar",{staticStyle:{"margin-left":"32px","margin-top":"32px",filter:"drop-shadow(2px 2px 2px rgba(0, 0, 0, 1))"},attrs:{size:"64px",color:"indigo"}},[n("v-icon",{attrs:{dark:""}},[e._v("account_circle")])],1),n("v-spacer"),n("div",{staticStyle:{"text-shadow":"2px 2px 2px rgba(0, 0, 0, 1)","padding-left":"32px","margin-top":"20px","padding-top":"5px",color:"white","font-size":"18px","font-weight":"bold",background:"linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.4) 10%,rgba(0,0,0,0.4) 100%)","min-height":"32px"}},[e._v(" "+e._s(e.CurrentBillingContactName()))]),n("div",{staticStyle:{"text-shadow":"2px 2px 2px rgba(0, 0, 0, 1)","padding-left":"32px","padding-top":"5px","padding-bottom":"10px",background:"rgba(0,0,0,0.4)",color:"white","min-height":"39px"}},[e._v(e._s(e.CurrentBillingContactEmail()))])],1),e.GetDemoMode()?n("div",{staticStyle:{color:"white",background:"#ffc107",padding:"3px","padding-left":"72px","padding-right":"15px"}},[e._v(" Demo Mode ")]):e._e(),n("v-list",{attrs:{expand:""}},[n("v-list-group",{attrs:{"prepend-icon":"dashboard"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v("Dashboard")])]},proxy:!0}]),model:{value:e.sideNavExpandDashboard,callback:function(t){e.sideNavExpandDashboard=t},expression:"sideNavExpandDashboard"}},[e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-sidenav-dashboard",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{to:"/section/dashboard/agent",dense:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Agent Dashboard")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-sidenav-dashboard",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{to:"/section/dashboard/dispatch",dense:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Dispatch Dashboard")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-sidenav-dashboard",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{to:"/section/dashboard/billing",dense:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Billing Dashboard")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-sidenav-dashboard",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{to:"/section/dashboard/management",dense:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Management Dashboard")])],1)],1):e._e(),e.cacheLicensedOnCall?n("v-list-item",{staticClass:"e2e-sidenav-dashboard",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{to:"/section/dashboard/on-call",dense:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("On-Call Dashboard")])],1)],1):e._e()],1),n("v-divider"),e.cacheAnyPermissions?e._e():n("div",{staticStyle:{padding:"5px","padding-left":"20px","padding-right":"20px","text-align":"center"}}),e.cachePermCRMNavigationShowAddressBook?n("v-list-group",{attrs:{"prepend-icon":"contacts"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v("Address Book")])]},proxy:!0}],null,!1,1779124536),model:{value:e.sideNavExpandAddressBook,callback:function(t){e.sideNavExpandAddressBook=t},expression:"sideNavExpandAddressBook"}},[e.cachePermCRMNavigationShowAllContacts?n("v-list-item",{staticClass:"e2e-sidenav-all-contacts",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/contacts/index"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Contacts")])],1)],1):e._e(),e.cachePermCRMNavigationShowAllCompanies?n("v-list-item",{staticClass:"e2e-sidenav-all-companies",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/companies/index"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Companies")])],1)],1):e._e()],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowProjects?n("v-list-group",{attrs:{"prepend-icon":"assignment"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v("Projects")])]},proxy:!0}],null,!1,2699705473),model:{value:e.sideNavExpandProjects,callback:function(t){e.sideNavExpandProjects=t},expression:"sideNavExpandProjects"}},[e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAllProjects?n("v-list-item",{staticClass:"e2e-sidenav-all-projects",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/projects"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Projects")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAllAssignments?n("v-list-item",{staticClass:"e2e-sidenav-all-assignments",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/assignments"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Assignments")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAllMaterialEntries?n("v-list-item",{staticClass:"e2e-sidenav-all-material-entries",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/material-entries"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Material Entries")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowProjectDefinitions?n("v-list-group",{staticClass:"e2e-sidenav-project-definitons-expander",staticStyle:{"min-height":"0px"},attrs:{dense:"","no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Definitions")])],1)]},proxy:!0}],null,!1,3215844388),model:{value:e.sideNavExpandProjectDefinitions,callback:function(t){e.sideNavExpandProjectDefinitions=t},expression:"sideNavExpandProjectDefinitions"}},[e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowProductsDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-product-definitions",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/product-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Products")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAssignmentStatusDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-assignment-status-definitions",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/assignment-status-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Assignment Status")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowManHoursDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-man-hours-definitions",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/man-hours-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Man Hours")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowProjectStatusDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-project-status-definitions",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/project-status-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Project Status")])],1)],1):e._e()],1):e._e()],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAgents?n("v-list-group",{attrs:{"prepend-icon":"directions_walk"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v("Agents & Time")])]},proxy:!0}],null,!1,4106388158),model:{value:e.sideNavExpandAgents,callback:function(t){e.sideNavExpandAgents=t},expression:"sideNavExpandAgents"}},[e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAllAgents?n("v-list-item",{staticClass:"e2e-sidenav-all-agents",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/agents"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Agents")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAllLabourEntries?n("v-list-item",{staticClass:"e2e-sidenav-all-labour-entries",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/labour"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Labour/Time Entries")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowAgentsDefinitions?n("v-list-group",{staticClass:"e2e-agent-definitons-expansion",staticStyle:{"min-height":"0px"},attrs:{dense:"","no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Definitions")])],1)]},proxy:!0}],null,!1,3215844388),model:{value:e.sideNavExpandAgentDefinitions,callback:function(t){e.sideNavExpandAgentDefinitions=t},expression:"sideNavExpandAgentDefinitions"}},[e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowEmploymentStatusDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-employment-status-definitions",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/employment-status-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Employment Status")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowLabourExceptionDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-labour-exception-definitions",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/labour-exception-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Labour Exceptions")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowLabourHolidaysDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-labour-holidays-definitons",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/labour-holiday-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Labour Holidays")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime&&e.cachePermCRMNavigationShowLabourNonBillableDefinitions?n("v-list-item",{staticClass:"e2e-sidenav-labour-non-billable-definitions",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/labour-non-billable-definitions"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Labour Non Billable")])],1)],1):e._e()],1):e._e()],1):e._e(),n("v-divider"),e.cacheLicensedOnCall&&e.cachePermCRMNavigationShowPhoneServices?n("v-list-group",{attrs:{"prepend-icon":"phone"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v("Phone Services")])]},proxy:!0}],null,!1,306317781),model:{value:e.sideNavExpandPhoneServices,callback:function(t){e.sideNavExpandPhoneServices=t},expression:"sideNavExpandPhoneServices"}},[e.cacheLicensedOnCall&&e.cachePermCRMNavigationShowPhoneServicesVoicemails?n("v-list-item",{staticClass:"e2e-sidenav-all-reports",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/voicemails"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Voicemails")])],1)],1):e._e(),e.cacheLicensedOnCall&&e.cachePermCRMNavigationShowPhoneServicesSetup?n("v-list-group",{staticClass:"e2e-sidenav-project-definitons-expander",staticStyle:{"min-height":"0px"},attrs:{dense:"","no-action":"","sub-group":""},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Setup")])],1)]},proxy:!0}],null,!1,3371616901),model:{value:e.sideNavExpandPhoneServicesSetup,callback:function(t){e.sideNavExpandPhoneServicesSetup=t},expression:"sideNavExpandPhoneServicesSetup"}},[e.cacheLicensedOnCall&&e.cachePermCRMNavigationShowPhoneServicesPhoneNumbers?n("v-list-item",{staticClass:"e2e-sidenav-all-reports",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/dids"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Phone Numbers")])],1)],1):e._e(),e.cacheLicensedOnCall&&e.cachePermCRMNavigationShowPhoneServicesOnCallResponders?n("v-list-item",{staticClass:"e2e-sidenav-all-reports",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/on-call"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("On Call Responders")])],1)],1):e._e(),e.cacheLicensedOnCall&&e.cachePermCRMNavigationShowPhoneServicesRecordings?n("v-list-item",{staticClass:"e2e-sidenav-all-reports",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/recordings"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Recordings")])],1)],1):e._e(),e.cacheLicensedOnCall&&e.cachePermCRMNavigationShowPhoneServicesCalendars?n("v-list-item",{staticClass:"e2e-sidenav-all-reports",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/calendars"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("Calendars")])],1)],1):e._e()],1):e._e()],1):e._e(),n("v-divider"),e.cachePermCRMNavigationShowReports?n("v-list-group",{attrs:{"prepend-icon":"mdi-file-chart"},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v("Reports")])]},proxy:!0}],null,!1,408054266),model:{value:e.sideNavExpandReports,callback:function(t){e.sideNavExpandReports=t},expression:"sideNavExpandReports"}},[e.cachePermCRMNavigationShowAllReports?n("v-list-item",{staticClass:"e2e-sidenav-all-reports",staticStyle:{"min-height":"25px","padding-left":"72px"},attrs:{dense:"",to:"/section/reports"}},[n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v("All Reports")])],1)],1):e._e()],1):e._e(),n("v-divider"),n("v-divider"),e.cachePermCRMNavigationShowSettings?n("v-list-item",{staticClass:"e2e-sidenav-settings",attrs:{to:"/settings"}},[n("v-list-item-action",[n("v-icon",[e._v("settings")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Settings and Account")])],1)],1):e._e(),e.GetDemoMode()?e._e():n("v-list-item",{attrs:{disabled:e.GetDemoMode()},on:{click:function(t){return e.OpenLogOut()}}},[n("v-list-item-action",[n("v-icon",[e._v("exit_to_app")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Log Out")])],1)],1),e.GetDemoMode()?n("v-list-item",{on:{click:function(t){return e.ExitDemo()}}},[n("v-list-item-action",[n("v-icon",[e._v("exit_to_app")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Exit Demo")])],1)],1):e._e(),n("v-spacer",{staticClass:"d-flex d-sm-none",staticStyle:{height:"100px"}})],1)],1)},Aa=[],Ta=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"PermCRMNavigationShowAddressBook",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.address-book");return t}},{key:"PermCRMNavigationShowAllContacts",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-contacts");return t}},{key:"PermCRMNavigationShowAllCompanies",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-companies");return t}},{key:"PermCRMNavigationShowProjects",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.projects");return t}},{key:"PermCRMNavigationShowAllProjects",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-projects");return t}},{key:"PermCRMNavigationShowAllAssignments",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-assignments");return t}},{key:"PermCRMNavigationShowAllMaterialEntries",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-material-entries");return t}},{key:"PermCRMNavigationShowProjectDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.project-definitions");return t}},{key:"PermCRMNavigationShowProductsDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.product-definitions");return t}},{key:"PermCRMNavigationShowAssignmentStatusDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.assignment-status-definitions");return t}},{key:"PermCRMNavigationShowManHoursDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.man-hours-definitions");return t}},{key:"PermCRMNavigationShowProjectStatusDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.project-status-definitions");return t}},{key:"PermCRMNavigationShowAgents",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.agents");return t}},{key:"PermCRMNavigationShowAllAgents",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-agents");return t}},{key:"PermCRMNavigationShowAllLabourEntries",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-labour-entries");return t}},{key:"PermCRMNavigationShowAgentsDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.agents-definitions");return t}},{key:"PermCRMNavigationShowEmploymentStatusDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.employment-status-definitions");return t}},{key:"PermCRMNavigationShowLabourExceptionDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.labour-exception-definitions");return t}},{key:"PermCRMNavigationShowLabourHolidaysDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.labour-holidays-definitions");return t}},{key:"PermCRMNavigationShowLabourNonBillableDefinitions",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.labour-non-billable-definitions");return t}},{key:"PermCRMNavigationShowReports",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.reports");return t}},{key:"PermCRMNavigationShowAllReports",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.all-reports");return t}},{key:"PermCRMNavigationShowSettings",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.settings");return t}},{key:"PermCRMNavigationShowPhoneServices",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.phone-services");return t}},{key:"PermCRMNavigationShowPhoneServicesPhoneNumbers",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.phone-services-phone-numbers");return t}},{key:"PermCRMNavigationShowPhoneServicesRecordings",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.phone-services-recordings");return t}},{key:"PermCRMNavigationShowPhoneServicesSetup",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.phone-services-setup");return t}},{key:"PermCRMNavigationShowPhoneServicesOnCallResponders",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.phone-services-on-call-responders");return t}},{key:"PermCRMNavigationShowPhoneServicesCalendars",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.phone-services-calendars");return t}},{key:"PermCRMNavigationShowPhoneServicesVoicemails",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.navigation.show.phone-services-voicemails");return t}},{key:"PermCRMNavigationLicensedProjectsSchedulingTime",value:function(){if(O())return!0;var e=he.ForCurrentSession();return!!(e&&e.json&&e.json.licenseAssignedProjectsSchedulingTime)&&e.json.licenseAssignedProjectsSchedulingTime}},{key:"PermCRMNavigationLicensedOnCall",value:function(){if(O())return!0;var e=he.ForCurrentSession();return!!(e&&e.json&&e.json.licenseAssignedOnCall)&&e.json.licenseAssignedOnCall}}]),e}(),Va=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.CurrentBillingContactEmail=he.EMailForCurrentSession,e.CurrentBillingContactName=he.NameForCurrentSession,e.GetDemoMode=O,e.sideNavExpandDashboard=!0,e.sideNavExpandAddressBook=!0,e.sideNavExpandProjects=!0,e.sideNavExpandProjectDefinitions=!1,e.sideNavExpandAgents=!0,e.sideNavExpandAgentDefinitions=!1,e.sideNavExpandPhoneServices=!0,e.sideNavExpandPhoneServicesSetup=!1,e.sideNavExpandReports=!0,e._periodicInterval=null,e.cacheAnyPermissions=!1,e.cachePermCRMNavigationShowAddressBook=!1,e.cachePermCRMNavigationShowAllContacts=!1,e.cachePermCRMNavigationShowAllCompanies=!1,e.cachePermCRMNavigationShowProjects=!1,e.cachePermCRMNavigationShowAllProjects=!1,e.cachePermCRMNavigationShowAllAssignments=!1,e.cachePermCRMNavigationShowAllMaterialEntries=!1,e.cachePermCRMNavigationShowProjectDefinitions=!1,e.cachePermCRMNavigationShowProductsDefinitions=!1,e.cachePermCRMNavigationShowAssignmentStatusDefinitions=!1,e.cachePermCRMNavigationShowManHoursDefinitions=!1,e.cachePermCRMNavigationShowProjectStatusDefinitions=!1,e.cachePermCRMNavigationShowAgents=!1,e.cachePermCRMNavigationShowAllAgents=!1,e.cachePermCRMNavigationShowAllLabourEntries=!1,e.cachePermCRMNavigationShowAgentsDefinitions=!1,e.cachePermCRMNavigationShowEmploymentStatusDefinitions=!1,e.cachePermCRMNavigationShowLabourExceptionDefinitions=!1,e.cachePermCRMNavigationShowLabourHolidaysDefinitions=!1,e.cachePermCRMNavigationShowLabourNonBillableDefinitions=!1,e.cachePermCRMNavigationShowReports=!1,e.cachePermCRMNavigationShowAllReports=!1,e.cachePermCRMNavigationShowSettings=!1,e.cachePermCRMNavigationShowPhoneServices=!1,e.cachePermCRMNavigationShowPhoneServicesSetup=!1,e.cachePermCRMNavigationShowPhoneServicesPhoneNumbers=!1,e.cachePermCRMNavigationShowPhoneServicesOnCallResponders=!1,e.cachePermCRMNavigationShowPhoneServicesCalendars=!1,e.cachePermCRMNavigationShowPhoneServicesVoicemails=!1,e.cachePermCRMNavigationShowPhoneServicesRecordings=!1,e.cacheLicensedProjectsSchedulingTime=!1,e.cacheLicensedOnCall=!1,e}return Object(u["a"])(n,[{key:"SideNavExpandDashboard",get:function(){return this.sideNavExpandDashboard},set:function(e){this.sideNavExpandDashboard=e}},{key:"SideNavExpandAddressBook",get:function(){return this.sideNavExpandAddressBook},set:function(e){this.sideNavExpandAddressBook=e}},{key:"SideNavExpandProjects",get:function(){return this.sideNavExpandProjects},set:function(e){this.sideNavExpandProjects=e}},{key:"SideNavExpandProjectDefinitions",get:function(){return this.sideNavExpandProjectDefinitions},set:function(e){this.sideNavExpandProjectDefinitions=e}},{key:"SideNavExpandAgents",get:function(){return this.sideNavExpandAgents},set:function(e){this.sideNavExpandAgents=e}},{key:"SideNavExpandAgentDefinitions",get:function(){return this.sideNavExpandAgentDefinitions},set:function(e){this.sideNavExpandAgentDefinitions=e}},{key:"mounted",value:function(){this._periodicInterval=setInterval(this.Periodic,1e3)}},{key:"destroyed",value:function(){null!=this._periodicInterval&&clearInterval(this._periodicInterval)}},{key:"Periodic",value:function(){this.cacheAnyPermissions=Q.HasAnyPermissions(),this.cachePermCRMNavigationShowAddressBook=Ta.PermCRMNavigationShowAddressBook(),this.cachePermCRMNavigationShowAllContacts=Ta.PermCRMNavigationShowAllContacts(),this.cachePermCRMNavigationShowAllCompanies=Ta.PermCRMNavigationShowAllCompanies(),this.cachePermCRMNavigationShowProjects=Ta.PermCRMNavigationShowProjects(),this.cachePermCRMNavigationShowAllProjects=Ta.PermCRMNavigationShowAllProjects(),this.cachePermCRMNavigationShowAllAssignments=Ta.PermCRMNavigationShowAllAssignments(),this.cachePermCRMNavigationShowAllMaterialEntries=Ta.PermCRMNavigationShowAllMaterialEntries(),this.cachePermCRMNavigationShowProjectDefinitions=Ta.PermCRMNavigationShowProjectDefinitions(),this.cachePermCRMNavigationShowProductsDefinitions=Ta.PermCRMNavigationShowProductsDefinitions(),this.cachePermCRMNavigationShowAssignmentStatusDefinitions=Ta.PermCRMNavigationShowAssignmentStatusDefinitions(),this.cachePermCRMNavigationShowManHoursDefinitions=Ta.PermCRMNavigationShowManHoursDefinitions(),this.cachePermCRMNavigationShowProjectStatusDefinitions=Ta.PermCRMNavigationShowProjectStatusDefinitions(),this.cachePermCRMNavigationShowAgents=Ta.PermCRMNavigationShowAgents(),this.cachePermCRMNavigationShowAllAgents=Ta.PermCRMNavigationShowAllAgents(),this.cachePermCRMNavigationShowAllLabourEntries=Ta.PermCRMNavigationShowAllLabourEntries(),this.cachePermCRMNavigationShowAgentsDefinitions=Ta.PermCRMNavigationShowAgentsDefinitions(),this.cachePermCRMNavigationShowEmploymentStatusDefinitions=Ta.PermCRMNavigationShowEmploymentStatusDefinitions(),this.cachePermCRMNavigationShowLabourExceptionDefinitions=Ta.PermCRMNavigationShowLabourExceptionDefinitions(),this.cachePermCRMNavigationShowLabourHolidaysDefinitions=Ta.PermCRMNavigationShowLabourHolidaysDefinitions(),this.cachePermCRMNavigationShowLabourNonBillableDefinitions=Ta.PermCRMNavigationShowLabourNonBillableDefinitions(),this.cachePermCRMNavigationShowReports=Ta.PermCRMNavigationShowReports(),this.cachePermCRMNavigationShowAllReports=Ta.PermCRMNavigationShowAllReports(),this.cachePermCRMNavigationShowSettings=Ta.PermCRMNavigationShowSettings(),this.cachePermCRMNavigationShowPhoneServices=Ta.PermCRMNavigationShowPhoneServices(),this.cachePermCRMNavigationShowPhoneServicesPhoneNumbers=Ta.PermCRMNavigationShowPhoneServicesPhoneNumbers(),this.cachePermCRMNavigationShowPhoneServicesSetup=Ta.PermCRMNavigationShowPhoneServicesSetup(),this.cachePermCRMNavigationShowPhoneServicesOnCallResponders=Ta.PermCRMNavigationShowPhoneServicesOnCallResponders(),this.cachePermCRMNavigationShowPhoneServicesRecordings=Ta.PermCRMNavigationShowPhoneServicesRecordings(),this.cachePermCRMNavigationShowPhoneServicesCalendars=Ta.PermCRMNavigationShowPhoneServicesCalendars(),this.cachePermCRMNavigationShowPhoneServicesVoicemails=Ta.PermCRMNavigationShowPhoneServicesVoicemails(),this.cacheLicensedProjectsSchedulingTime=Ta.PermCRMNavigationLicensedProjectsSchedulingTime(),this.cacheLicensedOnCall=Ta.PermCRMNavigationLicensedOnCall()}},{key:"OpenLogOut",value:function(){ca.Open({name:"ConfirmLogOutDialogue",state:null})}},{key:"ExitDemo",value:function(){window.location.reload()}}]),n}(h);Va=Object(v["a"])([Object(p["a"])({components:{}})],Va);var Ba=Va,La=Ba,Na=n("8212"),Ea=n("ce7e"),Fa=n("adda"),qa=n("8860"),Ga=n("56b0"),$a=n("da13"),Ua=n("1800"),Ha=n("5d23"),Wa=n("f774"),Ka=Object(ha["a"])(La,Ma,Aa,!1,null,null,null),za=Ka.exports;ga()(Ka,{VAvatar:Na["a"],VDivider:Ea["a"],VIcon:ka["a"],VImg:Fa["a"],VList:qa["a"],VListGroup:Ga["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VNavigationDrawer:Wa["a"],VSpacer:_a["a"]});var Ja=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Agent")]),n("v-divider"),n("v-card-text",[n("AgentEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},Ya=[],Qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Agenda"})}).catch((function(e){}))}}},[e._v(" Agenda ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Projects"})}).catch((function(e){}))}}},[e._v(" Projects ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Labour"})}).catch((function(e){}))}}},[e._v(" Labour ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Admin"})}).catch((function(e){}))}}},[e._v(" Admin ")])],1)]},proxy:!0}],null,!1,255595201)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Agent"),e.Name?n("span",[e._v(": "+e._s(e.Name))]):e._e()]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Agent Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportLabourPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report Labour…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportAgentsCSV()},on:{click:function(t){return e.CSVDownloadAgent(e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Agenda ")]),n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Projects ")]),n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Labour ")]),n("v-tab",[e._v(" Admin ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("AssignmentsList",{attrs:{showOnlyAgentId:e.$route.params.id,focusIsProject:!0,isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("ProjectList",{attrs:{showOnlyAgentId:e.$route.params.id,isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("LabourList",{ref:"labourList",attrs:{showOnlyAgentId:e.$route.params.id,focusIsProject:!0,openEntryOnClick:!1,isReverseSort:!0,isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"adminForm"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-agent-editor-name",attrs:{autocomplete:"newpassword",label:"Name",required:"",rules:[e.ValidateNameRequired,e.ValidateGreaterThan2Characters],hint:"The name of this agent",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAgentsCanPush()},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-agent-editor-title",attrs:{autocomplete:"newpassword",label:"Title",hint:"The title of this agent, for example: Electrician",required:"",rules:[e.OptionalButMustBeMoreThan4Characters],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAgentsCanPush()},model:{value:e.Title,callback:function(t){e.Title=t},expression:"Title"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Notifications")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-agent-editor-sms-number",attrs:{autocomplete:"newpassword",label:"SMS/Text Phone Number",hint:"The number to send SMSes to.",type:"tel",required:"",rules:[e.OptionalPhoneNumber],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAgentsCanPush()},model:{value:e.NotificationSMSNumber,callback:function(t){e.NotificationSMSNumber=t},expression:"NotificationSMSNumber"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Payroll")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-select",{staticClass:"e2e-agent-editor-employment-status",attrs:{label:"Employment Status","auto-select-first":"",hint:"Whether this agent is an employee or not.",items:e.EmploymentStatusAll(),"item-text":"json.name","item-value":"id",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAgentsCanPush()},model:{value:e.EmploymentStatusId,callback:function(t){e.EmploymentStatusId=t},expression:"EmploymentStatusId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-agent-editor-hourly-wage",attrs:{autocomplete:"newpassword",type:"number",min:"0",max:"9999.99",step:"0.01",label:"Hourly Wage",prefix:"$",suffix:"per hour",hint:"Enter the wage this agent is paid per hour.",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAgentsCanPush()},model:{value:e.HourlyWage,callback:function(t){e.HourlyWage=t},expression:"HourlyWage"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Phone Access")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",type:"text",label:"Phone Id",hint:"Enter an ID that people dial into the phone, you can put in 0-9, no spaces, don't use * or #.",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAgentsCanPush()},model:{value:e.PhoneId,callback:function(t){e.PhoneId=t},expression:"PhoneId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",type:"text",label:"Phone Passcode",hint:"Enter a passcode for the agent to use to log in, you can put in 0-9, no spaces, don't use * or #.",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAgentsCanPush()},model:{value:e.PhonePasscode,callback:function(t){e.PhonePasscode=t},expression:"PhonePasscode"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this agent."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Agent Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The agent no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the agent while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermAgentsCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteAgentDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1),n("v-spacer"),n("AddMenuButton",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Assignment…")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()||!e.PermCRMLabourManualEntries()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{agentId:e.$route.params.id}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Labour…")])],1)],1)],1)],1):e._e()],1)},Xa=[],Za=(n("a9e3"),function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.connectionMonitorInterval=null,e.connectionStatus="Connected",e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){throw new Error("not subclassed")}},{key:"IsValidated",value:function(){var e,t=Object(G["a"])(this.GetValidatedForms());try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n&&!n.validate())return!1}}catch(a){t.e(a)}finally{t.f()}return!0}},{key:"ResetValidation",value:function(){var e,t=this.GetValidatedForms(),n=Object(G["a"])(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;a&&a.resetValidation()}}catch(i){n.e(i)}finally{n.f()}}},{key:"SelectFirstTab",value:function(){this.tab=0}},{key:"mounted",value:function(){var e=this;this.connectionMonitorInterval=setInterval((function(){null==x.Connection?p["c"].set(e,"connectionStatus",!1):p["c"].set(e,"connectionStatus",x.Connection.state)}),1e3),this.MountedAfter()}},{key:"destroyed",value:function(){this.connectionMonitorInterval&&(clearInterval(this.connectionMonitorInterval),this.connectionMonitorInterval=null),this.DestroyedAfter()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.preselectTabName))this.tab=0;else{var e=this.GetTabNameToIndexMap()[this.preselectTabName];this.tab=e}}},{key:"GetTabNameToIndexMap",value:function(){return{}}},{key:"MountedAfter",value:function(){}},{key:"DestroyedAfter",value:function(){}}]),n}(p["c"]));Object(v["a"])([Object(p["b"])({default:null})],Za.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Za.prototype,"isDialogue",void 0),Object(v["a"])([Object(p["b"])({default:null})],Za.prototype,"preselectTabName",void 0),Za=Object(v["a"])([Object(p["a"])({components:{}})],Za);var ei=Za,ti=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.DialoguesOpen({name:"GlobalSearchDialogue",state:null})}}},[n("v-icon",[e._v("search")])],1)},ni=[],ai=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.DialoguesOpen=ca.Open,e}return n}(p["c"]);ai=Object(v["a"])([Object(p["a"])({components:{}})],ai);var ii=ai,oi=ii,si=Object(ha["a"])(oi,ti,ni,!1,null,null,null),ri=si.exports;ga()(si,{VBtn:ya["a"],VIcon:ka["a"]});var li=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("help")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[e.DefaultSlotHasContent?n("div",[n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("This Section…")]),e._t("default"),n("v-divider")],2):e._e(),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("General…")]),n("v-list-item",{on:{click:function(t){return e.OpenOnlineHelp()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Online Help")])],1)],1),n("v-list-item",{on:{click:function(t){return e.OpenYouTubeTutorials()}}},[n("v-list-item-icon",[n("v-icon",[e._v("ondemand_video")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("YouTube Tutorials")])],1)],1)],1)],1)},ci=[],ui=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"OpenOnlineHelp",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}},{key:"OpenYouTubeTutorials",value:function(){window.open("https://www.youtube.com/channel/UCvqvWEU47Mz2iNeelUrrZVA/videos","_blank")}},{key:"DefaultSlotHasContent",get:function(){if(null===this.$slots||void 0===this.$slots)return!1;var e=this.$slots;if(!e)return!1;var t=e.default;if(!t)return!1;var n=t[0];return!!n}}]),n}(p["c"]);ui.LiveChatVisible=!1,ui=Object(v["a"])([Object(p["a"])({props:{}})],ui);var di=ui,mi=di,vi=n("34c3"),pi=n("e449"),fi=n("e0c7"),hi=Object(ha["a"])(mi,li,ci,!1,null,null,null),bi=hi.exports;ga()(hi,{VBtn:ya["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSubheader:fi["a"]});var gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.CommitSessionGlobal()}}},[n("v-icon",[e._v("save")])],1)},yi=[],Ci=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"CommitSessionGlobal",value:function(){console.log("CommitSessionGlobal()")}}]),n}(p["c"]);Ci=Object(v["a"])([Object(p["a"])({props:{}})],Ci);var ji=Ci,Si=ji,Ii=Object(ha["a"])(Si,gi,yi,!1,null,null,null),Pi=Ii.exports;ga()(Ii,{VBtn:ya["a"],VIcon:ka["a"]});var Oi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermAssignmentCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("AssignmentListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,focusIsProject:e.focusIsProject,focusIsAgent:e.focusIsAgent,rootProject:e.rootProject,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)},ki=[],Di=n("5530"),_i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-assignment-list-item"},[n("v-snackbar",{attrs:{color:"info",timeout:6e3,top:!0},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.InfoSnackbarVisible=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.InfoSnackbarVisible,callback:function(t){e.InfoSnackbarVisible=t},expression:"InfoSnackbarVisible"}},[e._v(" "+e._s(e.InfoSnackbarText)+" ")]),n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[e.focusIsProject?n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e.Project&&e.Project.json&&e.Project.json.addresses?n("span",e._l(e.Project.json.addresses,(function(t,a){return n("span",{key:t.id},[a==e.Project.json.addresses.length-1&&e.Project.json.addresses.length>1?n("span",[e._v("and ")]):e._e(),e._v(" "+e._s(t.value)),t.value.endsWith(".")?e._e():n("span",[e._v(".")]),a!=e.Project.json.addresses.length-1&&e.Project.json.addresses.length>1?n("span",[e._v(", ")]):e._e()])})),0):!e.Project&&e.loadingData?n("span",{staticStyle:{width:"50px"}},[n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1)],1):n("span",[e._v("No Address")]),e.Project&&e.Project.json&&e.Project.json.name?n("span",[e._v(" "+e._s(e.Project.json.name)),e.Project.json.name.endsWith(".")?e._e():n("span",[e._v(".")])]):!e.Project&&e.loadingData?n("span",{staticStyle:{width:"50px"}},[n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1)],1):e._e(),n("span",[e._v(" "+e._s(e.value.json.workRequested)+" ")])]):e.focusIsAgent?n("v-list-item-title",[e.Agents&&e.Agents.length>0?n("span",[e._v(" "+e._s(e.AgentDescriptionForAgentList(e.Agents))+" ")]):e.Agents&&0!=e.Agents.length||!e.loadingData?n("span",[e._v(" Unassigned. ")]):n("span",[n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1)],1),n("span",[e._v(" "+e._s(e.value.json.workRequested)+" ")])]):n("v-list-item-title",[e._v(" Unknown assignment focus. ")]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.HasStart?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e.value.json.desiredStartHasTime?n("span",[e._v(e._s(e.StartLocaleWithTime))]):n("span",[e._v(e._s(e.StartLocaleWithoutTime))])],1)]}}],null,!1,237564710)},[n("span",[e._v("Start")])]):e._e(),e.HasEnd?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-end")])],1),e.value.json.desiredEndHasTime?n("span",[e._v(e._s(e.EndLocaleWithTime))]):n("span",[e._v(e._s(e.EndLocaleWithoutTime))])],1)]}}],null,!1,1903247334)},[n("span",[e._v("End")])]):e._e(),e.Agents?n("span",e._l(e.Agents,(function(t,a){return n("v-tooltip",{key:a,attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("person")])],1),e.AgentNameForId(t.id)?n("span",[e._v(e._s(e.AgentNameForId(t.id)))]):n("span",[e._v("Unnamed Agent")])],1)]}}],null,!0)},[n("span",[e._v("Agent")])])})),1):e.Agents&&0!=e.Agents.length||!e.loadingData?e._e():n("span",[n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1)],1),e.Agents&&0!=e.Agents.length?e._e():n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",color:"red"}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("person")])],1),e._v(" Unassigned ")],1)]}}],null,!1,3015136555)},[n("span",[e._v("This assignment needs to be assigned to an agent.")])]),e.rootProject&&e.rootProject.id!==e.value.json.projectId?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",color:"primary",to:"/section/projects/"+e.value.json.projectId+"?tab=General"},on:{"~click":function(e){e.stopPropagation(),e.preventDefault()}}},a),[e._v(" From a Child Project ")])]}}],null,!1,502124418)},[n("span",[e._v(e._s(e.ProjectNameForId(e.value.id)||"No Name"))])]):e._e()],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourCanPushSelf()},on:{click:function(t){return e.StartTravel()}}},[n("v-list-item-icon",[n("v-icon",[e._v("commute")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Start Travel Labour")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourCanPushSelf()},on:{click:function(t){return e.StartOnSite()}}},[n("v-list-item-icon",[n("v-icon",[e._v("build")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Start On-Site Labour")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourCanPushSelf()},on:{click:function(t){return e.StartRemote()}}},[n("v-list-item-icon",[n("v-icon",[e._v("business")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Start Remote Labour")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled||!e.PermAssignmentCanRequest()},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermAssignmentCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},wi=[],xi=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e._periodicInterval=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.LoadData(),this.MountedAfter(),this.Periodic(),this._periodicInterval=setInterval(this.Periodic,1e3)}},{key:"destroyed",value:function(){null!=this._periodicInterval&&clearInterval(this._periodicInterval),this.DestroyedAfter()}},{key:"LoadData",value:function(){}},{key:"MountedAfter",value:function(){}},{key:"DestroyedAfter",value:function(){}},{key:"Periodic",value:function(){}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],xi.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xi.prototype,"isPlaceholder",void 0),Object(v["a"])([Object(p["b"])({default:function(){}})],xi.prototype,"placeholderValues",void 0),Object(v["a"])([Object(p["b"])({default:!0})],xi.prototype,"showMenuButton",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xi.prototype,"isDialogue",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xi.prototype,"disabled",void 0),xi=Object(v["a"])([Object(p["a"])({components:{}})],xi);var Ri=xi,Mi=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.AgentDescriptionForAgentList=Pe.DescriptionForAgentList,e.AgentNameForId=Pe.NameForId,e.ProjectNameForId=ze.NameForId,e.PermLabourCanPushSelf=Ue.PermLabourCanPushSelf,e.PermAssignmentCanRequest=Ze.PermAssignmentCanRequest,e.PermAssignmentCanDelete=Ze.PermAssignmentCanDelete,e.InfoSnackbarVisible=!1,e.InfoSnackbarText="",e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];if(null!=e.value.json.projectId&&!y(e.value.json.projectId)){var n=ze.ForId(e.value.json.projectId);if(null==n&&ze.PermProjectsCanRequest()){var a=ze.FetchForId(e.value.json.projectId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}if(null!=e.value.json.statusId&&!y(e.value.json.statusId)){var i=kn.ForId(e.value.json.statusId);if(null==i&&kn.PermProjectStatusCanRequest()){var o=kn.FetchForId(e.value.json.statusId);o.completeRequestPromise&&t.push(o.completeRequestPromise)}}if(null!=e.value.json.agentIds&&e.value.json.agentIds.length>0){var s,r=[],l=Object(G["a"])(e.value.json.agentIds);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(null!=c){var u=Pe.ForId(c);null==u&&r.push(c)}}}catch(m){l.e(m)}finally{l.f()}if(r.length>0&&Pe.PermAgentsCanRequest()){var d=Pe.RequestAgents.Send({sessionId:ce.CurrentSessionId(),limitToIds:r});d.completeRequestPromise&&t.push(d.completeRequestPromise)}}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"Project",get:function(){return this.value&&this.value.json&&this.value.json.projectId?ze.ForId(this.value.json.projectId):null}},{key:"Agents",get:function(){return this.value&&this.value.id?Pe.ForAssignmentId(this.value.id):[]}},{key:"HasStart",get:function(){if(!this.value||!this.value.id)return!1;var e=Ze.StartISO8601ForId(this.value.id);return"string"===typeof e&&!y(e)}},{key:"StartLocaleWithTime",get:function(){if(!this.value||!this.value.id)return null;var e=Ze.StartISO8601ForId(this.value.id);if(!e||y(e))return null;var t=I["DateTime"].fromISO(e),n=t.toLocal();return n.toLocaleString(I["DateTime"].DATETIME_FULL)}},{key:"StartLocaleWithoutTime",get:function(){if(!this.value||!this.value.id)return null;var e=Ze.StartISO8601ForId(this.value.id);if(!e||y(e))return null;var t=I["DateTime"].fromISO(e),n=t.toLocal();return n.toLocaleString(I["DateTime"].DATE_FULL)}},{key:"HasEnd",get:function(){if(!this.value||!this.value.id)return!1;var e=Ze.EndISO8601ForId(this.value.id);return"string"===typeof e&&!y(e)}},{key:"EndLocaleWithTime",get:function(){if(!this.value||!this.value.id)return null;var e=Ze.EndISO8601ForId(this.value.id);if(!e||y(e))return null;var t=I["DateTime"].fromISO(e),n=t.toLocal();return n.toLocaleString(I["DateTime"].DATETIME_FULL)}},{key:"EndLocaleWithoutTime",get:function(){if(!this.value||!this.value.id)return null;var e=Ze.EndISO8601ForId(this.value.id);if(!e||y(e))return null;var t=I["DateTime"].fromISO(e),n=t.toLocal();return n.toLocaleString(I["DateTime"].DATE_FULL)}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}},{key:"StartTravel",value:function(){var e=this;if(this.value&&this.value.id){var t=Pe.LoggedInAgentId();if(null==t||y(t)||null!=Pe.ForLoggedInAgent())Ze.StartTravelForId(this.value.id);else{var n=Pe.FetchForId(t);null!=n.completeRequestPromise&&n.completeRequestPromise.then((function(){e.value&&e.value.id&&Ze.StartTravelForId(e.value.id)}))}this.InfoSnackbarText="Started Travel Timer",this.InfoSnackbarVisible=!0}}},{key:"StartOnSite",value:function(){var e=this;if(this.value&&this.value.id){var t=Pe.LoggedInAgentId();if(null==t||y(t)||null!=Pe.ForLoggedInAgent())Ze.StartOnSiteForId(this.value.id);else{var n=Pe.FetchForId(t);null!=n.completeRequestPromise&&n.completeRequestPromise.then((function(){e.value&&e.value.id&&Ze.StartOnSiteForId(e.value.id)}))}this.InfoSnackbarText="Started On Site Timer",this.InfoSnackbarVisible=!0}}},{key:"StartRemote",value:function(){var e=this;if(this.value&&this.value.id){var t=Pe.LoggedInAgentId();if(null==t||y(t)||null!=Pe.ForLoggedInAgent())Ze.StartRemoteForId(this.value.id);else{var n=Pe.FetchForId(t);null!=n.completeRequestPromise&&n.completeRequestPromise.then((function(){e.value&&e.value.id&&Ze.StartRemoteForId(e.value.id)}))}this.InfoSnackbarText="Started Remote Timer",this.InfoSnackbarVisible=!0}}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:!1})],Mi.prototype,"focusIsProject",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Mi.prototype,"focusIsAgent",void 0),Object(v["a"])([Object(p["b"])({default:null})],Mi.prototype,"rootProject",void 0),Object(v["a"])([Object(p["b"])({default:null})],Mi.prototype,"value",void 0),Mi=Object(v["a"])([Object(p["a"])({})],Mi);var Ai=Mi,Ti=Ai,Vi=n("cc20"),Bi=n("8270"),Li=n("2db4"),Ni=n("3a2f"),Ei=Object(ha["a"])(Ti,_i,wi,!1,null,null,null),Fi=Ei.exports;ga()(Ei,{VAvatar:Na["a"],VBtn:ya["a"],VChip:Vi["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSnackbar:Li["a"],VTooltip:Ni["a"]});var qi=n("6dd8"),Gi=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.CurrentPage=1,e.breadcrumbsVisibleCount=5,e.resizeObserver=null,e._periodicInterval=null,e}return Object(u["a"])(n,[{key:"PageCount",get:function(){return Math.ceil(this.Rows.length/this.rowsPerPage)}},{key:"InsertRowHeaders",value:function(e){}},{key:"mounted",value:function(){var e=this;this.LoadData(),p["c"].nextTick((function(){e.resizeObserver=new qi["a"]((function(t,n){window.matchMedia("(min-width: 1600px)").matches?e.breadcrumbsVisibleCount=26:window.matchMedia("(min-width: 1400px)").matches?e.breadcrumbsVisibleCount=22:window.matchMedia("(min-width: 1200px)").matches?e.breadcrumbsVisibleCount=18:window.matchMedia("(min-width: 1000px)").matches?e.breadcrumbsVisibleCount=14:window.matchMedia("(min-width: 800px)").matches?e.breadcrumbsVisibleCount=8:e.breadcrumbsVisibleCount=5})),e.resizeObserver.observe(e.$el)})),this.MountedAfter(),this.Periodic(),this._periodicInterval=setInterval(this.Periodic,1e3)}},{key:"destroyed",value:function(){null!=this._periodicInterval&&clearInterval(this._periodicInterval)}},{key:"LoadData",value:function(){}},{key:"MountedAfter",value:function(){}},{key:"Periodic",value:function(){}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.resizeObserver.unobserve(this.$el)}},{key:"PageRows",get:function(){var e=this.rowsPerPage*(this.CurrentPage-1),t=this.rowsPerPage*(this.CurrentPage-1)+this.rowsPerPage,n=this.Rows.slice(e,t);return this.InsertRowHeaders(n),n}},{key:"Rows",get:function(){var e=this,t=F.a.filter(this.GetRawRows(),(function(t,n){return e.RowFilter(t,n)})),n=F.a.sortBy(t,(function(t){return e.RowSortBy(t)}));return this.IsReverseSort()&&n.reverse(),n}},{key:"IsReverseSort",value:function(){return!1}},{key:"RowFilter",value:function(e,t){return console.error("RowFilter is not subclassed! returning true for everything!"),!0}},{key:"RowSortBy",value:function(e){return console.error("RowSortBy is not subclassed! returning 1!"),1}},{key:"GetEntryRouteForId",value:function(e){return console.error("GetEntryRouteForId is not subclassed! returning /!"),"/?o=".concat(e)}},{key:"GetDeleteEntryDialogueName",value:function(){return console.error('GetDeleteEntryDialogueName is not subclassed! returning ""!'),""}},{key:"GetRawRows",value:function(){return console.error("GetRawRows is not subclassed! returning empty array!"),{}}},{key:"GetOpenAsDialogue",value:function(){return!1}},{key:"GetOpenDialogueName",value:function(){return console.error('GetOpenDialogueName is not subclassed! returning ""!'),""}},{key:"GetOpenDialogueModelState",value:function(e){return null}},{key:"GetDeleteDialogueModelState",value:function(e){return null}},{key:"ClickEntry",value:function(e){this.$emit("ClickEntry",e),this.openEntryOnClick&&this.OpenEntry(e)}},{key:"OpenEntry",value:function(e){this.GetOpenAsDialogue()?ca.Open({name:this.GetOpenDialogueName(),state:this.GetOpenDialogueModelState(e)}):this.$router.push(this.GetEntryRouteForId(e))}},{key:"DeleteEntry",value:function(e){var t=this.GetDeleteDialogueModelState(e);console.log(t),ca.Open({name:this.GetDeleteEntryDialogueName(),state:t})}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:10})],Gi.prototype,"rowsPerPage",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Gi.prototype,"showFilter",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Gi.prototype,"showTopPagination",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Gi.prototype,"showMenuButton",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Gi.prototype,"openEntryOnClick",void 0),Object(v["a"])([Object(p["b"])({default:"There are no entries to show."})],Gi.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Gi.prototype,"isDialogue",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Gi.prototype,"disabled",void 0),Gi=Object(v["a"])([Object(p["a"])({components:{}})],Gi);var $i=Gi,Ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-alert",{staticClass:"fadeIn404",staticStyle:{margin:"15px","padding-bottom":"10px"},attrs:{border:"top","colored-border":"",elevation:"2",type:"error"}},[e._v(" You don't have access to this. Please ask your system administrator for access if you require it. ")])},Hi=[],Wi=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);Wi=Object(v["a"])([Object(p["a"])({components:{}})],Wi);var Ki=Wi,zi=Ki,Ji=n("0798"),Yi=Object(ha["a"])(zi,Ui,Hi,!1,null,null,null),Qi=Yi.exports;ga()(Yi,{VAlert:Ji["a"]});var Xi=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermAssignmentCanRequest=Ze.PermAssignmentCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[],n=Pe.LoggedInAgentId();if(null!=n&&!y(n)&&null==Pe.ForLoggedInAgent()){var a=Pe.FetchForId(n);a.completeRequestPromise&&t.push(a.completeRequestPromise)}if(Ze.PermAssignmentCanRequest()){var i=Ze.RequestAssignments.Send({sessionId:ce.CurrentSessionId(),limitToSessionAgent:e.showOnlyForBillingUsersAgent,limitToOpen:e.showOnlyOpenAssignments,limitToClosed:e.showOnlyClosedAssignments,limitToTodayOrEarlier:e.showOnlyTodayOrEarlier,limitToTasksWithNoStartTime:e.showOnlyTasksWithNoStartTime,limitToProjectId:e.showOnlyProjectId,limitToAgentId:e.showOnlyAgentId,limitToPastDue:e.showOnlyPastDue,limitToUnassigned:e.showOnlyUnassigned,limitToDueWithNoLabour:e.showOnlyDueWithNoLabour,limitToBillableReview:e.showOnlyBilliableReview,filterAssignmentsWithNoStartTime:e.hideAssignmentsWithNoStartTime,showChildrenOfProjectIdAsWell:e.showChildrenOfProjectIdAsWell});i.completeRequestPromise&&t.push(i.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetEntryRouteForId",value:function(e){return"/section/assignments/".concat(e,"?tab=General")}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteAssignmentDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"GetRawRows",value:function(){for(var e=this.$store.state.Database.assignments,t=[],n=0,a=Object.entries(e);n<a.length;n++){var i=Object($["a"])(a[n],2),o=(i[0],i[1]),s=o.json.projectId;null==s||y(s)||null==ze.ForId(s)&&t.push(s)}return t.length>0&&ze.RequestProjects.Send({sessionId:ce.CurrentSessionId(),limitToIds:t}),e}},{key:"RowFilter",value:function(e){var t=this,n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(ee){o.e(ee)}finally{o.f()}if(i){n=!1;break}}if(this.showOnlyAgentId){var r=F.a.find(e.json.agentIds,(function(e){return(null===e||void 0===e?void 0:e.trim())===t.showOnlyAgentId.trim()}));if(!r){n=!1;break}}if(this.showOnlyBilliableReview){var l=e.json.statusId;if(!l||y(l)){n=!1;break}var c=Qt.ForId(l);if(!c){n=!1;break}if(!c.json.isBillableReview){n=!1;break}}if(this.showOnlyProjectId){var u=function(){var a=[],i=ze.ForId(e.json.projectId),o=ze.ForId(t.showOnlyProjectId);t.showChildrenOfProjectIdAsWell?a=ze.RecursiveChildProjectsOfId(t.showOnlyProjectId):o&&a.push(o);var s=!!F.a.find(a,(function(e){return(null===i||void 0===i?void 0:i.id)===e.id}));if(!s)return n=!1,"break"}();if("break"===u)break}if(this.showOnlyForBillingUsersAgent){var d=F.a.find(e.json.agentIds,(function(e){var t;return(null===e||void 0===e?void 0:e.trim())===(null===(t=Pe.LoggedInAgentId())||void 0===t?void 0:t.trim())}));if(!d){n=!1;break}}if(this.showOnlyOpenAssignments)if(null==e.json.statusId)console.debug("AssignmentList: o.json.statusId == null, showing anyway to be safe",e);else{var m=Qt.ForId(e.json.statusId||null);if(m){if(!m.json.isOpen){n=!1;break}}else console.debug("!AssignmentList: cannot find status id '".concat(e.json.statusId,"' in Database.assignmentStatus")+" showing anyway to be safe",e)}if(this.showOnlyClosedAssignments)if(null==e.json.statusId)console.debug("assignment status id is null, showing anyway to be safe",e);else{var v=Qt.ForId(e.json.statusId);if(v){if(v.json.isOpen){n=!1;break}}else console.debug("!AssignmentList: cannot find status id '".concat(e.json.statusId,"' in Database.assignmentStatus")+" showing anyway to be safe",e)}if(this.showOnlyPastDue){var p=Ze.EndISO8601ForId(e.id);if(!p){n=!1;break}var f=I["DateTime"].fromISO(p).toLocal();"none"===Ze.EndTimeModeForId(e.id)&&(f=f.set({hour:23,minute:59,second:59}));var h=I["DateTime"].local();if(f>h){n=!1;break}}if(this.showOnlyDueWithNoLabour){var b=Ze.StartISO8601ForId(e.id);if(!b||y(b)){n=!1;break}var g=I["DateTime"].fromISO(b).toLocal(),C=I["DateTime"].local();if(g>C){n=!1;break}var j=Ue.ForAssignmentIds([e.id]);if(j.length>0){n=!1;break}}if(this.showOnlyUnassigned){var S=F.a.compact(e.json.agentIds);if(0!==S.length){n=!1;break}}if(this.hideAssignmentsWithNoStartTime){var P=Ze.HasStartISO8601ForId(e.id),O=Ze.StartISO8601ForId(e.id);if(null===O||y(O)||!1===P){n=!1;break}}if(this.showOnlyTodayOrEarlier){var k=Ze.HasStartISO8601ForId(e.id),D=Ze.StartISO8601ForId(e.id);if(!1===k||null==D||y(e.json.startISO8601));else{var _=I["DateTime"].fromISO(D),w=_.toLocal(),x=I["DateTime"].local(),R=x.endOf("day");if(w>R){n=!1;break}}}if(this.showOnlyTasksWithNoStartTime){var M=Ze.HasStartISO8601ForId(e.id);if(!0===M){n=!1;break}}if(this.showFilter){var A,T="",V=Object(G["a"])(e.json.agentIds);try{for(V.s();!(A=V.n()).done;){var B=A.value,L=Pe.ForId(B);L&&(T+=L.json.name,T+=" ")}}catch(ee){V.e(ee)}finally{V.f()}if(T+=e.json.workRequested,null!=e.json.projectId&&!y(e.json.projectId)){var N=ze.ForId(e.json.projectId);if(N){T+=N.json.name;var E,q=Object(G["a"])(N.json.addresses);try{for(q.s();!(E=q.n()).done;){var $=E.value;T+=$.value,T+=" "}}catch(ee){q.e(ee)}finally{q.f()}}}var U,H=Sn.ForAssignmentIds([e.id]),W=Object(G["a"])(H);try{for(W.s();!(U=W.n()).done;){var K=U.value;switch(K.json.contentType){case"styled-text":var z=K.json.content;T+=z.html;break;case"checkbox":var J=K.json.content;T+=J.text;break;case"image":var Y=K.json.content;T+=Y.uri;break;case"video":var Q=K.json.content;T+=Q.uri;break}}}catch(ee){W.e(ee)}finally{W.f()}T+=Ze.StartISO8601ForId(e.id),T+=Ze.EndISO8601ForId(e.id);var X=Qt.ForId(e.json.statusId);X&&(T+=X.json.name),T=T.replace(/\W/g,""),T=T.toLowerCase();var Z=this.filter.toLowerCase();if(Z=Z.replace(/\W/g,""),-1===T.indexOf(Z)){n=!1;break}}}while(0);return n}},{key:"RowSortBy",value:function(e){return(Ze.StartISO8601ForId(e.id||null)||"1").toLowerCase()}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"focusIsProject",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"focusIsAgent",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyForBillingUsersAgent",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyOpenAssignments",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyClosedAssignments",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyTodayOrEarlier",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyTasksWithNoStartTime",void 0),Object(v["a"])([Object(p["b"])({default:null})],Xi.prototype,"showOnlyProjectId",void 0),Object(v["a"])([Object(p["b"])({default:null})],Xi.prototype,"showOnlyAgentId",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyPastDue",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyUnassigned",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyDueWithNoLabour",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showOnlyBilliableReview",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"hideAssignmentsWithNoStartTime",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"showChildrenOfProjectIdAsWell",void 0),Object(v["a"])([Object(p["b"])({default:null})],Xi.prototype,"rootProject",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Xi.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Xi.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:"There are no assignments to show."})],Xi.prototype,"emptyMessage",void 0),Xi=Object(v["a"])([Object(p["a"])({components:{AssignmentListItem:Fi,PermissionsDeniedAlert:Qi},computed:Object(Di["a"])({},Object(C["c"])(["SessionId"]))})],Xi);var Zi=Xi,eo=Zi,to=n("1baa"),no=n("891e"),ao=Object(ha["a"])(eo,Oi,ki,!1,null,null,null),io=ao.exports;ga()(ao,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var oo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermLabourCanRequest()?n("div",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e.showDateFilters?n("v-row",{staticStyle:{"padding-left":"10px","padding-right":"10px"},attrs:{"no-gutters":""}},[n("v-col",{staticStyle:{padding:"5px","max-width":"calc(50% - 37px)"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"From","prepend-inner-icon":"event",readonly:"","hide-details":"",solo:""},model:{value:e.filterDateStart,callback:function(t){e.filterDateStart=t},expression:"filterDateStart"}},a))]}}],null,!1,3773150380),model:{value:e.filterDateStartMenu,callback:function(t){e.filterDateStartMenu=t},expression:"filterDateStartMenu"}},[n("v-date-picker",{attrs:{"allowed-dates":e.FilterDateStartAllowedDates,elevation:1},on:{input:function(t){e.filterDateStartMenu=!1}},model:{value:e.filterDateStart,callback:function(t){e.filterDateStart=t},expression:"filterDateStart"}},[n("div",{staticStyle:{"text-align":"center",width:"100%"}},[e._v("From Date")])])],1)],1),n("v-col",{staticStyle:{padding:"5px","max-width":"calc(50% - 37px)"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"Filter End Date","prepend-inner-icon":"event",readonly:"","hide-details":"",solo:""},model:{value:e.filterDateEnd,callback:function(t){e.filterDateEnd=t},expression:"filterDateEnd"}},a))]}}],null,!1,3968985902),model:{value:e.filterDateEndMenu,callback:function(t){e.filterDateEndMenu=t},expression:"filterDateEndMenu"}},[n("v-date-picker",{attrs:{"allowed-dates":e.FilterDateEndAllowedDates,elevation:1},on:{input:function(t){e.filterDateEndMenu=!1}},model:{value:e.filterDateEnd,callback:function(t){e.filterDateEnd=t},expression:"filterDateEnd"}},[n("div",{staticStyle:{"text-align":"center",width:"100%"}},[e._v("To Date")])])],1)],1),n("v-col",{staticStyle:{padding:"5px","max-width":"64px"}},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{width:"100%",height:"100%"},attrs:{color:"primary",dark:""}},a),[n("v-icon",[e._v("date_range")])],1)]}}],null,!1,1474966180)},[n("v-list",[n("v-list-item",{on:{click:function(t){return e.SetFilterDateRange(e.payPeriods.lastPeriodStart,e.payPeriods.lastPeriodEnd)}}},[n("v-list-item-title",[e._v("Last Pay Period")])],1),n("v-list-item",{on:{click:function(t){return e.SetFilterDateRange(e.payPeriods.currentPeriodStart,e.payPeriods.currentPeriodEnd)}}},[n("v-list-item-title",[e._v("Current Pay Period")])],1),n("v-list-item",{on:{click:function(t){return e.SetFilterDateRange(e.payPeriods.nextPeriodStart,e.payPeriods.nextPeriodEnd)}}},[n("v-list-item-title",[e._v("Next Pay Period")])],1),e.payPeriods?n("div",[n("v-divider"),e._l(e.payPeriods.historicPeriods,(function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.SetFilterDateRange(t.start,t.end)}}},[n("v-list-item-title",[e._v(e._s(e.DateTimeToDateShortPrefixed(t.start))+" to "+e._s(e.DateTimeToDateShortPrefixed(t.end)))])],1)}))],2):e._e()],1)],1)],1)],1):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{staticStyle:{"margin-bottom":"10px","margin-top":"20px"},attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("div",{key:t.id},[t.isHeader?n("v-toolbar",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px","margin-bottom":"10px"},attrs:{dense:"",elevation:"1",color:"rgb(116, 115, 137)",short:"",dark:""}},[n("v-toolbar-title",{attrs:{dense:""},domProps:{textContent:e._s(t.title)}}),n("v-spacer"),t.trailingButton?n("v-btn",{attrs:{icon:"",disabled:e.disabled||!e.PermCRMLabourManualEntries()},on:{click:t.trailingButtonCallback}},[n("v-icon",{domProps:{textContent:e._s(t.trailingButtonIcon)}})],1):e._e()],1):n("LabourListItem",{attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,focusIsProject:e.focusIsProject,focusIsAgent:e.focusIsAgent,rootProject:e.rootProject,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})],1)})),0),[n("div",{staticClass:"text-center"},[n("v-pagination",{staticStyle:{"margin-bottom":"20px","margin-top":"20px"},attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)],n("v-toolbar",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px","margin-bottom":"10px"},attrs:{dense:"",elevation:"1",color:"rgb(116, 115, 137)",short:"",dark:""}},[n("v-toolbar-title",{attrs:{dense:""}},[e._v("Summary")]),n("v-spacer")],1),n("v-container",[n("v-row",[n("v-col",{staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{cols:"6",sm:"2","offset-sm":"1"}},[e._v(" Total This Page: ")]),n("v-col",[e._v(" "+e._s((""+e.HoursTotalPage.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.HoursTotalPage.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.HoursTotalPage.seconds.toFixed(0)).padStart(2,"0"))+"s ")])],1),n("v-row",[n("v-col",{staticStyle:{"text-align":"right","font-weight":"bold"},attrs:{cols:"6",sm:"2","offset-sm":"1"}},[e._v(" Total All Pages: ")]),n("v-col",[e._v(" "+e._s((""+e.HoursTotalAll.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.HoursTotalAll.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.HoursTotalAll.seconds.toFixed(0)).padStart(2,"0"))+"s ")])],1)],1)],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)},so=[],ro=(n("4d90"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-item",[n("v-list-item-avatar",[e.value.json.isActive?n("v-icon",[e._v("timer")]):n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[e.Type&&e.Type.json.isBillable?n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e.focusIsProject?n("span",[e.ProjectId?n("DataLoaderProject",{attrs:{projectId:e.ProjectId}},[!e.Project&&e.ProjectId?n("div",[e._v(" Project "+e._s(e.ProjectId)+" (Not Found) ")]):e._e(),e.ProjectAddresses&&e.ProjectAddresses.length>0?n("span",[e._l(e.ProjectAddresses,(function(t,a){return n("span",{key:t.id},[a==e.ProjectAddresses.length-1&&e.ProjectAddresses.length>1?n("span",[e._v("and ")]):e._e(),e._v(" "+e._s(t.value)),a!=e.ProjectAddresses.length-1&&e.ProjectAddresses.length>1?n("span",[e._v(", ")]):e._e()])})),e.ProjectName?n("span",[e._v(". ")]):e._e()],2):e._e(),e.ProjectName?n("span",[e._v(" "+e._s(e.ProjectName)+" ")]):e._e()]):e._e()],1):e.focusIsAgent?n("span",[e._v(" "+e._s(e.AgentName)+" ")]):n("span",[e._v(" Unexpected focus. ")])]):e._e(),e.Type&&e.HolidayType&&e.Type.json.isHoliday?n("v-list-item-title",[e._v(" "+e._s(e.HolidayType.json.name)+" ")]):e._e(),e.Type&&e.NonBillableType&&e.Type.json.isNonBillable?n("v-list-item-title",[e.focusIsProject?n("span",[e._v(" "+e._s(e.NonBillableType.json.name)+" for "),e.ProjectAddresses&&e.ProjectAddresses.length>0?n("span",[e._l(e.ProjectAddresses,(function(t,a){return n("span",{key:t.id},[a==e.ProjectAddresses.length-1&&e.ProjectAddresses.length>1?n("span",[e._v("and ")]):e._e(),e._v(" "+e._s(t.value)),a!=e.ProjectAddresses.length-1&&e.ProjectAddresses.length>1?n("span",[e._v(", ")]):e._e()])})),e.ProjectName?n("span",[e._v(". ")]):e._e()],2):e._e(),e.ProjectName?n("span",[e._v(" "+e._s(e.ProjectName)+" ")]):e._e()]):e.focusIsAgent?n("span",[e._v(" "+e._s(e.AgentName)+": "+e._s(e.NonBillableType.json.name)+" ")]):e._e()]):e._e(),e.Type&&e.ExceptionType&&e.Type.json.isException?n("v-list-item-title",[e._v(" "+e._s(e.ExceptionType.json.name)+" ")]):e._e(),e.Type&&e.Type.json.isPayOutBanked?n("v-list-item-title",[e._v(" "+e._s(e.Type.json.name)+" ")]):e._e(),e.Type&&e.Type.json.isBillable?n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Active ")])]}}],null,!1,3528430475)},[n("span",[e._v("Whether this labour entry is currently progressing.")])]):e._e(),"date-and-hours"==e.value.json.timeMode&&e.value.json.hours?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+Math.floor(+e.value.json.hours)).padStart(2,"0"))+"h "+e._s((+e.value.json.hours%1*60).toFixed(0).padStart(2,"0"))+"m 00s ")],1)]}}],null,!1,3390635707)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocalJustDate)+" ")],1)]}}],null,!1,3632978588)},[n("span",[e._v("Date")])])],1):"start-stop-timestamp"==e.value.json.timeMode?n("span",[0==e.value.json.isActive&&e.Difference?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+e.Difference.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.Difference.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.Difference.seconds.toFixed(0)).padStart(2,"0"))+"s ")],1)]}}],null,!1,1524920480)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocale)+" ")],1)]}}],null,!1,1944597525)},[n("span",[e._v("Start Time")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-end")])],1),e._v(" "+e._s(e.EndLocale)+" ")],1)]}}],null,!1,3976747989)},[n("span",[e._v("End Time")])])],1):1==e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timer")])],1),e.currentDifferenceToNow?n("span",[e._v(" "+e._s((""+e.currentDifferenceToNow.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.currentDifferenceToNow.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.currentDifferenceToNow.seconds.toFixed(0)).padStart(2,"0"))+"s ")]):e._e()],1)]}}],null,!1,3200203946)},[n("span",[e._v("Start Time")])]):e._e()],1):n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" No time specified. ")],1)]}}],null,!1,873519707)},[n("span",[e._v("There is no time for this labour entry.")])]),e.Type&&e.Type.json.name?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" "+e._s(e.Type.json.name)+" ")])]}}],null,!1,1110188717)},[n("span",[e._v("The labour type for this entry.")])]):e._e(),"travel"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Travel ")])]}}],null,!1,3522552639)},[n("span",[e._v("This entry is for travelling.")])]):e._e(),"on-site"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" On-site ")])]}}],null,!1,123653600)},[n("span",[e._v("This entry is for on-site work.")])]):e._e(),"remote"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Remote ")])]}}],null,!1,2669676483)},[n("span",[e._v("This entry is for remote work.")])]):e._e(),e.LabourIsExtraForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Extra ")])]}}],null,!1,638453501)},[n("span",[e._v("This work is not included in a contract.")])]):e._e(),e.value.json.isBilled?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Billed ")])]}}],null,!1,1433263949)},[n("span",[e._v("This has been billed the client.")])]):e._e(),e.value.json.isPaidOut?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Paid Out ")])]}}],null,!1,936616085)},[n("span",[e._v("This has been paid out to the agent.")])]):e._e(),e.value.json.notes?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Has Notes ")])]}}],null,!1,4225131230)},[n("span",[e._v("This entry has additional notes.")])]):e._e(),e.rootProject&&e.rootProject.id!==e.value.json.projectId?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",color:"primary",to:"/section/projects/"+e.value.json.projectId+"?tab=General"},on:{"~click":function(e){e.stopPropagation(),e.preventDefault()}}},a),[e._v(" From a Child Project ")])]}}],null,!1,502124418)},[n("span",[e._v(e._s(e.ProjectNameForId(e.value.id)||"No Name"))])]):e._e()],1):e._e(),e.Type&&e.Type.json.isHoliday?n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Active ")])]}}],null,!1,3528430475)},[n("span",[e._v("Whether this labour entry is currently progressing.")])]):e._e(),"date-and-hours"==e.value.json.timeMode&&e.value.json.hours?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+Math.floor(+e.value.json.hours)).padStart(2,"0"))+"h "+e._s((+e.value.json.hours%1*60).toFixed(0).padStart(2,"0"))+"m 00s ")],1)]}}],null,!1,3390635707)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocalJustDate)+" ")],1)]}}],null,!1,3632978588)},[n("span",[e._v("Date")])])],1):"start-stop-timestamp"==e.value.json.timeMode?n("span",[0==e.value.json.isActive&&e.Difference?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+e.Difference.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.Difference.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.Difference.seconds.toFixed(0)).padStart(2,"0"))+"s ")],1)]}}],null,!1,1524920480)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocale)+" ")],1)]}}],null,!1,1944597525)},[n("span",[e._v("Start Time")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-end")])],1),e._v(" "+e._s(e.EndLocale)+" ")],1)]}}],null,!1,3976747989)},[n("span",[e._v("End Time")])])],1):1==e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timer")])],1),e.currentDifferenceToNow?n("span",[e._v(" "+e._s((""+e.currentDifferenceToNow.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.currentDifferenceToNow.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.currentDifferenceToNow.seconds.toFixed(0)).padStart(2,"0"))+"s ")]):e._e()],1)]}}],null,!1,3200203946)},[n("span",[e._v("Start Time")])]):e._e()],1):n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" No time specified. ")],1)]}}],null,!1,873519707)},[n("span",[e._v("There is no time for this labour entry.")])]),e.Type&&e.Type.json.name?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" "+e._s(e.Type.json.name)+" ")])]}}],null,!1,1110188717)},[n("span",[e._v("The labour type for this entry.")])]):e._e(),"travel"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Travel ")])]}}],null,!1,3522552639)},[n("span",[e._v("This entry is for travelling.")])]):e._e(),"on-site"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" On-site ")])]}}],null,!1,123653600)},[n("span",[e._v("This entry is for on-site work.")])]):e._e(),"remote"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Remote ")])]}}],null,!1,2669676483)},[n("span",[e._v("This entry is for remote work.")])]):e._e(),e.LabourIsExtraForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Extra ")])]}}],null,!1,638453501)},[n("span",[e._v("This work is not included in a contract.")])]):e._e(),e.value.json.isBilled?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Billed ")])]}}],null,!1,1433263949)},[n("span",[e._v("This has been billed the client.")])]):e._e(),e.value.json.isPaidOut?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Paid Out ")])]}}],null,!1,936616085)},[n("span",[e._v("This has been paid out to the agent.")])]):e._e(),e.value.json.notes?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Has Notes ")])]}}],null,!1,4225131230)},[n("span",[e._v("This entry has additional notes.")])]):e._e()],1):e._e(),e.Type&&e.Type.json.isNonBillable?n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Active ")])]}}],null,!1,3528430475)},[n("span",[e._v("Whether this labour entry is currently progressing.")])]):e._e(),"date-and-hours"==e.value.json.timeMode&&e.value.json.hours?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+Math.floor(+e.value.json.hours)).padStart(2,"0"))+"h "+e._s((+e.value.json.hours%1*60).toFixed(0).padStart(2,"0"))+"m 00s ")],1)]}}],null,!1,3390635707)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocalJustDate)+" ")],1)]}}],null,!1,3632978588)},[n("span",[e._v("Date")])])],1):"start-stop-timestamp"==e.value.json.timeMode?n("span",[0==e.value.json.isActive&&e.Difference?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+e.Difference.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.Difference.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.Difference.seconds.toFixed(0)).padStart(2,"0"))+"s ")],1)]}}],null,!1,1524920480)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocale)+" ")],1)]}}],null,!1,1944597525)},[n("span",[e._v("Start Time")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-end")])],1),e._v(" "+e._s(e.EndLocale)+" ")],1)]}}],null,!1,3976747989)},[n("span",[e._v("End Time")])])],1):1==e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timer")])],1),e.currentDifferenceToNow?n("span",[e._v(" "+e._s((""+e.currentDifferenceToNow.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.currentDifferenceToNow.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.currentDifferenceToNow.seconds.toFixed(0)).padStart(2,"0"))+"s ")]):e._e()],1)]}}],null,!1,3200203946)},[n("span",[e._v("Start Time")])]):e._e()],1):n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" No time specified. ")],1)]}}],null,!1,873519707)},[n("span",[e._v("There is no time for this labour entry.")])]),e.Type&&e.Type.json.name?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" "+e._s(e.Type.json.name)+" ")])]}}],null,!1,1110188717)},[n("span",[e._v("The labour type for this entry.")])]):e._e(),"travel"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Travel ")])]}}],null,!1,3522552639)},[n("span",[e._v("This entry is for travelling.")])]):e._e(),"on-site"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" On-site ")])]}}],null,!1,123653600)},[n("span",[e._v("This entry is for on-site work.")])]):e._e(),"remote"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Remote ")])]}}],null,!1,2669676483)},[n("span",[e._v("This entry is for remote work.")])]):e._e(),e.LabourIsExtraForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Extra ")])]}}],null,!1,638453501)},[n("span",[e._v("This work is not included in a contract.")])]):e._e(),e.value.json.isBilled?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Billed ")])]}}],null,!1,1433263949)},[n("span",[e._v("This has been billed the client.")])]):e._e(),e.value.json.isPaidOut?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Paid Out ")])]}}],null,!1,936616085)},[n("span",[e._v("This has been paid out to the agent.")])]):e._e(),e.value.json.notes?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Has Notes ")])]}}],null,!1,4225131230)},[n("span",[e._v("This entry has additional notes.")])]):e._e()],1):e._e(),e.Type&&e.Type.json.isException?n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Active ")])]}}],null,!1,3528430475)},[n("span",[e._v("Whether this labour entry is currently progressing.")])]):e._e(),"date-and-hours"==e.value.json.timeMode&&e.value.json.hours?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+Math.floor(+e.value.json.hours)).padStart(2,"0"))+"h "+e._s((+e.value.json.hours%1*60).toFixed(0).padStart(2,"0"))+"m 00s ")],1)]}}],null,!1,3390635707)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocalJustDate)+" ")],1)]}}],null,!1,3632978588)},[n("span",[e._v("Date")])])],1):"start-stop-timestamp"==e.value.json.timeMode?n("span",[0==e.value.json.isActive&&e.Difference?n("span",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s((""+e.Difference.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.Difference.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.Difference.seconds.toFixed(0)).padStart(2,"0"))+"s ")],1)]}}],null,!1,1524920480)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.StartLocale)+" ")],1)]}}],null,!1,1944597525)},[n("span",[e._v("Start Time")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-end")])],1),e._v(" "+e._s(e.EndLocale)+" ")],1)]}}],null,!1,3976747989)},[n("span",[e._v("End Time")])])],1):1==e.value.json.isActive?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timer")])],1),e.currentDifferenceToNow?n("span",[e._v(" "+e._s((""+e.currentDifferenceToNow.hours).padStart(2,"0"))+"h "),e._v(e._s((""+e.currentDifferenceToNow.minutes).padStart(2,"0"))+"m "),e._v(e._s((""+e.currentDifferenceToNow.seconds.toFixed(0)).padStart(2,"0"))+"s ")]):e._e()],1)]}}],null,!1,3200203946)},[n("span",[e._v("Start Time")])]):e._e()],1):n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" No time specified. ")],1)]}}],null,!1,873519707)},[n("span",[e._v("There is no time for this labour entry.")])]),e.Type&&e.Type.json.name?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" "+e._s(e.Type.json.name)+" ")])]}}],null,!1,1110188717)},[n("span",[e._v("The labour type for this entry.")])]):e._e(),"travel"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Travel ")])]}}],null,!1,3522552639)},[n("span",[e._v("This entry is for travelling.")])]):e._e(),"on-site"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" On-site ")])]}}],null,!1,123653600)},[n("span",[e._v("This entry is for on-site work.")])]):e._e(),"remote"==e.value.json.locationType?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Remote ")])]}}],null,!1,2669676483)},[n("span",[e._v("This entry is for remote work.")])]):e._e(),e.LabourIsExtraForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Extra ")])]}}],null,!1,638453501)},[n("span",[e._v("This work is not included in a contract.")])]):e._e(),e.value.json.isBilled?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Billed ")])]}}],null,!1,1433263949)},[n("span",[e._v("This has been billed the client.")])]):e._e(),e.value.json.isPaidOut?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Paid Out ")])]}}],null,!1,936616085)},[n("span",[e._v("This has been paid out to the agent.")])]):e._e(),e.value.json.notes?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" Has Notes ")])]}}],null,!1,4225131230)},[n("span",[e._v("This entry has additional notes.")])]):e._e()],1):e._e(),e.Type&&e.Type.json.isPayOutBanked?n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.value.json.bankedPayOutAmount?n("span",[e._v("$"+e._s(e.value.json.bankedPayOutAmount)+". ")]):e._e(),e.value.json.notes?n("span",[e._v(" "+e._s(e.value.json.notes)+" ")]):e._e()]):e._e()],1),e.value.json.isActive?n("v-list-item-action",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){return e.DialoguesOpen({name:"LabourDeleteTimerDialogue",state:{labourId:e.value.id}})}}},[n("v-icon",[e._v("close")])],1)],1):e._e(),e.value.json.isActive?n("v-list-item-action",[n("v-btn",{attrs:{icon:"",color:"primary"},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:e.GetEntryCloneConfirmed()})}}},[n("v-icon",[e._v("done")])],1)],1):e._e(),e.showMenuButton&&!e.value.json.isActive?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProductsCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled},on:{click:function(t){return e.GoToProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("assignment")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Go to Project…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled},on:{click:function(t){return e.GoToAgent()}}},[n("v-list-item-icon",[n("v-icon",[e._v("directions_walk")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Go to Agent…")])],1)],1)],1)],1)],1):e._e()],1)}),lo=[],co=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[e._t("default")],2)],1)},uo=[],mo=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null==ze.ForId(e.projectId)){var t=[];if(ze.PermProjectsCanRequest()){var n=ze.FetchForId(e.projectId);n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"projectIdChanged",value:function(e,t){this.LoadData()}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],mo.prototype,"projectId",void 0),Object(v["a"])([Object(p["d"])("projectId")],mo.prototype,"projectIdChanged",null),mo=Object(v["a"])([Object(p["a"])({components:{}})],mo);var vo=mo,po=vo,fo=Object(ha["a"])(po,co,uo,!1,null,"b9c0d85a",null),ho=fo.exports,bo=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ProjectNameForId=ze.NameForId,e.LabourIsExtraForId=Ue.IsExtraForId,e.DialoguesOpen=ca.Open,e.PermProductsCanDelete=xn.PermProductsCanDelete,e.project=null,e.currentDifferenceToNowTimer=null,e.currentDifferenceToNow=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];if(null!=e.value.json.projectId&&!y(e.value.json.projectId)){var n=ze.ForId(e.value.json.projectId);if(null==n&&ze.PermProjectsCanRequest()){var a=ze.FetchForId(e.value.json.projectId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}if(null!=e.value.json.agentId&&!y(e.value.json.agentId)){var i=Pe.ForId(e.value.json.agentId);if(null==i&&Pe.PermAgentsCanRequest()){var o=Pe.FetchForId(e.value.json.agentId);o.completeRequestPromise&&t.push(o.completeRequestPromise)}}if(null!=e.value.json.assignmentId&&!y(e.value.json.assignmentId)){var s=Ze.ForId(e.value.json.assignmentId);if(null==s&&Ze.PermAssignmentCanRequest()){var r=Ze.FetchForId(e.value.json.assignmentId);r.completeRequestPromise&&t.push(r.completeRequestPromise)}}if(null!=e.value.json.typeId&&!y(e.value.json.typeId)){var l=_e.ForId(e.value.json.typeId);if(null==l&&_e.PermLabourTypesCanRequest()){var c=_e.FetchForId(e.value.json.typeId);c.completeRequestPromise&&t.push(c.completeRequestPromise)}}if(null!=e.value.json.exceptionTypeId&&!y(e.value.json.exceptionTypeId)){var u=Me.ForId(e.value.json.exceptionTypeId);if(null==u&&Me.PermLabourSubtypeExceptionCanRequest()){var d=Me.FetchForId(e.value.json.exceptionTypeId);d.completeRequestPromise&&t.push(d.completeRequestPromise)}}if(null!=e.value.json.holidayTypeId&&!y(e.value.json.holidayTypeId)){var m=Be.ForId(e.value.json.holidayTypeId);if(null==m&&Be.PermLabourSubtypeHolidayCanRequest()){var v=Be.FetchForId(e.value.json.holidayTypeId);v.completeRequestPromise&&t.push(v.completeRequestPromise)}}if(null!=e.value.json.nonBillableTypeId&&!y(e.value.json.nonBillableTypeId)){var p=Fe.ForId(e.value.json.nonBillableTypeId);if(null==p&&Fe.PermLabourSubtypeNonBillableCanRequest()){var f=Fe.FetchForId(e.value.json.nonBillableTypeId);f.completeRequestPromise&&t.push(f.completeRequestPromise)}}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"MountedAfter",value:function(){var e=this;this.currentDifferenceToNowTimer=setInterval((function(){p["c"].set(e,"currentDifferenceToNow",e.GetDifferenceToNow())}),1e3)}},{key:"DestroyedAfter",value:function(){this.currentDifferenceToNowTimer&&(clearInterval(this.currentDifferenceToNowTimer),this.currentDifferenceToNowTimer=null)}},{key:"Type",get:function(){return this.value&&this.value.json&&this.value.json.typeId&&!y(this.value.json.typeId)?_e.ForId(this.value.json.typeId):null}},{key:"NonBillableType",get:function(){return this.value&&this.value.json&&this.value.json.nonBillableTypeId&&!y(this.value.json.nonBillableTypeId)?Fe.ForId(this.value.json.nonBillableTypeId):null}},{key:"ExceptionType",get:function(){return this.value&&this.value.json&&this.value.json.exceptionTypeId&&!y(this.value.json.exceptionTypeId)?Me.ForId(this.value.json.exceptionTypeId):null}},{key:"HolidayType",get:function(){return this.value&&this.value.json&&this.value.json.holidayTypeId&&!y(this.value.json.holidayTypeId)?Be.ForId(this.value.json.holidayTypeId):null}},{key:"Agent",get:function(){if(!this.value||!this.value.json||!this.value.json.agentId||y(this.value.json.agentId))return null;var e=Pe.ForId(this.value.json.agentId);return e||null}},{key:"ProjectId",get:function(){return this.value&&this.value.json?this.value.json.projectId:null}},{key:"Project",get:function(){var e=this.ProjectId;if(!e)return null;var t=ze.ForId(this.value.json.projectId);return t||null}},{key:"ProjectName",get:function(){return this.value&&this.value.json&&this.value.json.projectId&&!y(this.value.json.projectId)?ze.NameForId(this.value.json.projectId):null}},{key:"ProjectAddresses",get:function(){var e=this.Project;return e?e.json.addresses:[]}},{key:"AgentName",get:function(){if(!this.value||!this.value.json||!this.value.json.agentId||y(this.value.json.agentId))return null;var e=Pe.ForId(this.value.json.agentId);return e?e.json.name:null}},{key:"AgentTitle",get:function(){if(!this.value||!this.value.json||!this.value.json.agentId||y(this.value.json.agentId))return null;var e=Pe.ForId(this.value.json.agentId);return e?e.json.title:null}},{key:"StartLocalJustDate",get:function(){if(!this.value||!this.value.json||!this.value.json.startISO8601||y(this.value.json.startISO8601))return null;var e=I["DateTime"].fromISO(this.value.json.startISO8601),t=e.toLocal();return t.toLocaleString(I["DateTime"].DATE_SHORT)}},{key:"StartLocale",get:function(){if(!this.value||!this.value.json||!this.value.json.startISO8601||y(this.value.json.startISO8601))return null;var e=I["DateTime"].fromISO(this.value.json.startISO8601),t=e.toLocal();return t.toLocaleString(I["DateTime"].DATETIME_SHORT)}},{key:"EndLocale",get:function(){if(!this.value||!this.value.json||!this.value.json.endISO8601||y(this.value.json.endISO8601))return null;var e=I["DateTime"].fromISO(this.value.json.endISO8601),t=e.toLocal();return t.toLocaleString(I["DateTime"].DATETIME_SHORT)}},{key:"Difference",get:function(){if(!this.value||!this.value.json||!this.value.json.startISO8601||y(this.value.json.startISO8601)||!this.value.json.endISO8601||y(this.value.json.endISO8601))return null;var e=I["DateTime"].fromISO(this.value.json.startISO8601),t=e.toLocal(),n=I["DateTime"].fromISO(this.value.json.endISO8601),a=n.toLocal();return a.diff(t,["hours","minutes","seconds"]).toObject()}},{key:"GetDifferenceToNow",value:function(){if(!this.value||!this.value.json||!this.value.json.startISO8601||y(this.value.json.startISO8601))return null;var e=I["DateTime"].fromISO(this.value.json.startISO8601),t=e.toLocal(),n=I["DateTime"].local().diff(t,["hours","minutes","seconds"]).toObject();return n}},{key:"GetEntryCloneConfirmed",value:function(){var e=F.a.cloneDeep(this.value);return e.json.isActive=!1,e.json.endISO8601=this.GetCurrentISO8601(),e}},{key:"GetCurrentISO8601",value:function(){return I["DateTime"].utc().toISO()}},{key:"GoToProject",value:function(){var e=this.value.json.projectId;y(e)?console.warn("Unable to open project as project is null or empty"):this.$router.push("/section/projects/".concat(e,"?tab=General")).catch((function(e){}))}},{key:"GoToAgent",value:function(){var e=this.value.json.agentId;y(e)?console.warn("Unable to open agent as agent is null or empty"):this.$router.push("/section/agents/".concat(e,"?tab=Agenda")).catch((function(e){}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],bo.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:null})],bo.prototype,"rootProject",void 0),Object(v["a"])([Object(p["b"])({default:!1})],bo.prototype,"focusIsProject",void 0),Object(v["a"])([Object(p["b"])({default:!1})],bo.prototype,"focusIsAgent",void 0),bo=Object(v["a"])([Object(p["a"])({components:{DataLoaderProject:ho}})],bo);var go=bo,yo=go,Co=Object(ha["a"])(yo,ro,lo,!1,null,null,null),jo=Co.exports;ga()(Co,{VAvatar:Na["a"],VBtn:ya["a"],VChip:Vi["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VTooltip:Ni["a"]});var So=function(e,t,n){e||(e=I["DateTime"].local()),t||(t=14),n||(n=I["DateTime"].local(2015,5,30)),e=e.set({hour:0,minute:0,second:0});for(var a=e.diff(n,"days"),i=a.toObject(),o=i.days,s=Math.round(o%t),r=e.minus({days:s}),l=r.plus({days:t-1,hours:23,minutes:59,seconds:59}),c={currentPeriodStart:r,currentPeriodEnd:l,nextPeriodStart:r.plus({days:t}),nextPeriodEnd:l.plus({days:t}),lastPeriodStart:r.minus({days:t}),lastPeriodEnd:l.minus({days:t}),historicPeriods:[]},u=0;u<26;u++){var d={start:c.currentPeriodStart.minus({days:t*u}),end:c.currentPeriodEnd.minus({days:t*u})};c.historicPeriods.push(d)}return c},Io=function(e){return e?e.toFormat("yyyy-LL-dd"):null},Po=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.DateTimeToDateShortPrefixed=Io,e.MobileDeviceWidth=ma,e.PermLabourCanRequest=Ue.PermLabourCanRequest,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.filter="",e.filterDateStart=I["DateTime"].local().minus({years:50}).toFormat("yyyy-LL-dd"),e.filterDateEnd=I["DateTime"].local().plus({years:50}).toFormat("yyyy-LL-dd"),e.filterDateStartMenu=!1,e.filterDateEndMenu=!1,e.payPeriods=null,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"MountedAfter",value:function(){this.payPeriods=So()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(Ue.PermLabourCanRequest()){var n=Ue.RequestLabour.Send({sessionId:ce.CurrentSessionId(),limitToSessionAgent:e.showOnlyForBillingUsersAgent,limitToProjectId:e.showOnlyProjectId,limitToAgentId:e.showOnlyAgentId,limitToAssignmentId:e.showOnlyAssignmentId,limitToActiveAndToday:e.showOnlyActiveAndToday,showChildrenOfProjectIdAsWell:e.showChildrenOfProjectIdAsWell});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"InsertRowHeaders",value:function(e){for(var t=this,n=null,a=function(a){var o=e[a];if(!o.json.startISO8601)return i=a,"continue";var s=o.json.startISO8601,r=I["DateTime"].fromISO(s),l=r.toLocal(),c=l.toLocaleString(I["DateTime"].DATE_MED);n!==c&&(e.splice(a,0,{isHeader:!0,title:c,trailingButton:!0,trailingButtonIcon:"add",trailingButtonCallback:function(){ca.Open({name:"ModifyLabourDialogue",state:{json:{agentId:Pe.LoggedInAgentId(),projectId:t.prefillProjectId,startISO8601:o.json.startISO8601}}})}}),n=c,a++),i=a},i=0;i<e.length;i++)a(i)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"FilterDateStart",get:function(){return this.filterDateStart}},{key:"FilterDateEnd",get:function(){return this.filterDateEnd}},{key:"SetFilterDateRange",value:function(e,t){this.filterDateStart=e.toFormat("yyyy-LL-dd"),this.filterDateEnd=t.toFormat("yyyy-LL-dd")}},{key:"FilterDateStartAllowedDates",value:function(e){var t=I["DateTime"].fromFormat(e,"yyyy-LL-dd",{zone:"local"}),n=I["DateTime"].fromFormat(this.filterDateEnd,"yyyy-LL-dd",{zone:"local"});return t<=n}},{key:"FilterDateEndAllowedDates",value:function(e){var t=I["DateTime"].fromFormat(e,"yyyy-LL-dd",{zone:"local"}),n=I["DateTime"].fromFormat(this.filterDateStart,"yyyy-LL-dd",{zone:"local"});return t>=n}},{key:"HoursTotalPage",get:function(){var e,t={hours:0,minutes:0,seconds:0},n=this.PageRows,a=Object(G["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i&&i.json)if("date-and-hours"===i.json.timeMode){if(null!==i.json.hours&&void 0!==i.json.hours){var o=Math.floor(+i.json.hours),s=+i.json.hours%1*60;t.hours+=o,t.minutes+=s}}else if("start-stop-timestamp"===i.json.timeMode){if(i.json.startISO8601&&!y(i.json.startISO8601)&&i.json.endISO8601&&!y(i.json.endISO8601)){var r=I["DateTime"].fromISO(i.json.startISO8601),l=r.toLocal(),c=I["DateTime"].fromISO(i.json.endISO8601),u=c.toLocal(),d=u.diff(l,["hours","minutes","seconds"]).toObject();t.hours+=d.hours,t.minutes+=d.minutes,t.seconds+=d.seconds}}else console.error("unknown timeMode ".concat(i.json.timeMode))}}catch(h){a.e(h)}finally{a.f()}var m=Math.floor(t.seconds/60),v=t.seconds%60;t.minutes+=m,t.seconds=v;var p=Math.floor(t.minutes/60),f=t.minutes%60;return t.hours+=p,t.minutes=f,t.hours=Math.floor(t.hours),t.minutes=Math.floor(t.minutes),t.seconds=Math.floor(t.seconds),t}},{key:"HoursTotalAll",get:function(){var e,t={hours:0,minutes:0,seconds:0},n=this.Rows,a=Object(G["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;if(i&&i.json)if("date-and-hours"===i.json.timeMode){if(null!==i.json.hours&&void 0!==i.json.hours){var o=Math.floor(+i.json.hours),s=+i.json.hours%1*60;t.hours+=o,t.minutes+=s}}else if("start-stop-timestamp"===i.json.timeMode){if(i.json.startISO8601&&!y(i.json.startISO8601)&&i.json.endISO8601&&!y(i.json.endISO8601)){var r=I["DateTime"].fromISO(i.json.startISO8601),l=r.toLocal(),c=I["DateTime"].fromISO(i.json.endISO8601),u=c.toLocal(),d=u.diff(l,["hours","minutes","seconds"]).toObject();t.hours+=d.hours,t.minutes+=d.minutes,t.seconds+=d.seconds}}else"none"===i.json.timeMode||console.error("unknown timeMode ".concat(i.json.timeMode))}}catch(h){a.e(h)}finally{a.f()}var m=Math.floor(t.seconds/60),v=t.seconds%60;t.minutes+=m,t.seconds=v;var p=Math.floor(t.minutes/60),f=t.minutes%60;return t.hours+=p,t.minutes=f,t.hours=Math.floor(t.hours),t.minutes=Math.floor(t.minutes),t.seconds=Math.floor(t.seconds),t}},{key:"GetOpenAsDialogue",value:function(){return!0}},{key:"GetEntryRouteForId",value:function(e){throw Error("not implemented")}},{key:"GetOpenDialogueName",value:function(){return"ModifyLabourDialogue"}},{key:"GetOpenDialogueModelState",value:function(e){console.log("GetOpenDialogueModelState",e);var t=Ue.ForId(e),n=F.a.cloneDeep(t);return n}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteLabourDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.labour}},{key:"RowFilter",value:function(e,t){var n=this,a=!0;do{if(!e||!e.id||!e.json){a=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var i,o=!1,s=Object(G["a"])(this.excludeIds);try{for(s.s();!(i=s.n()).done;){var r=i.value;if(null!==r&&e.id===r){o=!0;break}}}catch(q){s.e(q)}finally{s.f()}if(o){a=!1;break}}if(this.showDateFilters&&e.json.startISO8601){var l=I["DateTime"].fromISO(e.json.startISO8601),c=I["DateTime"].fromFormat(this.filterDateStart,"yyyy-LL-dd",{zone:"local"}),u=I["DateTime"].fromFormat(this.filterDateEnd,"yyyy-LL-dd",{zone:"local"});if(u=u.set({hour:23,minute:59,second:59}),l<c||l>u){a=!1;break}}if(this.showOnlyActiveAndToday){if(!e.json.startISO8601){a=!1;break}var d=I["DateTime"].fromISO(e.json.startISO8601),m=d.toLocal(),v=I["DateTime"].local(),p=v.startOf("day"),f=v.endOf("day");if(!1===e.json.isActive&&(m<p||m>f)){a=!1;break}}if(this.showOnlyForBillingUsersAgent&&e.json.agentId!==Pe.LoggedInAgentId()){a=!1;break}if(this.showOnlyAssignmentId&&e.json.assignmentId!==this.showOnlyAssignmentId){a=!1;break}if(this.showOnlyAgentId&&e.json.agentId!==this.showOnlyAgentId){a=!1;break}if(this.showOnlyProjectId){var h=function(){var t=[],i=ze.ForId(e.json.projectId),o=ze.ForId(n.showOnlyProjectId);n.showChildrenOfProjectIdAsWell?t=ze.RecursiveChildProjectsOfId(n.showOnlyProjectId):o&&t.push(o);var s=!!F.a.find(t,(function(e){return(null===i||void 0===i?void 0:i.id)===e.id}));if(!s)return a=!1,"break"}();if("break"===h)break}if(this.showFilter){var b="";if(e.json.projectId){var g=ze.ForId(e.json.projectId);if(g){y(g.json.name)||(b+=" ".concat(g.json.name," "));var C,j=Object(G["a"])(g.json.addresses);try{for(j.s();!(C=j.n()).done;){var S=C.value;y(S.value)||(b+=" ".concat(S.value," "))}}catch(q){j.e(q)}finally{j.f()}}}if(e.json.agentId){var P=Pe.ForId(e.json.agentId);P&&(b+=" ".concat(P.json.name," "))}if(e.json.typeId){var O=_e.ForId(e.json.typeId);O&&(b+=" ".concat(O.json.name," "))}if(e.json.hours){var k="".concat(Math.floor(+e.json.hours)).padStart(2,"0"),D=(+e.json.hours%1*60).toFixed(0).padStart(2,"0");b+=" ".concat(k,"h ").concat(D,"m 00s ")}if(e.json.startISO8601&&e.json.endISO8601){var _=I["DateTime"].fromISO(e.json.startISO8601),w=_.toLocal(),x=I["DateTime"].fromISO(e.json.endISO8601),R=x.toLocal(),M=R.diff(w,["hours","minutes","seconds"]).toObject(),A=(""+M.hours).padStart(2,"0"),T=(""+M.minutes).padStart(2,"0"),V=(""+M.seconds.toFixed(0)).padStart(2,"0");b+=" ".concat(A,"h ").concat(T,"m ").concat(V,"s ")}if(e.json.startISO8601&&(b+=I["DateTime"].fromISO(e.json.startISO8601).toLocaleString(I["DateTime"].DATETIME_SHORT)),e.json.endISO8601&&(b+=I["DateTime"].fromISO(e.json.endISO8601).toLocaleString(I["DateTime"].DATETIME_SHORT)),b+=e.json.isActive?" Active ":"",e.json.locationType)switch(e.json.locationType.trim()){case"travel":b+=" Travel ";break;case"on-site":b+=" On Site ";break;case"remote":b+=" Remote ";break}if(b+=Ue.IsExtraForId(e.id)?" Extra ":"",b+=e.json.isBilled?" Billed ":"",b+=e.json.isPaidOut?" Paid Out ":"",e.json.exceptionTypeId){var B=Me.ForId(e.json.exceptionTypeId);B&&(b+=" ".concat(B.json.name," "))}if(e.json.holidayTypeId){var L=Be.ForId(e.json.holidayTypeId);L&&(b+=" ".concat(L.json.name," "))}if(e.json.nonBillableTypeId){var N=Fe.ForId(e.json.nonBillableTypeId);N&&(b+=" ".concat(N.json.name," "))}e.json.notes&&(b+=e.json.notes),b=b.replace(/\W/g,""),b=b.toLowerCase();var E=this.filter.toLowerCase();if(E=E.replace(/\W/g,""),-1===b.indexOf(E)){a=!1;break}}}while(0);return a}},{key:"RowSortBy",value:function(e){return"".concat(e.json.startISO8601).concat(e.id)}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:null})],Po.prototype,"rootProject",void 0),Object(v["a"])([Object(p["b"])({default:null})],Po.prototype,"showOnlyProjectId",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Po.prototype,"showChildrenOfProjectIdAsWell",void 0),Object(v["a"])([Object(p["b"])({default:null})],Po.prototype,"showOnlyAgentId",void 0),Object(v["a"])([Object(p["b"])({default:null})],Po.prototype,"showOnlyAssignmentId",void 0),Object(v["a"])([Object(p["b"])({default:"There are no labour entries to show."})],Po.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Po.prototype,"focusIsProject",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Po.prototype,"focusIsAgent",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Po.prototype,"showOnlyForBillingUsersAgent",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Po.prototype,"showOnlyActiveAndToday",void 0),Object(v["a"])([Object(p["b"])({default:null})],Po.prototype,"prefillProjectId",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Po.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Po.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Po.prototype,"showDateFilters",void 0),Po=Object(v["a"])([Object(p["a"])({components:{LabourListItem:jo,PermissionsDeniedAlert:Qi},computed:Object(Di["a"])({},Object(C["c"])(["SessionId"]))})],Po);var Oo=Po,ko=Oo,Do=n("2e4b"),_o=n("71d9"),wo=n("2a7f"),xo=Object(ha["a"])(ko,oo,so,!1,null,null,null),Ro=xo.exports;ga()(xo,{VAlert:Ji["a"],VBtn:ya["a"],VCol:Sa["a"],VContainer:Ia["a"],VDatePicker:Do["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemGroup:to["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VPagination:no["a"],VRow:Da["a"],VSpacer:_a["a"],VTextField:wa["a"],VToolbar:_o["a"],VToolbarTitle:wo["a"]});var Mo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{disabled:e.disabled,top:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{disabled:e.disabled,color:"white",text:"",rounded:""}},a),[n("v-icon",{attrs:{left:"",dark:""}},[e._v("add")]),e._v(" Add ")],1)]}}])},[n("v-list",{attrs:{dense:""}},[e._t("default")],2)],1)},Ao=[],To=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);Object(v["a"])([Object(p["b"])({default:!1})],To.prototype,"disabled",void 0),To=Object(v["a"])([Object(p["a"])({props:{}})],To);var Vo=To,Bo=Vo,Lo=Object(ha["a"])(Bo,Mo,Ao,!1,null,null,null),No=Lo.exports;ga()(Lo,{VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VMenu:pi["a"]});n("841c");var Eo=function(e,t){var n,a=function(e){for(var t="",n=0;n<e.length;n++){var a=null===e[n]?"":e[n].toString();e[n]instanceof Date&&(a=e[n].toLocaleString());var i=a.replace(/"/g,'""');i.search(/("|,|\n)/g)>=0&&(i='"'+i+'"'),n>0&&(t+=","),t+=i}return t+"\n"},i="",o=Object(G["a"])(t);try{for(o.s();!(n=o.n()).done;){var s=n.value;i+=a(s)}}catch(u){o.e(u)}finally{o.f()}var r=new Blob([i],{type:"text/csv;charset=utf-8;"});if(navigator.msSaveBlob)navigator.msSaveBlob(r,e);else{var l=document.createElement("a");if(void 0!==l.download&&!window.Cypress){var c=URL.createObjectURL(r);l.setAttribute("href",c),l.setAttribute("download",e),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l)}}},Fo=function(e){if(e&&e.json){var t=ra.state.Database.agents;if(t){var n=[];n.push(["Export Type:","Agents","Export Version:","CSV1"]),n.push(["id","lastModifiedISO8601","lastModifiedBillingId","name","title","employmentStatusId","hourlyWage","notificationSMSNumber"]),n.push([e.id||"",e.lastModifiedISO8601||"",e.json.lastModifiedBillingId||"",e.json.name||"",e.json.title||"",e.json.employmentStatusId||"","".concat(e.json.hourlyWage)||"",e.json.notificationSMSNumber||""]),n.push(["Export Type:","Labour","Export Version:","CSV1"]),n.push(["id","lastModifiedISO8601","lastModifiedBillingId","projectId","agentId","assignmentId","typeId","timeMode","hours","startISO8601","endISO8601","isActive","locationType","isExtra","isBilled","isPaidOut","exceptionTypeId","holidayTypeId","nonBillableTypeId","notes","bankedPayOutAmount"]);for(var a=ra.state.Database.labour,i=0,o=Object.values(a);i<o.length;i++){var s=o[i];e.id===s.json.agentId&&n.push([s.id||"",s.lastModifiedISO8601||"",s.json.lastModifiedBillingId||"",s.json.projectId||"",s.json.agentId||"",s.json.assignmentId||"",s.json.typeId||"",s.json.timeMode||"","".concat(s.json.hours)||"",s.json.startISO8601||"",s.json.endISO8601||"",s.json.isActive?"YES":"NO",s.json.locationType||"",Ue.IsExtraForId(s.id||null)?"YES":"NO",s.json.isBilled?"YES":"NO",s.json.isPaidOut?"YES":"NO",s.json.exceptionTypeId||"",s.json.holidayTypeId||"",s.json.nonBillableTypeId||"",s.json.notes||"","".concat(s.json.bankedPayOutAmount)||""])}Eo("Agents-1.csv",n)}}},qo=function(){return["(###) ###-#### x#######"]},Go=function(e){return e&&e.length>=2||"Must be greater than 2 letters"},$o=function(e){return!!e||"Name is required"},Uo=function(e){return!!y(e)||(!(e.length<=13)||"Optional, but must be full 10 digit phone number.")},Ho=function(e){return!!y(e)||(!(e.length<4)||"Optional, but must be greater then 4 letters.")},Wo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermProjectsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-project-list-filter-field",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e(),n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("ProjectListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)],1):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{margin:"15px","padding-bottom":"10px"},attrs:{border:"top","colored-border":"",type:"info",elevation:"2"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)},Ko=[],zo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-project-list-item"},[n("v-snackbar",{attrs:{color:"info",timeout:6e3,top:!0},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.InfoSnackbarVisible=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.InfoSnackbarVisible,callback:function(t){e.InfoSnackbarVisible=t},expression:"InfoSnackbarVisible"}},[e._v(" "+e._s(e.InfoSnackbarText)+" ")]),n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",{staticStyle:{overflow:"hidden"},on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e.ProjectAddressForId(e.value.id)?n("span",[e._v(" "+e._s(e.ProjectAddressForId(e.value.id))+" ")]):n("span",[e._v("No Address")])]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.value.json.name?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" "+e._s(e.value.json.name)+" ")])]}}],null,!1,1899548734)},[n("span",[e._v("Name")])]):e._e(),e.FormatCompanyListDescription(e.value.json.companies)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("domain")])],1),e._v(" "+e._s(e.FormatCompanyListDescription(e.value.json.companies))+" ")],1)]}}],null,!1,3837849315)},[n("span",[e._v("Company Name")])]):e._e()],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourCanPushSelf()},on:{click:function(t){return e.StartTravel()}}},[n("v-list-item-icon",[n("v-icon",[e._v("commute")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Start Travel Labour")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourCanPushSelf()},on:{click:function(t){return e.StartOnSite()}}},[n("v-list-item-icon",[n("v-icon",[e._v("build")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Start On-Site Labour")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourCanPushSelf()},on:{click:function(t){return e.StartRemote()}}},[n("v-list-item-icon",[n("v-icon",[e._v("business")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Start Remote Labour")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProjectsCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},Jo=[],Yo=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.FormatCompanyListDescription=tn.CompanyListDescriptionForIds,e.ProjectAddressForId=ze.AddressForId,e.PermLabourCanPushSelf=Ue.PermLabourCanPushSelf,e.PermProjectsCanDelete=ze.PermProjectsCanDelete,e.InfoSnackbarVisible=!1,e.InfoSnackbarText="",e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];if(null!=e.value.json.parentId&&!y(e.value.json.parentId)&&-1===e.value.json.parentId.indexOf("NULL_SENTINEL")){var n=ze.ForId(e.value.json.parentId);if(null==n&&ze.PermProjectsCanRequest()){var a=ze.FetchForId(e.value.json.parentId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}if(null!=e.value.json.statusId&&!y(e.value.json.statusId)){var i=kn.ForId(e.value.json.statusId);if(null==i&&kn.PermProjectStatusCanRequest()){var o=kn.FetchForId(e.value.json.statusId);o.completeRequestPromise&&t.push(o.completeRequestPromise)}}if(null!=e.value.json.contacts&&e.value.json.contacts.length>0){var s,r=[],l=Object(G["a"])(e.value.json.contacts);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(null!=c&&null!=c.value&&!y(c.value)){var u=un.ForId(c.value);null==u&&r.push(c.value)}}}catch(g){l.e(g)}finally{l.f()}if(r.length>0&&un.PermContactsCanRequest()){var d=un.RequestContacts.Send({sessionId:ce.CurrentSessionId(),limitToIds:r});d.completeRequestPromise&&t.push(d.completeRequestPromise)}}if(null!=e.value.json.companies&&e.value.json.companies.length>0){var m,v=[],p=Object(G["a"])(e.value.json.companies);try{for(p.s();!(m=p.n()).done;){var f=m.value;if(null!=f&&null!=f.value&&!y(f.value)){var h=tn.ForId(f.value);null==h&&v.push(f.value)}}}catch(g){p.e(g)}finally{p.f()}if(v.length>0&&tn.PermCompaniesCanRequest()){var b=tn.RequestCompanies.Send({sessionId:ce.CurrentSessionId(),limitToIds:v});b.completeRequestPromise&&t.push(b.completeRequestPromise)}}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}},{key:"StartTravel",value:function(){var e=this;if(this.value&&this.value.id){var t=Pe.LoggedInAgentId();if(null==t||y(t)||null!=Pe.ForLoggedInAgent())ze.StartTravelForId(this.value.id);else{var n=Pe.FetchForId(t);null!=n.completeRequestPromise&&n.completeRequestPromise.then((function(){e.value&&e.value.id&&ze.StartTravelForId(e.value.id)}))}this.InfoSnackbarText="Started Travel Timer",this.InfoSnackbarVisible=!0}}},{key:"StartOnSite",value:function(){var e=this;if(this.value&&this.value.id){var t=Pe.LoggedInAgentId();if(null==t||y(t)||null!=Pe.ForLoggedInAgent())ze.StartOnSiteForId(this.value.id);else{var n=Pe.FetchForId(t);null!=n.completeRequestPromise&&n.completeRequestPromise.then((function(){e.value&&e.value.id&&ze.StartOnSiteForId(e.value.id)}))}this.InfoSnackbarText="Started On Site Timer",this.InfoSnackbarVisible=!0}}},{key:"StartRemote",value:function(){var e=this;if(this.value&&this.value.id){var t=Pe.LoggedInAgentId();if(null==t||y(t)||null!=Pe.ForLoggedInAgent())ze.StartRemoteForId(this.value.id);else{var n=Pe.FetchForId(t);null!=n.completeRequestPromise&&n.completeRequestPromise.then((function(){e.value&&e.value.id&&ze.StartRemoteForId(e.value.id)}))}this.InfoSnackbarText="Started Remote Timer",this.InfoSnackbarVisible=!0}}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],Yo.prototype,"value",void 0),Yo=Object(v["a"])([Object(p["a"])({})],Yo);var Qo=Yo,Xo=Qo,Zo=Object(ha["a"])(Xo,zo,Jo,!1,null,null,null),es=Zo.exports;ga()(Zo,{VAvatar:Na["a"],VBtn:ya["a"],VChip:Vi["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSnackbar:Li["a"],VTooltip:Ni["a"]});var ts=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermProjectsCanRequest=ze.PermProjectsCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[],n=Pe.LoggedInAgentId();if(null!=n&&!y(n)&&null==Pe.ForLoggedInAgent()){var a=Pe.FetchForId(n);a.completeRequestPromise&&t.push(a.completeRequestPromise)}if(ze.PermProjectsCanRequest()){var i=ze.RequestProjects.Send({sessionId:ce.CurrentSessionId()});i.completeRequestPromise&&t.push(i.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetEntryRouteForId",value:function(e){return"/section/projects/".concat(e,"?tab=General")}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteProjectDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.projects}},{key:"RowFilter",value:function(e,t){var n=this;if(!e||!e.id||!e.json)return!1;var a=null;if(null!=e.json.statusId&&(a=kn.ForId(e.json.statusId)),!a)return console.error("!status",e.json.statusId),!1;var i=!0;do{var o=a.json.isOpen,s=a.json.isClosed,r=a.json.isAwaitingPayment;if(null===a){console.error("project has null status",e),i=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var l,c=!1,u=Object(G["a"])(this.excludeIds);try{for(u.s();!(l=u.n()).done;){var d=l.value;if(null!==d&&e.id===d){c=!0;break}}}catch(le){u.e(le)}finally{u.f()}if(c){i=!1;break}}if(this.showOnlyPastDue){var m=e.json.hasEndISO8601,v=e.json.endISO8601;if(!m||!v||y(v)){i=!1;break}var p=I["DateTime"].fromISO(v).toLocal(),f=I["DateTime"].local();if(p>f){i=!1;break}}if(this.showOnlyDueWithNoLabour){var h=e.json.startISO8601;if(!h||y(h)){i=!1;break}var b=I["DateTime"].fromISO(h).toLocal(),g=I["DateTime"].local();if(b>g){i=!1;break}var C=Ue.ForProjectIds([e.id]);if(C.length>0){i=!1;break}}if(this.showOnlyUpcoming){if(!e.json.startISO8601||y(e.json.startISO8601)){i=!1;break}var j=I["DateTime"].fromISO(e.json.startISO8601);if(!j){i=!1;break}var S=j.toLocal(),P=I["DateTime"].local(),O=P.plus({weeks:1});if(S<P){i=!1;break}if(S>O){i=!1;break}}if(null!==this.showOnlyContactId){var k,D=!1,_=Object(G["a"])(e.json.contacts);try{for(_.s();!(k=_.n()).done;){var w=k.value;if(w.value===this.showOnlyContactId){D=!0;break}}}catch(le){_.e(le)}finally{_.f()}if(!D){i=!1;break}}if(null!==this.showOnlyCompanyId){var x,R=!1,M=Object(G["a"])(e.json.companies);try{for(M.s();!(x=M.n()).done;){var A=x.value;if(A.value===this.showOnlyCompanyId){R=!0;break}}}catch(le){M.e(le)}finally{M.f()}if(!R){i=!1;break}}if(null!==this.showOnlyChildrenOfProjectId&&e.json.parentId!==this.showOnlyChildrenOfProjectId){i=!1;break}if(null!==this.showOnlyAgentId){do{var T,V=!1,B=Ue.ForProjectIds([e.id]),L=Object(G["a"])(B);try{for(L.s();!(T=L.n()).done;){var N=T.value;if(N.json.agentId===this.showOnlyAgentId){V=!0;break}}}catch(le){L.e(le)}finally{L.f()}if(V)break;var E,q=!1,$=Ze.ForProjectIds([e.id]),U=Object(G["a"])($);try{for(U.s();!(E=U.n()).done;){var H=E.value,W=F.a.find(H.json.agentIds,(function(e){return e===n.showOnlyAgentId}));if(W){q=!0;break}}}catch(le){U.e(le)}finally{U.f()}if(q)break;i=!1}while(0);if(!i)break}if(!1===this.showOpen&&!0===o){i=!1;break}if(!1===this.showClosed&&!0===s){i=!1;break}if(!1===this.showAwaitingPayment&&!0===r){i=!1;break}if(this.showFilter){var K,z="",J=Object(G["a"])(e.json.addresses);try{for(J.s();!(K=J.n()).done;){var Y=K.value;z+=Y.value}}catch(le){J.e(le)}finally{J.f()}z+=e.json.name;var Q,X=Object(G["a"])(e.json.contacts);try{for(X.s();!(Q=X.n()).done;){var Z=Q.value,ee=Z.value,te=un.ForId(ee);te&&(z+=te.json.name)}}catch(le){X.e(le)}finally{X.f()}var ne,ae=Object(G["a"])(e.json.companies);try{for(ae.s();!(ne=ae.n()).done;){var ie=ne.value,oe=ie.value;if(!y(oe)&&null!=oe){var se=tn.ForId(oe);se&&(z+=" ",z+=se.json.name,z+=" ")}}}catch(le){ae.e(le)}finally{ae.f()}z=z.replace(/\W/g,""),z=z.toLowerCase();var re=this.filter.toLowerCase();if(re=re.replace(/\W/g,""),-1===z.indexOf(re)){i=!1;break}}}while(0);return i}},{key:"RowSortBy",value:function(e){var t="";t+=e.lastModifiedISO8601||"";var n,a=Object(G["a"])(e.json.addresses);try{for(a.s();!(n=a.n()).done;){var i=n.value;t+=i.value,t+=" "}}catch(o){a.e(o)}finally{a.f()}return t}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:!0})],ts.prototype,"showOpen",void 0),Object(v["a"])([Object(p["b"])({default:!0})],ts.prototype,"showAwaitingPayment",void 0),Object(v["a"])([Object(p["b"])({default:!0})],ts.prototype,"showClosed",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ts.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:null})],ts.prototype,"showOnlyContactId",void 0),Object(v["a"])([Object(p["b"])({default:null})],ts.prototype,"showOnlyCompanyId",void 0),Object(v["a"])([Object(p["b"])({default:null})],ts.prototype,"showOnlyChildrenOfProjectId",void 0),Object(v["a"])([Object(p["b"])({default:null})],ts.prototype,"showOnlyAgentId",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ts.prototype,"showOnlyUpcoming",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ts.prototype,"showOnlyPastDue",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ts.prototype,"showOnlyDueWithNoLabour",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],ts.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:"There are no projects to show."})],ts.prototype,"emptyMessage",void 0),ts=Object(v["a"])([Object(p["a"])({components:{ProjectListItem:es,PermissionsDeniedAlert:Qi}})],ts);var ns=ts,as=ns,is=Object(ha["a"])(as,Wo,Ko,!1,null,null,null),os=is.exports;ga()(is,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var ss=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{attrs:{dark:"",icon:""},on:{click:function(t){return e.$emit("reload")}}},[n("v-icon",[e._v("sync")])],1)},rs=[],ls=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);ls=Object(v["a"])([Object(p["a"])({props:{}})],ls);var cs=ls,us=cs,ds=Object(ha["a"])(us,ss,rs,!1,null,null,null),ms=ds.exports;ga()(ds,{VBtn:ya["a"],VIcon:ka["a"]});var vs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Assignment")]),n("v-divider"),n("v-card-text",[n("AssignmentEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},ps=[],fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"show-arrows":"","background-color":"transparent","align-with-title":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Labour"})}).catch((function(e){}))}}},[e._v(" Labour ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Schedule"})}).catch((function(e){}))}}},[e._v(" Schedule ")])],1)]},proxy:!0}],null,!1,2345543299)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Assignment")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Assignment Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportAssignmentPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportAssignmentCSV()},on:{click:function(t){return e.CSVDownloadAssignments()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","center-active":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{staticClass:"e2e-assignment-editor-in-page-tab-general"},[e._v(" General ")]),n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Labour ")]),n("v-tab",{staticClass:"e2e-assignment-editor-in-page-tab-schedule"},[e._v(" Schedule ")])],1),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{attrs:{isDialogue:e.isDialogue,required:!0,rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAssignmentCanPush()},model:{value:e.ProjectId,callback:function(t){e.ProjectId=t},expression:"ProjectId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-textarea",{staticClass:"e2e-assignment-editor-work-requested",attrs:{label:"Work Requested",hint:"Requested work for this assignment.",rows:"1","auto-grow":"",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAssignmentCanPush()},model:{value:e.WorkRequested,callback:function(t){e.WorkRequested=t},expression:"WorkRequested"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-select",{staticClass:"e2e-assignment-editor-status-id",attrs:{label:"Status","auto-select-first":"",hint:"What status this assignment is in.",items:e.StatusItems,"item-value":"id","item-text":"json.name",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAssignmentCanPush()},model:{value:e.StatusId,callback:function(t){e.StatusId=t},expression:"StatusId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Notes")])])],1),e.value?n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e.NotesOnMainProjectThatAreNotThisAssignment>0?n("div",{staticStyle:{"font-size":"14px","margin-top":"20px","margin-bottom":"20px"}},[e._v(" There are "+e._s(e.NotesOnMainProjectThatAreNotThisAssignment)+" other notes on the "),n("router-link",{attrs:{to:"/section/projects/"+e.value.json.projectId+"?tab=Notes"}},[e._v("main project")]),e._v(". ")],1):e._e(),n("NoteList",{attrs:{showOnlyAssignmentId:e.value.id,showFilter:!1,isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus,emptyMessage:"There are no notes for this assignment.",dense:!0}})],1)],1):e._e(),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-card",{attrs:{outlined:""}},[n("v-card-title",{staticStyle:{"padding-bottom":"0px"}},[e._v("Add Quick Note")]),n("v-card-text",[n("v-textarea",{staticClass:"e2e-add-quick-note-text-area",attrs:{label:"",hint:"Work performed, things not to forget, etc.",rows:"1","auto-grow":"",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectNotesCanPush()},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{staticClass:"e2e-add-quick-note-text-area-save",attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermProjectNotesCanPush()},on:{click:e.OnClickAddNote}},[n("v-icon",{attrs:{left:""}},[e._v("save")]),e._v(" Save ")],1)]},proxy:!0}]),model:{value:e.addNoteText,callback:function(t){e.addNoteText=t},expression:"addNoteText"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Internal Only","hide-details":"",dense:"",disabled:"Connected"!=e.connectionStatus||!e.PermProjectNotesCanPush()},model:{value:e.addNoteTextInternal,callback:function(t){e.addNoteTextInternal=t},expression:"addNoteTextInternal"}})],1)],1)],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Agents")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("AgentSelectFieldArrayAdapter",{attrs:{isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus,readonly:!e.PermAssignmentCanPush()},model:{value:e.AgentIds,callback:function(t){e.AgentIds=t},expression:"AgentIds"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this assignment."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()},on:{click:e.StartTravel}},[n("v-icon",{attrs:{left:""}},[e._v("commute")]),e._v(" Start Travel ")],1),n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()},on:{click:e.StartOnSite}},[n("v-icon",{attrs:{left:""}},[e._v("build")]),e._v(" Start On-Site ")],1),n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()},on:{click:e.StartRemote}},[n("v-icon",{attrs:{left:""}},[e._v("business")]),e._v(" Start Remote ")],1),n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()||!e.PermCRMLabourManualEntries()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{projectId:e.ProjectId,assignmentId:e.$route.params.id,agentId:e.AgentLoggedInAgentId(),typeId:e.LabourTypeDefaultBillableTypeId()}}})}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Manual Entry ")],1)],1)],1)],1),n("LabourList",{attrs:{showFilter:!1,showOnlyAssignmentId:e.$route.params.id,focusIsAgent:!0,openEntryOnClick:!1,isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus}})],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"scheduleForm"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e.ForceAssignmentsToUseProjectSchedule?n("v-alert",{attrs:{type:"info"}},[e._v(" The schedule of this assignment is managed by the project, go to "),n("router-link",{staticStyle:{color:"white"},attrs:{to:"/section/projects/"+e.value.json.projectId+"?tab=Schedule"}},[e._v("the project")]),e._v(" to change it. ")],1):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Start")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Date")]),n("v-switch",{attrs:{label:"Scheduled Start",disabled:e.ForceAssignmentsToUseProjectSchedule||"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},model:{value:e.HasStartISO8601,callback:function(t){e.HasStartISO8601=t},expression:"HasStartISO8601"}}),e.HasStartISO8601?n("div",[n("p",[n("v-date-picker",{staticClass:"e2e-date-picker-start",attrs:{disabled:e.ForceAssignmentsToUseProjectSchedule||"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush(),elevation:1},model:{value:e.StartDateLocal,callback:function(t){e.StartDateLocal=t},expression:"StartDateLocal"}})],1),n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Time")]),n("v-radio-group",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},model:{value:e.StartTimeMode,callback:function(t){e.StartTimeMode=t},expression:"StartTimeMode"}},[n("v-radio",{key:"none",attrs:{label:"No Time",value:"none",disabled:e.ForceAssignmentsToUseProjectSchedule}}),n("v-radio",{key:"morning-first-thing",attrs:{label:"Morning First Thing",value:"morning-first-thing",disabled:e.ForceAssignmentsToUseProjectSchedule}}),n("v-radio",{key:"morning-second-thing",attrs:{label:"Morning Second Thing",value:"morning-second-thing",disabled:e.ForceAssignmentsToUseProjectSchedule}}),n("v-radio",{key:"afternoon-first-thing",attrs:{label:"Afternoon First Thing",value:"afternoon-first-thing",disabled:e.ForceAssignmentsToUseProjectSchedule}}),n("v-radio",{key:"afternoon-second-thing",attrs:{label:"Afternoon Second Thing",value:"afternoon-second-thing",disabled:e.ForceAssignmentsToUseProjectSchedule}}),n("v-radio",{key:"time",attrs:{label:"Specific Time",value:"time",disabled:e.ForceAssignmentsToUseProjectSchedule}})],1),"time"==e.StartTimeMode?n("p",[n("v-time-picker",{attrs:{"ampm-in-title":!0,"allowed-minutes":e.TimePicker5MinuteStep,disabled:e.ForceAssignmentsToUseProjectSchedule||"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush(),elevation:1},model:{value:e.StartTimeLocal,callback:function(t){e.StartTimeLocal=t},expression:"StartTimeLocal"}})],1):e._e()],1):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title",staticStyle:{"font-weight":"bold"}},[e._v("End")]),n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Date")]),n("v-switch",{attrs:{label:"Scheduled End",disabled:e.ForceAssignmentsToUseProjectSchedule||"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},model:{value:e.HasEndISO8601,callback:function(t){e.HasEndISO8601=t},expression:"HasEndISO8601"}}),e.HasEndISO8601?n("div",[n("p",[n("v-date-picker",{staticClass:"e2e-date-picker-end",attrs:{disabled:e.ForceAssignmentsToUseProjectSchedule||"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush(),elevation:1},model:{value:e.EndDateLocal,callback:function(t){e.EndDateLocal=t},expression:"EndDateLocal"}})],1),n("v-radio-group",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},model:{value:e.EndTimeMode,callback:function(t){e.EndTimeMode=t},expression:"EndTimeMode"}},[n("v-radio",{key:"none",attrs:{label:"No Time",value:"none",disabled:e.ForceAssignmentsToUseProjectSchedule}}),n("v-radio",{key:"time",attrs:{label:"Specific Time",value:"time",disabled:e.ForceAssignmentsToUseProjectSchedule}})],1),"time"==e.EndTimeMode?n("p",[n("v-time-picker",{attrs:{"ampm-in-title":!0,"allowed-minutes":e.TimePicker5MinuteStep,disabled:e.ForceAssignmentsToUseProjectSchedule||!e.PermAssignmentCanPush(),elevation:1},model:{value:e.EndTimeLocal,callback:function(t){e.EndTimeLocal=t},expression:"EndTimeLocal"}})],1):e._e()],1):e._e()],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Assignment Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The assignment no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the assignment while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),n("v-snackbar",{attrs:{color:"error",timeout:6e3,top:!0},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.errorAssignmentNullSnackbarVisible=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.errorAssignmentNullSnackbarVisible,callback:function(t){e.errorAssignmentNullSnackbarVisible=t},expression:"errorAssignmentNullSnackbarVisible"}},[e._v(" Can't find the assignment to edit. ")]),n("v-snackbar",{attrs:{color:"error",timeout:6e3,top:!0},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.errorNoBillableLabourTypeVisible=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.errorNoBillableLabourTypeVisible,callback:function(t){e.errorNoBillableLabourTypeVisible=t},expression:"errorNoBillableLabourTypeVisible"}},[e._v(" There is no default billable labour type. ")]),n("v-snackbar",{attrs:{color:"error",timeout:6e3,top:!0},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{dark:"",text:""},on:{click:function(t){e.errorAddNoteTextEmpty=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.errorAddNoteTextEmpty,callback:function(t){e.errorAddNoteTextEmpty=t},expression:"errorAddNoteTextEmpty"}},[e._v(" You must add some text before adding a note. ")]),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermAssignmentCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteAssignmentDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1),n("v-spacer"),n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush(),color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"CompleteAssignmentDialogue",state:{assignment:e.value}})}}},[n("v-icon",{attrs:{left:""}},[e._v("check")]),e._v(" Completed ")],1),n("AddMenuButton",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPush()||!e.PermCRMLabourManualEntries()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{projectId:e.ProjectId,assignmentId:e.$route.params.id,agentId:e.AgentLoggedInAgentId(),typeId:e.LabourTypeDefaultBillableTypeId()}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Labour…")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"AddProjectNoteDialogue",state:{json:{assignmentId:e.$route.params.id,projectId:e.value.json.projectId}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("note_add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Note…")])],1)],1)],1)],1)],1):e._e()],1)},hs=[],bs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerdiv"},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select an Agent")]),n("v-divider"),n("v-card-text",[n("AgentList",{ref:"list",staticClass:"e2e-agent-select-list",attrs:{openEntryOnClick:!1,showMenuButton:!1},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Agent")]),n("v-divider"),n("v-card-text",[n("AgentEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewAgent()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.isFirstIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveUp",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:e.isLastIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveDown",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("RemoveRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Agent&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.Agent?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewAgent()}}},[e._v(" "+e._s(e.AgentName||"Empty agent name.")+" ")]):n("div",{staticClass:"e2e-agent-select-field-select-or-add-agent",staticStyle:{flex:"1","text-align":"center"},on:{click:function(t){return e.SelectNewAgent()}}},[n("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled||e.readonly}},[e._v(" Select or Add Agent ")])],1),e.Agent&&!e.isDialogue?n("div",{staticClass:"d-none d-sm-flex"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{to:"/section/agents/"+e.value+"?tab=Agenda",color:"primary",label:"",outlined:""}},a),[e._v(" Open "),n("v-icon",{attrs:{right:"",small:""}},[e._v("open_in_new")])],1)]}}],null,!1,2862793904)},[n("span",[e._v("Open this agent.")])])],1):e._e()])])],1)},gs=[],ys=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.selectDialogOpen=!1,e.ISO8601ToLocalDateOnly=ye,e.ISO8601ToLocalDatetime=Ce,e}return Object(u["a"])(n,[{key:"IsValueEmpty",get:function(){return y(this.value)}},{key:"ShowDetails",get:function(){return this.showDetails}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:"Label"})],ys.prototype,"label",void 0),Object(v["a"])([Object(p["b"])({default:null})],ys.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],ys.prototype,"rules",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ys.prototype,"required",void 0),Object(v["a"])([Object(p["b"])({default:null})],ys.prototype,"hint",void 0),Object(v["a"])([Object(p["b"])({default:!0})],ys.prototype,"showDetails",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ys.prototype,"isDialogue",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ys.prototype,"disabled",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ys.prototype,"readonly",void 0),Object(v["a"])([Object(p["b"])({default:null})],ys.prototype,"index",void 0),Object(v["a"])([Object(p["b"])({default:null})],ys.prototype,"isFirstIndex",void 0),Object(v["a"])([Object(p["b"])({default:null})],ys.prototype,"isLastIndex",void 0),ys=Object(v["a"])([Object(p["a"])({components:{}})],ys);var Cs=ys,js=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermAgentsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-agent-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("div",{key:t.id},[t.isHeader?n("v-toolbar",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px","margin-bottom":"10px"},attrs:{dense:"",elevation:"1",color:"rgb(116, 115, 137)",short:"",dark:""}},[n("v-toolbar-title",{attrs:{dense:""},domProps:{textContent:e._s(t.title)}}),n("v-spacer"),t.trailingButton?n("v-btn",{attrs:{icon:"",disabled:e.disabled||!e.PermCRMLabourManualEntries()},on:{click:t.trailingButtonCallback}},[n("v-icon",{domProps:{textContent:e._s(t.trailingButtonIcon)}})],1):e._e()],1):n("AgentsListItem",{attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})],1)})),0),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)},Ss=[],Is=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-agent-list-item"},[n("v-list-item",{class:{paddingLeftRight5px:e.reducePadding}},[n("v-list-item-avatar",{class:{marginRight5px:e.reducePadding}},[n("v-icon",[e._v("person")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[!e.isPlaceholder&&e.value&&e.value.json?n("span",[e._v(e._s(e.value.json.name))]):e._e(),e.isPlaceholder?n("span",[e._v(e._s(e.placeholderValues.name))]):e._e()]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.showEmploymentStatus&&e.EmploymentStatusName?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},[e._v(" "+e._s(e.EmploymentStatusName)+" ")]):!e.EmploymentStatusName&&e.loadingData?n("div",[n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1)],1):e._e(),e.showTitle&&e.value&&e.value.json&&e.value.json.title?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},[e._v(" "+e._s(e.value.json.title)+" ")]):e._e()],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled||!e.PermAgentsCanRequest()},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermAgentsCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},Ps=[],Os=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermAgentDisplayOwn=Pe.PermAgentDisplayOwn,e.PermAgentsCanRequest=Pe.PermAgentsCanRequest,e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.PermAgentsCanDelete=Pe.PermAgentsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];if(null!=e.value.json.employmentStatusId&&!y(e.value.json.employmentStatusId)){var n=sn.ForId(e.value.json.employmentStatusId);if(null==n&&sn.PermEmploymentStatusCanRequest()){var a=sn.FetchForId(e.value.json.employmentStatusId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"EmploymentStatusName",get:function(){if(this.value&&this.value.json&&this.value.json.employmentStatusId&&!y(this.value.json.employmentStatusId)){var e=sn.ForId(this.value.json.employmentStatusId);return e?e.json.name:null}return null}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],Os.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Os.prototype,"reducePadding",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Os.prototype,"showEmploymentStatus",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Os.prototype,"showTitle",void 0),Os=Object(v["a"])([Object(p["a"])({})],Os);var ks=Os,Ds=ks,_s=(n("4b77"),Object(ha["a"])(Ds,Is,Ps,!1,null,"468c8430",null)),ws=_s.exports;ga()(_s,{VBtn:ya["a"],VChip:Vi["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var xs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-contact-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.name||"No Name"))]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[null!=e.value&&e.value.json.companyId&&e.CompanyForId(e.value.json.companyId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" "+e._s(e.CompanyForId(e.value.json.companyId).json.name)+" ")])]}}],null,!1,3327308636)},[n("span",[e._v("Company")])]):e._e(),null!=e.value&&e.value.json.title?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[e._v(" "+e._s(e.value.json.title)+" ")])]}}],null,!1,2748694713)},[n("span",[e._v("Title")])]):e._e()],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermContactsCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1),e.PhoneNumbers.length>0?n("div",[n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Call at…")]),e._l(e.PhoneNumbers,(function(t){return n("v-list-item",{key:t.value,attrs:{disabled:e.disabled},on:{click:function(n){return n.stopPropagation(),e.CallNum(t.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("phone")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.value)+" ("+e._s(t.label)+")")])],1)],1)}))],2):e._e(),e.PhoneNumbers.length>0?n("div",[n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Text at…")]),e._l(e.PhoneNumbers,(function(t){return n("v-list-item",{key:t.value,attrs:{disabled:e.disabled},on:{click:function(n){return n.stopPropagation(),e.SMSNum(t.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("textsms")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.value)+" ("+e._s(t.label)+")")])],1)],1)}))],2):e._e(),e.EMail.length>0?n("div",[n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("E-Mail at…")]),e._l(e.EMail,(function(t){return n("v-list-item",{key:t.value,attrs:{disabled:e.disabled},on:{click:function(n){return n.stopPropagation(),e.SendEmail(t.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("email")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.value)+" ("+e._s(t.label)+")")])],1)],1)}))],2):e._e()],1)],1)],1):e._e()],1)],1)},Rs=[],Ms=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.CompanyForId=tn.ForId,e.PermContactsCanDelete=un.PermContactsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];if(null!=e.value.json.companyId&&!y(e.value.json.companyId)){var n=tn.ForId(e.value.json.companyId);if(null==n&&tn.PermCompaniesCanRequest()){var a=tn.FetchForId(e.value.json.companyId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"PhoneNumbers",get:function(){if(!this.value||!this.value.json||!this.value.json.phoneNumbers||0===this.value.json.phoneNumbers.length)return[];var e=F.a.filter(this.value.json.phoneNumbers,(function(e){return!y(e.value)}));return e}},{key:"Addresses",get:function(){if(!this.value||!this.value.json||!this.value.json.addresses||0===this.value.json.addresses.length)return[];var e=F.a.filter(this.value.json.addresses,(function(e){return!y(e.value)}));return e}},{key:"EMail",get:function(){if(!this.value||!this.value.json||!this.value.json.emails||0===this.value.json.emails.length)return[];var e=F.a.filter(this.value.json.emails,(function(e){return!y(e.value)}));return e}},{key:"CallNum",value:function(e){var t=e.replace(/\D/g,"");window.location.href="tel:".concat(t)}},{key:"SMSNum",value:function(e){var t=e.replace(/\D/g,"");window.location="sms:".concat(t)}},{key:"SendEmail",value:function(e){window.location="mailto:".concat(e)}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],Ms.prototype,"value",void 0),Ms=Object(v["a"])([Object(p["a"])({})],Ms);var As=Ms,Ts=As,Vs=Object(ha["a"])(Ts,xs,Rs,!1,null,null,null),Bs=Vs.exports;ga()(Vs,{VBtn:ya["a"],VChip:Vi["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSubheader:fi["a"],VTooltip:Ni["a"]});var Ls=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermAgentsCanRequest=Pe.PermAgentsCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(Pe.PermAgentsCanRequest()){var n=Pe.RequestAgents.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"InsertRowHeaders",value:function(e){for(var t=null,n=0;n<e.length;n++){var a=e[n];if(a.json.employmentStatusId&&t!==a.json.employmentStatusId){var i=sn.ForId(a.json.employmentStatusId);e.splice(n,0,{isHeader:!0,title:(null===i||void 0===i?void 0:i.json.name)||"?",trailingButton:!1,trailingButtonIcon:"add",trailingButtonCallback:function(){}}),t=a.json.employmentStatusId,n++}}}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetEntryRouteForId",value:function(e){return"/section/agents/".concat(e,"?tab=General")}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteAgentDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.agents}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(u){o.e(u)}finally{o.f()}if(i){n=!1;break}}var r="";r+=e.json.name,r+=e.json.title;var l=sn.ForId(e.json.employmentStatusId);l&&(r+=e.json.name),r+=" $".concat(e.json.hourlyWage,"/h "),r+=e.json.notificationSMSNumber,r=r.replace(/\W/g,""),r=r.toLowerCase();var c=this.filter.toLowerCase();if(c=c.replace(/\W/g,""),-1===r.indexOf(c)){n=!1;break}}while(0);return n}},{key:"RowSortBy",value:function(e){var t=(e.json.name||"1").toLowerCase(),n=e.json.employmentStatusId,a=sn.ForId(n);return"".concat(null===a||void 0===a?void 0:a.json.name," ").concat(t)}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:"There are no agents to show."})],Ls.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Ls.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Ls.prototype,"isReverseSort",void 0),Ls=Object(v["a"])([Object(p["a"])({components:{AgentsListItem:ws,ContactListItem:Bs,PermissionsDeniedAlert:Qi}})],Ls);var Ns=Ls,Es=Ns,Fs=Object(ha["a"])(Es,js,Ss,!1,null,null,null),qs=Fs.exports;ga()(Fs,{VAlert:Ji["a"],VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VSpacer:_a["a"],VTextField:wa["a"],VToolbar:_o["a"],VToolbarTitle:wo["a"]});var Gs=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=Pe.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){Pe.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Agent",get:function(){return null===this.value||y(this.value)?null:Pe.ForId(this.value)}},{key:"AgentName",get:function(){var e=this.Agent;return e&&e.json.name||null}},{key:"SelectNewAgent",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("SelectNewAgent()"),this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("ClearValue()"),this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenContact",value:function(){console.log("OpenContact()"),y(this.value)?console.error("can't open contact as IsNullOrEmpty(this.value)"):this.$router.push("/section/agents/".concat(this.value,"?tab=Agenda")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){console.debug("OnClickEntry",e),this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=Pe.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=Pe.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,Pe.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=Pe.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Agent"})],Gs.prototype,"label",void 0),Gs=Object(v["a"])([Object(p["a"])({components:{AgentList:qs,AgentEditor:Kl}})],Gs);var $s=Gs;p["c"].component("AgentSelectField",Gs);var Us=$s,Hs=(n("5681"),n("b675")),Ws=Object(ha["a"])(Us,bs,gs,!1,null,"0b3c15e8",null),Ks=Ws.exports;ga()(Ws,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VChip:Vi["a"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var zs=function(e){return!y(e)||"Field is required."},Js=function(e){return e%5===0},Ys=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("AgentSelectField",{key:a,attrs:{index:a,isFirstIndex:0===a,isLastIndex:a===e.value.length-1,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()},InsertNewRowAtIndex:e.OnInsertNewRowAtIndex,RemoveRowAtIndex:e.OnRemoveRowAtIndex,MoveUp:e.OnMoveUp,MoveDown:e.OnMoveDown},scopedSlots:e._u([{key:"custom-menu-options",fn:function(){},proxy:!0}],null,!0),model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"2"}},[n("v-btn",{attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Agent ")],1)],1)],1)],2)},Qs=[],Xs=function(e,t,n){if(t!==n&&0<=t&&t<=e.length&&0<=n&&n<=e.length){var a=e[t];if(t<n)for(var i=t;i<n;i++)e[i]=e[i+1];else for(var o=t;o>n;o--)e[o]=e[o-1];e[n]=a}},Zs=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return console.error("GenerateEmptyRow not implemented"),null}},{key:"OnInsertNewRowAtIndex",value:function(e){null!==this.value&&(this.value.splice(e,0,this.GenerateEmptyRow()),this.$emit("input",this.value))}},{key:"OnRemoveRowAtIndex",value:function(e){null!==this.value&&(this.value.splice(e,1),this.$emit("input",this.value))}},{key:"OnMoveUp",value:function(e){if(null!==this.value){var t=F.a.cloneDeep(this.value);Xs(t,e,e-1),this.$emit("input",t)}}},{key:"OnMoveDown",value:function(e){if(null!==this.value){var t=F.a.cloneDeep(this.value);Xs(t,e,e+1),this.$emit("input",t)}}},{key:"PostChanged",value:function(){this.$emit("input",this.value)}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],Zs.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zs.prototype,"isDialogue",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Zs.prototype,"showDetails",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zs.prototype,"disabled",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zs.prototype,"readonly",void 0),Zs=Object(v["a"])([Object(p["a"])({components:{}})],Zs);var er=Zs,tr=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return null}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],tr.prototype,"value",void 0),tr=Object(v["a"])([Object(p["a"])({components:{AgentSelectField:Ks}})],tr);var nr=tr,ar=nr,ir=Object(ha["a"])(ar,Ys,Qs,!1,null,"8cd3a834",null),or=ir.exports;ga()(ir,{VBtn:ya["a"],VCol:Sa["a"],VIcon:ka["a"],VRow:Da["a"]});var sr=function(){var e=ra.state.Database.assignments;if(e){var t=[];t.push(["Export Type:","Assignments","Export Version:","CSV1"]),t.push(["id","lastModifiedISO8601","lastModifiedBillingId","projectId","agentId","workRequested","workPerformed","internalComments","hasStartISO8601","startTimeMode","startISO8601","hasEndISO8601","endTimeMode","endISO8601","statusId"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.lastModifiedISO8601||"",i.json.lastModifiedBillingId||"",i.json.projectId||"",i.json.agentId||"",i.json.workRequested||"",i.json.workPerformed||"",i.json.internalComments||"",Ze.HasStartISO8601ForId(i.id||null)?"YES":"NO",Ze.StartTimeModeForId(i.id||null)||"",Ze.StartISO8601ForId(i.id||null)||"",Ze.HasEndISO8601ForId(i.id||null)?"YES":"NO",Ze.EndTimeModeForId(i.id||null)||"",Ze.EndISO8601ForId(i.id||null)||"",i.json.statusId||""])}Eo("Assignments-All.csv",t)}},rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermProjectNotesCanRequest?n("v-list",{attrs:{dense:e.dense}},[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),e.showAddQuickNote?n("v-card",{staticStyle:{margin:"15px"},attrs:{outlined:""}},[n("v-card-title",{staticStyle:{"padding-bottom":"0px"}},[e._v("Add Quick Note")]),n("v-card-text",[n("v-textarea",{staticClass:"e2e-add-quick-note-text-area",attrs:{label:"",hint:"Work performed, things not to forget, etc.",rows:"1","auto-grow":"",disabled:e.disabled,readonly:!e.PermProjectNotesCanPush()},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{staticClass:"e2e-add-quick-note-text-area-save",attrs:{color:"primary",text:"",disabled:e.disabled||!e.PermProjectNotesCanPush()},on:{click:e.OnClickAddNote}},[n("v-icon",{attrs:{left:""}},[e._v("save")]),e._v(" Save ")],1)]},proxy:!0}],null,!1,2995662594),model:{value:e.addNoteText,callback:function(t){e.addNoteText=t},expression:"addNoteText"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Internal Only","hide-details":"",dense:"",disabled:e.disabled||!e.PermProjectNotesCanPush()},model:{value:e.addNoteTextInternal,callback:function(t){e.addNoteTextInternal=t},expression:"addNoteTextInternal"}})],1)],1):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],e.dense?n("v-list-item-group",e._l(e.PageRows,(function(t,a){return n("ProjectNoteCardSmall",{key:t.id,attrs:{isDialogue:e.isDialogue,rootProject:e.rootProject,disabled:e.disabled},on:{DeleteEntry:function(n){return e.DeleteEntry(t.id)},Resolved:function(n){return e.EntryResolved(t.id)},NotResolved:function(n){return e.EntryNotResolved(t.id)},NoLongerRelevant:function(n){return e.EntryNoLongerRelevant(t.id)},Relevant:function(n){return e.EntryRelevant(t.id)},MarkInternalOnly:function(n){return e.EntryInternalOnly(t.id)},MarkNotInternalOnly:function(n){return e.EntryNotInternalOnly(t.id)}},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1):n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("ProjectNoteCard",{key:t.id,attrs:{isDialogue:e.isDialogue,rootProject:e.rootProject,disabled:e.disabled},on:{DeleteEntry:function(n){return e.DeleteEntry(t.id)},Resolved:function(n){return e.EntryResolved(t.id)},NotResolved:function(n){return e.EntryNotResolved(t.id)},NoLongerRelevant:function(n){return e.EntryNoLongerRelevant(t.id)},Relevant:function(n){return e.EntryRelevant(t.id)},MarkInternalOnly:function(n){return e.EntryInternalOnly(t.id)},MarkNotInternalOnly:function(n){return e.EntryNotInternalOnly(t.id)}},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)},lr=[],cr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{class:{"note-card":!0,"entry-resolved":e.Resolved,"entry-no-longer-relevant":e.NoLongerRelevant}},[n("div",{staticStyle:{flex:"1"}},["styled-text"==e.value.json.contentType?n("ContentStyledText",{attrs:{strikethrough:e.NoLongerRelevant},model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):"checkbox"==e.value.json.contentType?n("ContentCheckbox",{attrs:{note:e.value},model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):"image"==e.value.json.contentType?n("ContentImage",{model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):"video"==e.value.json.contentType?n("ContentVideo",{model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):e._e(),e.Tags?n("v-card-text",{staticClass:"internal-notice"},[e._l(e.Tags,(function(t,a){return n("v-chip",{key:a,staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",top:""}},[e._v(" "+e._s(t)+" ")])})),e.HasAssignment?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",top:"",color:"primary",to:"/section/assignments/"+e.value.json.assignmentId+"?tab=General"}},[e._v(" Assignment ")]):e._e(),e.rootProject&&e.rootProject.id!==e.value.json.projectId?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",color:"primary",to:"/section/projects/"+e.value.json.projectId+"?tab=General"},on:{"~click":function(e){e.stopPropagation(),e.preventDefault()}}},a),[e._v(" From a Child Project ")])]}}],null,!1,502124418)},[n("span",[e._v(e._s(e.ProjectNameForId(e.value.id)||"No Name"))])]):e._e()],2):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-list-item",{staticClass:"grow"},[n("v-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:"40",color:"secondary"}},[n("span",{staticClass:"white--text"},[e._v(e._s(e.OriginalInitials))])]),n("v-list-item-content",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"}},[n("v-list-item-title",[e._v(e._s(e.OriginalName))]),n("div",{staticClass:"caption"},[e._v("Posted "+e._s(e.OriginalTime))])],1)],1)],1),e.LastModifiedName!=e.OriginalName||e.LastModifiedTime!=e.OriginalTime?n("v-col",{attrs:{cols:"12",sm:"6"}},[n("v-list-item",{staticClass:"grow"},[n("v-avatar",{staticStyle:{"margin-right":"10px"},attrs:{size:"40",color:"secondary"}},[n("span",{staticClass:"white--text"},[e._v(e._s(e.LastModifiedInitials))])]),n("v-list-item-content",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"}},[n("v-list-item-title",[e._v(e._s(e.LastModifiedName))]),n("div",{staticClass:"caption"},[e._v("Edited "+e._s(e.LastModifiedTime))])],1)],1)],1):e._e()],1)],1),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[e.Resolved?e._e():n("v-list-item",{attrs:{disabled:e.Resolved||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("Resolved",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("done")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Resolved")])],1)],1),e.Resolved?n("v-list-item",{attrs:{disabled:!e.Resolved||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("NotResolved",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("done")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Not Resolved")])],1)],1):e._e(),e.NoLongerRelevant?e._e():n("v-list-item",{attrs:{disabled:e.NoLongerRelevant||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("NoLongerRelevant",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("cancel")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark No Longer Relevant")])],1)],1),e.NoLongerRelevant?n("v-list-item",{attrs:{disabled:!e.NoLongerRelevant||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("Relevant",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("cancel")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Relevant")])],1)],1):e._e(),e.InternalOnly?e._e():n("v-list-item",{attrs:{disabled:e.InternalOnly||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("MarkInternalOnly",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("business")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Internal Only")])],1)],1),e.InternalOnly?n("v-list-item",{attrs:{disabled:!e.InternalOnly||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("MarkNotInternalOnly",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("business")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Not Internal Only")])],1)],1):e._e(),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProjectNotesCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete Note")])],1)],1)],1)],1)],1)},ur=[],dr=(n("466d"),function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e._periodicInterval=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.LoadData(),this.MountedAfter(),this.Periodic(),this._periodicInterval=setInterval(this.Periodic,1e3)}},{key:"destroyed",value:function(){null!=this._periodicInterval&&clearInterval(this._periodicInterval)}},{key:"LoadData",value:function(){}},{key:"MountedAfter",value:function(){}},{key:"Periodic",value:function(){}}]),n}(h));Object(v["a"])([Object(p["b"])({default:!1})],dr.prototype,"isDialogue",void 0),Object(v["a"])([Object(p["b"])({default:!1})],dr.prototype,"disabled",void 0),dr=Object(v["a"])([Object(p["a"])({components:{}})],dr);var mr=dr,vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-text",{staticClass:"value-checkbox"},[n("v-checkbox",{attrs:{label:e.value.text,dense:""},on:{click:function(t){return t.stopPropagation(),e.ToggleCheckbox.apply(null,arguments)}},model:{value:e.value.checkboxState,callback:function(t){e.$set(e.value,"checkboxState",t)},expression:"value.checkboxState"}})],1)},pr=[],fr=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"ToggleCheckbox",value:function(){var e=F.a.cloneDeep(this.note);if(e&&e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=!!e.json.content.checkboxState;t=!t;var n=e;n.checkboxState=t;var a={};a[e.id]=e,console.debug("payload",a),Sn.UpdateIds(a)}}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],fr.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:null})],fr.prototype,"note",void 0),fr=Object(v["a"])([Object(p["a"])({components:{}})],fr);var hr=fr,br=hr,gr=(n("ed3d"),n("ac7c")),yr=Object(ha["a"])(br,vr,pr,!1,null,"32060bac",null),Cr=yr.exports;ga()(yr,{VCardText:ja["c"],VCheckbox:gr["a"]});var jr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-text",{staticClass:"value-image"},[n("img",{staticStyle:{"max-width":"100%"},attrs:{src:e.value.uri}})])},Sr=[],Ir=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],Ir.prototype,"value",void 0),Ir=Object(v["a"])([Object(p["a"])({components:{}})],Ir);var Pr=Ir,Or=Pr,kr=(n("bea4"),Object(ha["a"])(Or,jr,Sr,!1,null,"528af2d5",null)),Dr=kr.exports;ga()(kr,{VCardText:ja["c"]});var _r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-text",{class:{"value-styled-text":!0,strikethrough:e.strikethrough},domProps:{innerHTML:e._s(e.value.html)}})},wr=[],xr=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],xr.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xr.prototype,"strikethrough",void 0),xr=Object(v["a"])([Object(p["a"])({components:{}})],xr);var Rr=xr,Mr=Rr,Ar=(n("86b5"),Object(ha["a"])(Mr,_r,wr,!1,null,"7a81d182",null)),Tr=Ar.exports;ga()(Ar,{VCardText:ja["c"]});var Vr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-text",{staticStyle:{"padding-top":"0px","padding-bottom":"0px","margin-top":"16px"}},[e.IsYoutube?n("div",[n("iframe",{staticStyle:{width:"100%",height:"480px",border:"none"},attrs:{allowfullscreen:"",src:"https://www.youtube.com/embed/"+e.YouTubeVideoID+"?rel=0"}})]):e.value.uri.endsWith(".mp4")||e.value.uri.endsWith(".m4v")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.uri,type:"video/mp4"}})])]):e.value.uri.endsWith(".mov")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.uri,type:"video/quicktime"}})])]):e.value.uri.endsWith(".ogg")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.uri,type:"video/ogg"}})])]):e.value.uri.endsWith(".avi")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.uri,type:"video/avi"}})])]):e.value.uri.endsWith(".mkv")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.uri,type:"video/mkv"}})])]):e.value.uri.endsWith(".webm")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.uri,type:"video/webm"}})])]):e._e()])},Br=[],Lr=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"IsYoutube",get:function(){return-1!==this.value.uri.indexOf("youtube")}},{key:"YouTubeVideoID",get:function(){var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,t=this.value.uri.match(e);return t&&11===t[2].length?t[2]:null}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],Lr.prototype,"value",void 0),Lr=Object(v["a"])([Object(p["a"])({components:{}})],Lr);var Nr=Lr,Er=Nr,Fr=Object(ha["a"])(Er,Vr,Br,!1,null,"1c37bbf2",null),qr=Fr.exports;ga()(Fr,{VCardText:ja["c"]});var Gr=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ProjectNameForId=ze.NameForId,e.PermProjectNotesCanPush=Sn.PermProjectNotesCanPush,e.PermProjectNotesCanDelete=Sn.PermProjectNotesCanDelete,e}return Object(u["a"])(n,[{key:"HasAssignment",get:function(){return!(!this.value||!this.value.json)&&!!this.value.json.assignmentId}},{key:"LastModifiedTime",get:function(){if(!this.value||!this.value.lastModifiedISO8601||y(this.value.lastModifiedISO8601))return null;var e=I["DateTime"].fromISO(this.value.lastModifiedISO8601);return e.toLocaleString(I["DateTime"].DATETIME_FULL)}},{key:"LastModifiedName",get:function(){if(!this.value||!this.value.json||!this.value.json.lastModifiedBillingId||y(this.value.json.lastModifiedBillingId))return null;var e=he.ForId(this.value.json.lastModifiedBillingId);return e?e.fullName:null}},{key:"LastModifiedInitials",get:function(){var e=this.LastModifiedName;if(null==e)return null;var t=e.match(/\b(\w)/g);if(null==t)return null;var n,a="",i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(a.length>=2)break;y(o)||(a+=o.toUpperCase())}}catch(s){i.e(s)}finally{i.f()}return y(a)?null:a}},{key:"OriginalTime",get:function(){if(!this.value||!this.value.json||!this.value.json.originalISO8601||y(this.value.json.originalISO8601))return null;var e=I["DateTime"].fromISO(this.value.json.originalISO8601);return e.toLocaleString(I["DateTime"].DATETIME_FULL)}},{key:"OriginalName",get:function(){if(!this.value||!this.value.json||!this.value.json.originalBillingId||y(this.value.json.originalBillingId))return null;var e=he.ForId(this.value.json.originalBillingId);return e?e.fullName:null}},{key:"OriginalInitials",get:function(){var e=this.OriginalName;if(null==e)return null;var t=e.match(/\b(\w)/g);if(null==t)return null;var n,a="",i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(a.length>=2)break;y(o)||(a+=o.toUpperCase())}}catch(s){i.e(s)}finally{i.f()}return y(a)?null:a}},{key:"InternalOnly",get:function(){return!(!this.value||!this.value.json)&&this.value.json.internalOnly}},{key:"Resolved",get:function(){return!(!this.value||!this.value.json)&&this.value.json.resolved}},{key:"NoLongerRelevant",get:function(){return!(!this.value||!this.value.json)&&this.value.json.noLongerRelevant}},{key:"Tags",get:function(){var e=[];return this.InternalOnly&&e.push("Internal Only"),this.Resolved&&e.push("Resolved"),this.NoLongerRelevant&&e.push("No Longer Relevant"),e}},{key:"TagsCommaSeparated",get:function(){for(var e="",t=this.Tags,n=0;n<t.length;n++)0!==n&&(e+=", "),0!==n&&n===t.length-1&&(e+="and "),e+=t[n];return y(e)?null:e}}]),n}(mr);Object(v["a"])([Object(p["b"])({default:null})],Gr.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:null})],Gr.prototype,"rootProject",void 0),Gr=Object(v["a"])([Object(p["a"])({components:{ContentCheckbox:Cr,ContentImage:Dr,ContentStyledText:Tr,ContentVideo:qr}})],Gr);var $r=Gr,Ur=$r,Hr=(n("8e32"),Object(ha["a"])(Ur,cr,ur,!1,null,"266fcb73",null)),Wr=Hr.exports;ga()(Hr,{VAvatar:Na["a"],VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VChip:Vi["a"],VCol:Sa["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VRow:Da["a"],VTooltip:Ni["a"]});var Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{class:{"note-card":!0,"entry-resolved":e.Resolved,"entry-no-longer-relevant":e.NoLongerRelevant},attrs:{outlined:""}},[n("div",{staticStyle:{flex:"1"}},["styled-text"==e.value.json.contentType?n("ContentStyledText",{attrs:{strikethrough:e.NoLongerRelevant},model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):"checkbox"==e.value.json.contentType?n("ContentCheckbox",{attrs:{note:e.value},model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):"image"==e.value.json.contentType?n("ContentImage",{model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):"video"==e.value.json.contentType?n("ContentVideo",{model:{value:e.value.json.content,callback:function(t){e.$set(e.value.json,"content",t)},expression:"value.json.content"}}):e._e(),e.Tags?n("v-card-text",{staticClass:"internal-notice"},[e._l(e.Tags,(function(t,a){return n("v-chip",{key:a,staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",top:""}},[e._v(" "+e._s(t)+" ")])})),e.HasAssignment?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",top:"",color:"primary",to:"/section/assignments/"+e.value.json.assignmentId+"?tab=General"}},[e._v(" Assignment ")]):e._e(),e.rootProject&&e.rootProject.id!==e.value.json.projectId?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",color:"primary",to:"/section/projects/"+e.value.json.projectId+"?tab=General"},on:{"~click":function(e){e.stopPropagation(),e.preventDefault()}}},a),[e._v(" From a Child Project ")])]}}],null,!1,502124418)},[n("span",[e._v(e._s(e.ProjectNameForId(e.value.id)||"No Name"))])]):e._e()],2):e._e(),n("v-card-text",{staticStyle:{"padding-top":"0px","padding-bottom":"0px","margin-top":"5px","margin-bottom":"5px"}},[n("div",{staticClass:"caption"},[e._v("Posted by "+e._s(e.OriginalName)+" at "+e._s(e.OriginalTime)+".")]),e.LastModifiedName!=e.OriginalName||e.LastModifiedTime!=e.OriginalTime?n("div",{staticClass:"caption"},[e._v(" Edited by "+e._s(e.LastModifiedName)+" at "+e._s(e.LastModifiedTime)+". ")]):e._e()])],1),n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{margin:"10px"},attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[e.Resolved?e._e():n("v-list-item",{attrs:{disabled:e.Resolved||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("Resolved",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("done")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Resolved")])],1)],1),e.Resolved?n("v-list-item",{attrs:{disabled:!e.Resolved||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("NotResolved",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("done")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Not Resolved")])],1)],1):e._e(),e.NoLongerRelevant?e._e():n("v-list-item",{attrs:{disabled:e.NoLongerRelevant||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("NoLongerRelevant",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("cancel")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark No Longer Relevant")])],1)],1),e.NoLongerRelevant?n("v-list-item",{attrs:{disabled:!e.NoLongerRelevant||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("Relevant",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("cancel")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Relevant")])],1)],1):e._e(),e.InternalOnly?e._e():n("v-list-item",{attrs:{disabled:e.InternalOnly||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("MarkInternalOnly",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("business")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Internal Only")])],1)],1),e.InternalOnly?n("v-list-item",{attrs:{disabled:!e.InternalOnly||e.disabled||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.$emit("MarkNotInternalOnly",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("business")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Mark Not Internal Only")])],1)],1):e._e(),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProjectNotesCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete Note")])],1)],1)],1)],1)],1)},zr=[],Jr=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ProjectNameForId=ze.NameForId,e.PermProjectNotesCanPush=Sn.PermProjectNotesCanPush,e.PermProjectNotesCanDelete=Sn.PermProjectNotesCanDelete,e}return Object(u["a"])(n,[{key:"ToggleCheckbox",value:function(){var e=F.a.cloneDeep(this.value);if(e&&e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),e.json.content.checkboxState=!e.json.content.checkboxState;var t={};t[e.id]=e,Sn.UpdateIds(t)}}},{key:"LastModifiedTime",get:function(){if(!this.value||!this.value.lastModifiedISO8601||y(this.value.lastModifiedISO8601))return null;var e=I["DateTime"].fromISO(this.value.lastModifiedISO8601);return e.toLocaleString(I["DateTime"].DATETIME_FULL)}},{key:"LastModifiedName",get:function(){if(!this.value||!this.value.json||!this.value.json.lastModifiedBillingId||y(this.value.json.lastModifiedBillingId))return null;var e=he.ForId(this.value.json.lastModifiedBillingId);return e?e.fullName:null}},{key:"LastModifiedInitials",get:function(){var e=this.LastModifiedName;if(null==e)return null;var t=e.match(/\b(\w)/g);if(null==t)return null;var n,a="",i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(a.length>=2)break;y(o)||(a+=o.toUpperCase())}}catch(s){i.e(s)}finally{i.f()}return y(a)?null:a}},{key:"HasAssignment",get:function(){return!(!this.value||!this.value.json)&&!!this.value.json.assignmentId}},{key:"OriginalTime",get:function(){if(!this.value||!this.value.json||!this.value.json.originalISO8601||y(this.value.json.originalISO8601))return null;var e=I["DateTime"].fromISO(this.value.json.originalISO8601);return e.toLocaleString(I["DateTime"].DATETIME_FULL)}},{key:"OriginalName",get:function(){if(!this.value||!this.value.json||!this.value.json.originalBillingId||y(this.value.json.originalBillingId))return null;var e=he.ForId(this.value.json.originalBillingId);return e?e.fullName:null}},{key:"OriginalInitials",get:function(){var e=this.OriginalName;if(null==e)return null;var t=e.match(/\b(\w)/g);if(null==t)return null;var n,a="",i=Object(G["a"])(t);try{for(i.s();!(n=i.n()).done;){var o=n.value;if(a.length>=2)break;y(o)||(a+=o.toUpperCase())}}catch(s){i.e(s)}finally{i.f()}return y(a)?null:a}},{key:"InternalOnly",get:function(){return!(!this.value||!this.value.json)&&this.value.json.internalOnly}},{key:"Resolved",get:function(){return!(!this.value||!this.value.json)&&this.value.json.resolved}},{key:"NoLongerRelevant",get:function(){return!(!this.value||!this.value.json)&&this.value.json.noLongerRelevant}},{key:"Tags",get:function(){var e=[];return this.InternalOnly&&e.push("Internal Only"),this.Resolved&&e.push("Resolved"),this.NoLongerRelevant&&e.push("No Longer Relevant"),e}},{key:"TagsCommaSeparated",get:function(){for(var e="",t=this.Tags,n=0;n<t.length;n++)0!==n&&(e+=", "),0!==n&&n===t.length-1&&(e+="and "),e+=t[n];return y(e)?null:e}},{key:"IsYoutube",get:function(){var e=this.value.json.content;return-1!==e.uri.indexOf("youtube")}},{key:"YouTubeVideoID",get:function(){var e=this.value.json.content,t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,n=e.uri.match(t);return n&&11===n[2].length?n[2]:null}}]),n}(mr);Object(v["a"])([Object(p["b"])({default:null})],Jr.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:null})],Jr.prototype,"rootProject",void 0),Jr=Object(v["a"])([Object(p["a"])({components:{ContentCheckbox:Cr,ContentImage:Dr,ContentStyledText:Tr,ContentVideo:qr}})],Jr);var Yr=Jr,Qr=Yr,Xr=(n("87b4"),Object(ha["a"])(Qr,Kr,zr,!1,null,"3c4d9ada",null)),Zr=Xr.exports;ga()(Xr,{VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VChip:Vi["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VTooltip:Ni["a"]});var el=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={html:""};return e}},{key:"ValidateObject",value:function(e){return e}}]),e}(),tl=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermProjectNotesCanRequest=Sn.PermProjectNotesCanRequest,e.PermProjectNotesCanPush=Sn.PermProjectNotesCanPush,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e.addNoteText=null,e.addNoteTextInternal=!1,e.errorAddNoteTextEmpty=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(Sn.PermProjectNotesCanRequest()){var n=Sn.RequestProjectNotes.Send({sessionId:ce.CurrentSessionId(),limitToProjectId:e.showOnlyProjectId,showChildrenOfProjectIdAsWell:e.showChildrenOfProjectIdAsWell});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteProjectNoteDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"EntryResolved",value:function(e){var t=Sn.ForId(e);if(t&&t.id&&!y(t.id)){t.json.resolved=!0;var n={};n[t.id]=t,Sn.UpdateIds(n)}else console.error("!note || !note.id || IsNullOrEmpty(note.id)")}},{key:"EntryNotResolved",value:function(e){var t=Sn.ForId(e);if(t&&t.id&&!y(t.id)){t.json.resolved=!1;var n={};n[t.id]=t,Sn.UpdateIds(n)}else console.error("!note || !note.id || IsNullOrEmpty(note.id)")}},{key:"EntryNoLongerRelevant",value:function(e){var t=Sn.ForId(e);if(t&&t.id&&!y(t.id)){t.json.noLongerRelevant=!0;var n={};n[t.id]=t,Sn.UpdateIds(n)}else console.error("!note || !note.id || IsNullOrEmpty(note.id)")}},{key:"EntryRelevant",value:function(e){var t=Sn.ForId(e);if(t&&t.id&&!y(t.id)){t.json.noLongerRelevant=!1;var n={};n[t.id]=t,Sn.UpdateIds(n)}else console.error("!note || !note.id || IsNullOrEmpty(note.id)")}},{key:"EntryInternalOnly",value:function(e){var t=Sn.ForId(e);if(t&&t.id&&!y(t.id)){t.json.internalOnly=!0;var n={};n[t.id]=t,Sn.UpdateIds(n)}else console.error("!note || !note.id || IsNullOrEmpty(note.id)")}},{key:"EntryNotInternalOnly",value:function(e){var t=Sn.ForId(e);if(t&&t.id&&!y(t.id)){t.json.internalOnly=!1;var n={};n[t.id]=t,Sn.UpdateIds(n)}else console.error("!note || !note.id || IsNullOrEmpty(note.id)")}},{key:"GetRawRows",value:function(){return this.$store.state.Database.projectNotes}},{key:"RowFilter",value:function(e,t){var n=this,a=!0;do{if(!e||!e.id||!e.json){a=!1;break}if(this.showOnlyProjectId){var i=function(){var t=[],i=ze.ForId(e.json.projectId),o=ze.ForId(n.showOnlyProjectId);n.showChildrenOfProjectIdAsWell?t=ze.RecursiveChildProjectsOfId(n.showOnlyProjectId):o&&t.push(o);var s=!!F.a.find(t,(function(e){return(null===i||void 0===i?void 0:i.id)===e.id}));if(!s)return a=!1,"break"}();if("break"===i)break}if(this.showOnlyAssignmentId&&e.json.assignmentId!==this.showOnlyAssignmentId){a=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var o,s=!1,r=Object(G["a"])(this.excludeIds);try{for(r.s();!(o=r.n()).done;){var l=o.value;if(null!==l&&e.id===l){s=!0;break}}}catch(m){r.e(m)}finally{r.f()}if(s){a=!1;break}}if(this.showFilter){var c="";if(null!==e.json.lastModifiedBillingId){var u=he.ForId(e.json.lastModifiedBillingId);u&&(c+=u.fullName)}switch(null!==e.lastModifiedISO8601&&(c+=I["DateTime"].fromISO(e.lastModifiedISO8601).toLocaleString(I["DateTime"].DATETIME_FULL)),e.json.contentType){case"styled-text":c+=e.json.content.html;break;case"checkbox":c+=e.json.content.text;break;case"image":c+=e.json.content.uri;break;case"video":c+=e.json.content.uri;break}c=c.replace(/\W/g,""),c=c.toLowerCase();var d=this.filter.toLowerCase();if(d=d.replace(/\W/g,""),-1===c.indexOf(d)){a=!1;break}}}while(0);return a}},{key:"RowSortBy",value:function(e){return e.lastModifiedISO8601||"1"}},{key:"IsReverseSort",value:function(){return this.isReverseSort}},{key:"OnClickAddNote",value:function(){if(console.log("OnClickAddNote"),this.addNoteText&&!y(this.addNoteText)){var e=Sn.GetEmpty();if(e.id&&!y(e.id)){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),e.json.originalBillingId=he.CurrentBillingContactId(),e.json.originalISO8601=e.lastModifiedISO8601,e.json.assignmentId=null,e.json.projectId=this.showOnlyProjectId||null,e.json.contentType="styled-text",e.json.content=el.GetEmpty(),e.json.content.html=escape(this.addNoteText),e.json.internalOnly=this.addNoteTextInternal;var t={};t[e.id]=e,Sn.UpdateIds(t),this.addNoteText=null,this.addNoteTextInternal=!1}else console.error("!newNote.id || IsNullOrEmpty(newNote.id)")}else this.errorAddNoteTextEmpty=!0}}]),n}($i);Object(v["a"])([Object(p["b"])({default:null})],tl.prototype,"showOnlyProjectId",void 0),Object(v["a"])([Object(p["b"])({default:null})],tl.prototype,"showOnlyAssignmentId",void 0),Object(v["a"])([Object(p["b"])({default:"There are no notes to show."})],tl.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],tl.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!0})],tl.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:!0})],tl.prototype,"dense",void 0),Object(v["a"])([Object(p["b"])({default:!1})],tl.prototype,"showChildrenOfProjectIdAsWell",void 0),Object(v["a"])([Object(p["b"])({default:null})],tl.prototype,"rootProject",void 0),Object(v["a"])([Object(p["b"])({default:!1})],tl.prototype,"showAddQuickNote",void 0),tl=Object(v["a"])([Object(p["a"])({components:{ProjectListItem:es,ProjectNoteCard:Wr,ProjectNoteCardSmall:Zr,PermissionsDeniedAlert:Qi}})],tl);var nl=tl,al=nl,il=n("b73d"),ol=n("a844"),sl=Object(ha["a"])(al,rr,lr,!1,null,null,null),rl=sl.exports;ga()(sl,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VIcon:ka["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VSwitch:il["a"],VTextField:wa["a"],VTextarea:ol["a"]});var ll=n("7188"),cl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"notification-bell-button"},[n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-badge",{attrs:{content:e.currentNotificationCount,value:e.currentNotificationCount,color:"red",overlap:"","offset-x":"25","offset-y":"25"}},[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("notifications")])],1)],1)]}}])},[n("v-list",{attrs:{dense:""}},[0!=e.currentNotificationCount?n("v-list-item",[n("v-list-item-content",[n("v-list-item-title",[e._v("Notifications")])],1),n("v-list-item-action",[n("v-btn",{attrs:{text:"",small:"",disabled:0==e.currentNotificationCount},on:{click:function(t){return e.DoClearAll()}}},[e._v(" Clear All ")])],1)],1):e._e(),0==e.currentNotificationCount?n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Notifications")])],1)],1):e._e(),e._l(this.currentNotifications,(function(t,a){return n("v-list-item",{key:a,attrs:{"two-line":""}},[n("v-list-item-icon",{staticStyle:{margin:"0px","margin-top":"20px","margin-right":"10px"}},["error"==t.severity?n("v-icon",{attrs:{color:"#ff5252"}},[e._v("mdi-alert-circle")]):"warning"==t.severity?n("v-icon",{attrs:{color:"#fb8c00"}},[e._v("mdi-alert")]):"info"==t.severity?n("v-icon",{attrs:{color:"#2196f3"}},[e._v("mdi-information")]):"success"==t.severity?n("v-icon",{attrs:{color:"#2196f3"}},[e._v("mdi-check")]):e._e()],1),n("v-list-item-content",["error"==t.severity?n("v-list-item-title",[e._v("Error")]):"warning"==t.severity?n("v-list-item-title",[e._v("Warning")]):"info"==t.severity?n("v-list-item-title",[e._v("Info")]):"success"==t.severity?n("v-list-item-title",[e._v("Success")]):e._e(),n("v-list-item-subtitle",[e._v(e._s(t.message))])],1),n("v-list-item-action",{on:{click:function(t){return e.DoClearIndex(a)}}},[n("v-btn",{attrs:{icon:""}},[n("v-icon",{attrs:{color:"grey lighten-1"}},[e._v("mdi-close")])],1)],1)],1)}))],2)],1)],1)},ul=[],dl=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.menuActive=!1,e._periodicInterval=null,e.currentNotificationCount=0,e.currentNotifications=[],e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.Periodic(),this._periodicInterval=setInterval(this.Periodic,250)}},{key:"destroyed",value:function(){null!=this._periodicInterval&&clearInterval(this._periodicInterval)}},{key:"Periodic",value:function(){this.currentNotificationCount=this.NotificationCount(),this.currentNotifications=this.$store.state.Notifications.notifications}},{key:"NotificationCount",value:function(){return this.$store&&this.$store.state&&this.$store.state.Notifications?this.$store.state.Notifications.notifications.length:0}},{key:"DoClearAll",value:function(){D.ClearAllNotifications()}},{key:"DoClearIndex",value:function(e){D.ClearIndex(e)}}]),n}(p["c"]);dl=Object(v["a"])([Object(p["a"])({props:{}})],dl);var ml=dl,vl=ml,pl=(n("ac5b"),n("4ca6")),fl=Object(ha["a"])(vl,cl,ul,!1,null,null,null),hl=fl.exports;ga()(fl,{VBadge:pl["a"],VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var bl=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.LabourTypeDefaultBillableTypeId=_e.DefaultBillableTypeId,e.ValidateRequiredField=zs,e.AgentLoggedInAgentId=Pe.LoggedInAgentId,e.TimePicker5MinuteStep=Js,e.CSVDownloadAssignments=sr,e.DialoguesOpen=ca.Open,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermAssignmentCanDelete=Ze.PermAssignmentCanDelete,e.PermProjectNotesCanPush=Sn.PermProjectNotesCanPush,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermLabourCanPushSelf=Ue.PermLabourCanPushSelf,e.PermCRMReportAssignmentPDF=Ze.PermCRMReportAssignmentPDF,e.PermCRMExportAssignmentCSV=Ze.PermCRMExportAssignmentCSV,e.errorAssignmentNullSnackbarVisible=!1,e.errorNoBillableLabourTypeVisible=!1,e.errorAddNoteTextEmpty=!1,e.debounceId=null,e.addNoteText=null,e.addNoteTextInternal=!1,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm,this.$refs.labourForm,this.$refs.scheduleForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Labour:1,labour:1,Schedule:2,schedule:2}}},{key:"EndTimeLocal",get:function(){if(!this.value||!this.value.id||!this.value.json)return null;var e=null;if(e=this.isMakingNew?this.value.json.endISO8601:Ze.EndISO8601ForId(this.value.id),!e||y(e))return null;var t=I["DateTime"].fromISO(e);if(!t)return null;var n=t.toLocal();return n?n.toFormat("HH:mm"):null},set:function(e){if(this.value){var t=null;do{if(!e)break;if(!this.value)break;var n=this.value.json.endISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"HH:mm"),s=i.set({hour:o.hour,minute:o.minute}),r=s.toUTC();t=r.toISO()}while(0);var l=F.a.cloneDeep(this.value);l.json.endISO8601=t,this.$emit("input",l)}}},{key:"EndDateLocal",get:function(){if(!this.value||!this.value.id||!this.value.json)return null;var e=null;if(e=this.isMakingNew?this.value.json.endISO8601:Ze.EndISO8601ForId(this.value.id),null==e||y(e))return null;var t=I["DateTime"].fromISO(e);if(!t)return null;var n=t.toLocal();return n?n.toFormat("yyyy-MM-dd"):null},set:function(e){if(this.value){var t=null;do{if(!e)break;if(!this.value)break;var n=this.value.json.endISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"yyyy-MM-dd"),s=i.set({year:o.year,month:o.month,day:o.day}),r=s.toUTC();t=r.toISO()}while(0);var l=F.a.cloneDeep(this.value);l.json.endISO8601=t,this.$emit("input",l)}}},{key:"StartTimeLocal",get:function(){if(!this.value||!this.value.id)return null;var e=null;if(e=this.isMakingNew?this.value.json.startISO8601:Ze.StartISO8601ForId(this.value.id),!e||y(e))return null;var t=I["DateTime"].fromISO(e);if(!t)return null;var n=t.toLocal();return n?n.toFormat("HH:mm"):null},set:function(e){if(console.log("set StartTimeLocal",e),this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.startISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"HH:mm"),s=i.set({hour:o.hour,minute:o.minute}),r=s.toUTC();t=r.toISO()}while(0);var l=F.a.cloneDeep(this.value);l.json.startISO8601=t,this.$emit("input",l)}}},{key:"StartDateLocal",get:function(){if(!this.value||!this.value.id)return null;var e=null;e=this.isMakingNew?this.value.json.startISO8601:Ze.StartISO8601ForId(this.value.id);var t=null;if(t=this.isMakingNew?this.value.json.startTimeMode:Ze.StartTimeModeForId(this.value.id),(!e||y(e))&&"none"!==t){var n=F.a.cloneDeep(this.value);n.json.startISO8601=I["DateTime"].utc().toISO(),this.$emit("input",n)}if(!e||y(e))return null;var a=I["DateTime"].fromISO(e);if(!a)return null;var i=a.toLocal();return i?i.toFormat("yyyy-MM-dd"):null},set:function(e){if(this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.startISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"yyyy-MM-dd"),s=i.set({year:o.year,month:o.month,day:o.day}),r=s.toUTC();t=r.toISO()}while(0);var l=F.a.cloneDeep(this.value);l.json.startISO8601=t,this.$emit("input",l)}}},{key:"EndTimeMode",get:function(){if(!this.value||!this.value.id||!this.value.json)return"none";var e=null;return e=this.isMakingNew?this.value.json.endTimeMode:Ze.EndTimeModeForId(this.value.id),null==e||y(e)?"none":e},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);t.json.endTimeMode=e;var n=this.value.json.endISO8601;if(null!=n&&!y(n)){var a,i,o=I["DateTime"].fromISO(n),s=o.toLocal();switch(e){case"none":a=s.set({hour:0,minute:0,second:0}),i=a.toUTC(),t.json.endISO8601=i.toISO();break;case"time":break}}this.$emit("input",t)}}},{key:"StartTimeMode",get:function(){return this.value&&this.value.id?this.isMakingNew?this.value.json.startTimeMode:Ze.StartTimeModeForId(this.value.id):"none"},set:function(e){if(this.value&&this.value.id){var t=F.a.cloneDeep(this.value);t.json.startTimeMode=e;var n=null;if(n=this.isMakingNew?this.value.json.startISO8601:Ze.StartISO8601ForId(this.value.id),null!=n&&!y(n)){var a,i,o=I["DateTime"].fromISO(n),s=o.toLocal();switch(e){case"none":a=s.set({hour:0,minute:0,second:0}),i=a.toUTC(),t.json.startISO8601=i.toISO();break;case"morning-first-thing":a=s.set({hour:8,minute:0,second:0}),i=a.toUTC(),t.json.startISO8601=i.toISO();break;case"morning-second-thing":a=s.set({hour:10,minute:0,second:0}),i=a.toUTC(),t.json.startISO8601=i.toISO();break;case"afternoon-first-thing":a=s.set({hour:13,minute:0,second:0}),i=a.toUTC(),t.json.startISO8601=i.toISO();break;case"afternoon-second-thing":a=s.set({hour:15,minute:0,second:0}),i=a.toUTC(),t.json.startISO8601=i.toISO();break;case"time":break}}this.$emit("input",t)}}},{key:"HasStartISO8601",get:function(){return!(!this.value||!this.value.id)&&(this.isMakingNew?this.value.json.hasStartISO8601:Ze.HasStartISO8601ForId(this.value.id))},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);if(t.json.hasStartISO8601=e,!e){t.json.startTimeMode="none";var n=I["DateTime"].local();n=n.set({hour:0,minute:0,second:0}),n=n.toUTC(),t.json.startISO8601=n.toISO()}this.$emit("input",t)}}},{key:"HasEndISO8601",get:function(){return!(!this.value||!this.value.id)&&(this.isMakingNew?this.value.json.hasEndISO8601:Ze.HasEndISO8601ForId(this.value.id))},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);t.json.hasEndISO8601=e,this.$emit("input",t)}}},{key:"ProjectId",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.projectId;return!t||y(t)?null:t},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);t.json.projectId=e,this.$emit("input",t)}}},{key:"AgentIds",get:function(){if(!this.value)return[null];var e=this.value.json;if(!e)return[null];var t=e.agentIds;return t&&0!==e.agentIds.length?t:[null]},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);t.json.agentIds=e,this.$emit("input",t)}}},{key:"StatusId",get:function(){if(!this.value||!this.value.json||!this.value.json.statusId){var e=this.$store.state.Database.assignmentStatus,t=F.a.find(e,(function(e){return e.json.isToBeScheduled}));return t?(this.StatusId=t.id||null,t.id||null):null}return this.value.json.statusId},set:function(e){if(this.value&&this.value.json){var t=F.a.cloneDeep(this.value);t.json.statusId=e,this.$emit("input",t)}}},{key:"StatusItems",get:function(){var e=F.a.filter(this.$store.state.Database.assignmentStatus,(function(e){return!0})),t=F.a.sortBy(e,(function(e){return e.json.name}));return t}},{key:"WorkRequested",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.workRequested;return!t||y(t)?null:t},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);t.json.workRequested=e,this.$emit("input",t)}}},{key:"NotesOnMainProjectThatAreNotThisAssignment",get:function(){if(!this.value||!this.value.json||!this.value.json.projectId||y(this.value.json.projectId))return 0;var e,t=0,n=Sn.ForProjectIds([this.value.json.projectId]),a=Object(G["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.json.assignmentId!==this.value.id&&t++}}catch(o){a.e(o)}finally{a.f()}return t}},{key:"StartTravel",value:function(){this.value&&this.value.id?Ze.StartTravelForId(this.value.id):this.errorAssignmentNullSnackbarVisible=!0}},{key:"StartOnSite",value:function(){this.value&&this.value.id?Ze.StartOnSiteForId(this.value.id):this.errorAssignmentNullSnackbarVisible=!0}},{key:"StartRemote",value:function(){this.value&&this.value.id?Ze.StartRemoteForId(this.value.id):this.errorAssignmentNullSnackbarVisible=!0}},{key:"OnClickAddNote",value:function(){if(console.log("OnClickAddNote"),this.addNoteText&&!y(this.addNoteText)){var e=Sn.GetEmpty();if(e.id){var t,n;e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),e.json.originalBillingId=he.CurrentBillingContactId(),e.json.originalISO8601=e.lastModifiedISO8601,e.json.assignmentId=(null===(t=this.value)||void 0===t?void 0:t.id)||null,e.json.projectId=(null===(n=this.value)||void 0===n?void 0:n.json.projectId)||null,e.json.contentType="styled-text",e.json.content=el.GetEmpty(),e.json.content.html=Object(ll["a"])(this.addNoteText),e.json.internalOnly=this.addNoteTextInternal;var a={};a[e.id]=e,Sn.UpdateIds(a),this.addNoteText=null,this.addNoteTextInternal=!1}}else this.errorAddNoteTextEmpty=!0}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"ForceAssignmentsToUseProjectSchedule",get:function(){var e=this.ProjectId;if(!e)return!1;var t=ze.ForId(e);return t&&t.json.forceAssignmentsToUseProjectSchedule||!1}},{key:"DoPrint",value:function(){var e;ca.Open({name:"AssignmentReportDialogue",state:{allLoadedAssignments:!1,specificAssignments:[null===(e=this.value)||void 0===e?void 0:e.id]}})}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],bl.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],bl.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],bl.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],bl.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],bl.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],bl.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],bl.prototype,"isMakingNew",void 0),bl=Object(v["a"])([Object(p["a"])({components:{LabourList:Ro,AssignmentsList:io,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,AddMenuButton:No,AgentSelectField:Ks,AgentSelectFieldArrayAdapter:or,NoteList:rl,ReloadButton:ms,NotificationBellButton:hl}})],bl);var gl=bl,yl=gl,Cl=n("40dc"),jl=n("5bc1"),Sl=n("2bc5"),Il=n("553a"),Pl=n("8e36"),Ol=n("67b6"),kl=n("43a6"),Dl=n("b974"),_l=n("71a3"),wl=n("c671"),xl=n("fe57"),Rl=n("aac8"),Ml=n("9a96"),Al=n("c964"),Tl=Object(ha["a"])(yl,fs,hs,!1,null,"2ffb97d4",null),Vl=Tl.exports;ga()(Tl,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDatePicker:Do["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VRow:Da["a"],VSelect:Dl["a"],VSnackbar:Li["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VTextarea:ol["a"],VTimePicker:Al["a"],VToolbarTitle:wo["a"]});var Bl=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){this.SwitchToTabFromRoute()}},{key:"SwitchToTabFromRoute",value:function(){}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],Bl.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Bl.prototype,"isOpen",void 0),Object(v["a"])([Object(p["b"])({default:"Unnamed Dialogue"})],Bl.prototype,"dialogueName",void 0),Bl=Object(v["a"])([Object(p["a"])({components:{}})],Bl);var Ll=Bl,Nl=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("Cancel",null),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){this.$refs.editor.IsValidated()?(this.$emit("Save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],Nl.prototype,"value",void 0),Nl=Object(v["a"])([Object(p["a"])({components:{AssignmentEditor:Vl}})],Nl);var El=Nl,Fl=El,ql=Object(ha["a"])(Fl,vs,ps,!1,null,null,null),Gl=ql.exports;ga()(ql,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var $l=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.CSVDownloadAgent=Fo,e.EmploymentStatusAll=sn.All,e.TelephoneFieldMask=qo,e.ValidateGreaterThan2Characters=Go,e.ValidateNameRequired=$o,e.OptionalPhoneNumber=Uo,e.OptionalButMustBeMoreThan4Characters=Ho,e.DialoguesOpen=ca.Open,e.PermLabourCanPushSelf=Ue.PermLabourCanPushSelf,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermAgentsCanDelete=Pe.PermAgentsCanDelete,e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.PermCRMExportAgentsCSV=Pe.PermCRMExportAgentsCSV,e.PermCRMReportLabourPDF=Ue.PermCRMReportLabourPDF,e.debounceId=null,e.loadingData=!1,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.adminForm]}},{key:"GetTabNameToIndexMap",value:function(){return{Agenda:0,agenda:0,Projects:1,projects:1,Labour:2,labour:2,Admin:3,admin:3}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"Title",get:function(){return this.value&&this.value.json&&this.value.json.title?this.value.json.title:null},set:function(e){this.value&&this.value.json&&(this.value.json.title=y(e)?null:e,this.SignalChanged())}},{key:"NotificationSMSNumber",get:function(){return this.value&&this.value.json&&this.value.json.notificationSMSNumber?this.value.json.notificationSMSNumber:null},set:function(e){this.value&&this.value.json&&(this.value.json.notificationSMSNumber=y(e)?null:e,this.SignalChanged())}},{key:"HourlyWage",get:function(){return this.value&&this.value.json&&this.value.json.hourlyWage?this.value.json.hourlyWage:null},set:function(e){this.value&&this.value.json&&(this.value.json.hourlyWage=null==e?null:Number(e),this.SignalChanged())}},{key:"PhoneId",get:function(){return this.value&&this.value.json&&this.value.json.phoneId?this.value.json.phoneId:null},set:function(e){if(this.value&&this.value.json){var t=e;null!=t&&(t=t.replace(/\D/g,"")),this.value.json.phoneId=t,this.SignalChanged()}}},{key:"PhonePasscode",get:function(){return this.value&&this.value.json&&this.value.json.phonePasscode?this.value.json.phonePasscode:null},set:function(e){if(this.value&&this.value.json){var t=e;null!=t&&(t=t.replace(/\D/g,"")),this.value.json.phonePasscode=t,this.SignalChanged()}}},{key:"EmploymentStatusId",get:function(){return this.value&&this.value.json&&this.value.json.employmentStatusId?this.value.json.employmentStatusId:null},set:function(e){this.value&&this.value.json&&(this.value.json.employmentStatusId=y(e)?null:e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"DoPrint",value:function(){var e,t=I["DateTime"].local().minus({years:50}).toFormat("yyyy-LL-dd"),n=I["DateTime"].local().plus({years:50}).toFormat("yyyy-LL-dd");ca.Open({name:"LabourReportDialogue",state:{allLoadedLabour:!0,specificLabour:[null],filterByAgentId:null===(e=this.value)||void 0===e?void 0:e.id,filterDateStart:this.$refs.labourList?this.$refs.labourList.FilterDateStart:t,filterDateEnd:this.$refs.labourList?this.$refs.labourList.FilterDateEnd:n}})}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentModel.json.agentIds=[this.$route.params.id],this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],$l.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$l.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$l.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$l.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],$l.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],$l.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$l.prototype,"isMakingNew",void 0),$l=Object(v["a"])([Object(p["a"])({components:{ReloadButton:ms,LabourList:Ro,AssignmentsList:io,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,AddMenuButton:No,ProjectList:os,AddAssignmentDialogue2:Gl,NotificationBellButton:hl}})],$l);var Ul=$l,Hl=Ul,Wl=Object(ha["a"])(Hl,Qa,Xa,!1,null,"1ebbfe42",null),Kl=Wl.exports;ga()(Wl,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSelect:Dl["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var zl=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("Cancel",null),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){this.$refs.editor.IsValidated()?(this.$emit("Save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],zl.prototype,"value",void 0),zl=Object(v["a"])([Object(p["a"])({components:{AgentEditor:Kl}})],zl);var Jl=zl,Yl=Jl,Ql=Object(ha["a"])(Yl,Ja,Ya,!1,null,null,null),Xl=Ql.exports;ga()(Ql,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Zl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Calendar")]),n("v-divider"),n("v-card-text",[n("CalendarEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},ec=[],tc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Calendar: "+e._s(e.Name))]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Calendar Tutorial Pages")])],1)],1),n("v-list-item",{on:{click:function(t){return e.OpenGoogleTutorial()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("How to Get the Web Link from Google Calendar")])],1)],1),n("v-list-item",{on:{click:function(t){return e.OpenMicrosoft365Tutorial()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("How to Get the Web Link from Microsoft 365")])],1)],1),n("v-list-item",{on:{click:function(t){return e.OpenAppleICloudCalendarTutorial()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("How to Get the Web Link from Apple iCloud Calendar")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-calendar-editor-name",attrs:{autocomplete:"newpassword",label:"Name",id:"Name",hint:"The name of this calendar.","persistent-hint":"",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermCalendarsCanPush()},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-calendar-editor-name",attrs:{autocomplete:"newpassword",label:'Web link to the calendar\'s "ical/ics" file.',id:"ICalFileURI",hint:"The name of this calendar.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermCalendarsCanPush()},model:{value:e.ICalFileURI,callback:function(t){e.ICalFileURI=t},expression:"ICalFileURI"}}),n("v-alert",{attrs:{border:"left","colored-border":"",type:"info",elevation:"2"}},[e._v(" Click on the below for instructions on how to get the web link from some popular calendar services. "),n("ul",[n("li",[n("a",{attrs:{href:"https://www.dispatchpulse.com/Support/Calendar/HowToAddAGoogleCalendarToOnCallResponder",target:"_blank"}},[e._v("Google Calendar")])]),n("li",[n("a",{attrs:{href:"https://www.dispatchpulse.com/Support/Calendar/HowToAddAOffice365CalendarToOnCallResponder",target:"_blank"}},[e._v("Microsoft Office 365")])]),n("li",[n("a",{attrs:{href:"https://www.dispatchpulse.com/Support/Calendar/HowToAddAAppleICloudCalendarToOnCallResponder",target:"_blank"}},[e._v("Apple iCloud Calendar")])])])])],1)],1),e.isMakingNew?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Status")])])],1),e.isMakingNew?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("p",[e._v(" This calendar was last retrieved at "),n("CalendarLastRetrievedChip",{attrs:{calendar:e.value}}),e._v(" . ")],1),n("p",[n("SyncCalendarButton",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCalendarsCanPush(),calendar:e.value},on:{"reload-status":e.OnReloadStatus}})],1)])],1),e.isMakingNew?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Events at a Glance")])])],1),e.isMakingNew?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.SetCalendarFocusToToday}},[e._v(" Today ")]),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[n("v-icon",[e._v("mdi-chevron-left")])],1),n("v-spacer"),n("v-toolbar-title",[e._v(" "+e._s(e.CalendarTitle)+" ")]),n("v-spacer"),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[n("v-icon",[e._v("mdi-chevron-right")])],1)],1),n("v-sheet",{attrs:{tile:"",height:"600",width:"100%"}},[n("v-calendar",{ref:"calendar",attrs:{type:"week","event-overlap-mode":"stack","event-overlap-threshold":30,weekdays:[0,1,2,3,4,5,6],events:e.events,"event-color":e.GetEventColor},on:{change:e.LoadData},model:{value:e.calendarFocus,callback:function(t){e.calendarFocus=t},expression:"calendarFocus"}})],1)],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this calendar."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Calendar Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The calendar no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the calendar while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),n("DeleteCalendarDialogue",{ref:"deleteCalendarDialogue",attrs:{isOpen:e.deleteCalendarOpen},on:{Delete:e.SaveDeleteCalendar,Cancel:e.CancelDeleteCalendar},model:{value:e.deleteCalendarModel,callback:function(t){e.deleteCalendarModel=t},expression:"deleteCalendarModel"}}),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermCalendarsCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.OpenDeleteCalendar()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},nc=[],ac=(n("a4d3"),n("e01a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermContactsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-contact-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("ContactListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)}),ic=[],oc=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermContactsCanRequest=un.PermContactsCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(un.PermContactsCanRequest()){var n=un.RequestContacts.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.contacts}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(null!==this.showOnlyCompanyId&&e.json.companyId!==this.showOnlyCompanyId){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(y){o.e(y)}finally{o.f()}if(i){n=!1;break}}if(this.showFilter){var r="";r+=e.json.name,r+=e.json.title;var l=tn.NameForId(e.json.companyId);l&&(r+=l),r+=e.json.notes;var c,u=Object(G["a"])(e.json.phoneNumbers);try{for(u.s();!(c=u.n()).done;){var d=c.value;r+=d.value}}catch(y){u.e(y)}finally{u.f()}var m,v=Object(G["a"])(e.json.emails);try{for(v.s();!(m=v.n()).done;){var p=m.value;r+=p.value}}catch(y){v.e(y)}finally{v.f()}var f,h=Object(G["a"])(e.json.addresses);try{for(h.s();!(f=h.n()).done;){var b=f.value;r+=b.value}}catch(y){h.e(y)}finally{h.f()}r=r.replace(/\W/g,""),r=r.toLowerCase();var g=this.filter.toLowerCase();if(g=g.replace(/\W/g,""),-1===r.indexOf(g)){n=!1;break}}}while(0);return n}},{key:"RowSortBy",value:function(e){return(e.json.name||"1").toLowerCase()}},{key:"GetEntryRouteForId",value:function(e){return"/section/contacts/".concat(e,"?tab=General")}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteContactDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:null})],oc.prototype,"showOnlyCompanyId",void 0),Object(v["a"])([Object(p["b"])({default:"There are no people to show."})],oc.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],oc.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],oc.prototype,"isReverseSort",void 0),oc=Object(v["a"])([Object(p["a"])({components:{ContactListItem:Bs,PermissionsDeniedAlert:Qi}})],oc);var sc=oc,rc=sc,lc=Object(ha["a"])(rc,ac,ic,!1,null,null,null),cc=lc.exports;ga()(lc,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var uc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"ma-2",staticStyle:{color:"white"},attrs:{loading:e.loading,disabled:e.disabled||e.loading,color:"green"},on:{click:e.OnClick}},[e._v(" Sync "+e._s(e.calendar.json.name)+" ")])},dc=[],mc=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loading=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"OnClick",value:function(){var e=this;if(this.calendar)if(this.calendar.id){console.log("OnClick");var t=he.ForCurrentSession();if(t){this.loading=!0;var n=Wn.PerformRetrieveCalendar.Send({calendarId:this.calendar.id,sessionId:ce.CurrentSessionId()});null!==n.completeRequestPromise&&(n.completeRequestPromise.then((function(e){!0!==e.complete&&D.AddNotification({severity:"error",message:"There was an error retrieving this calendar..",autoClearInSeconds:10}),console.debug("IPerformRetrieveCalendarCB",e)})),n.completeRequestPromise.finally((function(){e.loading=!1,e.$emit("reload-status")})))}else console.error("!contact")}else console.error("!this.calendar.id");else console.error("!this.calendar")}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],mc.prototype,"calendar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],mc.prototype,"disabled",void 0),mc=Object(v["a"])([Object(p["a"])({components:{}})],mc);var vc=mc,pc=vc,fc=Object(ha["a"])(pc,uc,dc,!1,null,null,null),hc=fc.exports;ga()(fc,{VBtn:ya["a"]});var bc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-chip",{staticStyle:{margin:"4px"},attrs:{label:"",outlined:"",small:""}},[e._v(" "+e._s(e.RetrievedDate)+" ")])},gc=[],yc=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"RetrievedDate",get:function(){if(!this.calendar||!this.calendar.json||!this.calendar.json.iCalFileLastRetrievedISO8601||y(this.calendar.json.iCalFileLastRetrievedISO8601))return"Never";var e=I["DateTime"].fromISO(this.calendar.json.iCalFileLastRetrievedISO8601);return e.toLocaleString(I["DateTime"].DATETIME_FULL)}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],yc.prototype,"calendar",void 0),yc=Object(v["a"])([Object(p["a"])({components:{}})],yc);var Cc=yc,jc=Cc,Sc=Object(ha["a"])(jc,bc,gc,!1,null,null,null),Ic=Sc.exports;ga()(Sc,{VChip:Vi["a"]});var Pc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Calendar")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.value?n("span",[e._v(e._s(e.value.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Delete()}}},[e._v("Delete")])],1)],1)],1)},Oc=[],kc=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$emit("Cancel",null)}},{key:"Delete",value:function(){this.$emit("Delete",this.value)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],kc.prototype,"value",void 0),kc=Object(v["a"])([Object(p["a"])({components:{}})],kc);var Dc=kc,_c=Dc,wc=Object(ha["a"])(_c,Pc,Oc,!1,null,null,null),xc=wc.exports;ga()(wc,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Rc=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.PermCalendarsCanDelete=Wn.PermCalendarsCanDelete,e.PermCalendarsCanPush=Wn.PermCalendarsCanPush,e.deleteCalendarModel=null,e.deleteCalendarOpen=!1,e.calendarFocus="",e.events=[],e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0}}},{key:"OnReloadStatus",value:function(){this.LoadData()}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"ICalFileURI",get:function(){return this.value&&this.value.json&&this.value.json.iCalFileURI?this.value.json.iCalFileURI:null},set:function(e){this.value&&this.value.json&&(e&&!y(e)&&(e=e.replace(/^webcal:\/\//,"https://")),this.value.json.iCalFileURI=y(e)?null:e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"MountedAfter",value:function(){console.log("MountedAfter",this.value),this.LoadData();var e=I["DateTime"].local();this.calendarFocus=e.toFormat("yyyy-LL-dd")}},{key:"valueChanged",value:function(e,t){console.log("valueChanged",e),this.LoadData()}},{key:"LoadData",value:function(){if(this.value&&this.value.id){var e=[];do{if(!this.value||!this.value.json||!this.value.json.occurancesRoughlyAroundThisMonth)break;var t,n=Object(G["a"])(this.value.json.occurancesRoughlyAroundThisMonth);try{for(n.s();!(t=n.n()).done;){var a=t.value,i=I["DateTime"].fromISO(a.startISO8601),o=i.toLocal(),s=I["DateTime"].fromISO(a.endISO8601),r=s.toLocal();0===r.hour&&0===r.minute&&0===r.second&&(r=r.minus({seconds:1})),e.push({name:"".concat(a.description,"\n").concat(a.phoneNumber),start:o.toJSDate(),end:r.toJSDate(),color:"blue",timed:!0})}}catch(l){n.e(l)}finally{n.f()}}while(0);this.events=e}}},{key:"GetEventColor",value:function(e){return e.color}},{key:"SetCalendarFocusToToday",value:function(){var e=I["DateTime"].local();this.calendarFocus=e.toFormat("yyyy-LL-dd")}},{key:"CalendarTitle",get:function(){var e=I["DateTime"].fromFormat(this.calendarFocus,"yyyy-LL-dd");return e.toFormat("MMMM, yyyy")}},{key:"OpenDeleteCalendar",value:function(){var e=this;this.deleteCalendarModel=this.value,this.deleteCalendarOpen=!0,requestAnimationFrame((function(){e.$refs.deleteCalendarDialogue&&e.$refs.deleteCalendarDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteCalendar",value:function(){this.deleteCalendarOpen=!1}},{key:"SaveDeleteCalendar",value:function(){if(this.deleteCalendarModel&&this.deleteCalendarModel.id&&!y(this.deleteCalendarModel.id)){var e=[this.deleteCalendarModel.id];Wn.DeleteIds(e),this.deleteCalendarOpen=!1,this.$router.push("/section/calendars/index").catch((function(e){}))}else console.error("!this.deleteCalendarModel || !this.deleteCalendarModel.id || IsNullOrEmpty(this.deleteCalendarModel.id)")}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}},{key:"OpenGoogleTutorial",value:function(){window.open("https://www.dispatchpulse.com/Support/Calendar/HowToAddAGoogleCalendarToOnCallResponder","_blank")}},{key:"OpenMicrosoft365Tutorial",value:function(){window.open("https://www.dispatchpulse.com/Support/Calendar/HowToAddAOffice365CalendarToOnCallResponder","_blank")}},{key:"OpenAppleICloudCalendarTutorial",value:function(){window.open("https://www.dispatchpulse.com/Support/Calendar/HowToAddAAppleICloudCalendarToOnCallResponder","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],Rc.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Rc.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Rc.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Rc.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],Rc.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],Rc.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Rc.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["d"])("value")],Rc.prototype,"valueChanged",null),Rc=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,SyncCalendarButton:hc,CalendarLastRetrievedChip:Ic,DeleteCalendarDialogue:xc}})],Rc);var Mc=Rc,Ac=Mc,Tc=n("a4f6"),Vc=n("8dd9"),Bc=Object(ha["a"])(Ac,tc,nc,!1,null,"56eb6ca4",null),Lc=Bc.exports;ga()(Bc,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCalendar:Tc["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSheet:Vc["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbar:_o["a"],VToolbarTitle:wo["a"]});var Nc=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("Cancel",null),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){this.$refs.editor.IsValidated()?(this.$emit("Save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],Nc.prototype,"value",void 0),Nc=Object(v["a"])([Object(p["a"])({components:{CalendarEditor:Lc}})],Nc);var Ec=Nc,Fc=Ec,qc=Object(ha["a"])(Fc,Zl,ec,!1,null,null,null),Gc=qc.exports;ga()(qc,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var $c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Phone Number")]),n("v-divider"),n("v-card-text",[n("DIDEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},Uc=[],Hc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Phone Number: "+e._s(e.DIDNumber))]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("DID Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-calendar-editor-name",attrs:{autocomplete:"newpassword",label:"Number",id:"Number",hint:"The phone number, this cannot be changed after it is added.","persistent-hint":"",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermDIDsCanPush(),readonly:0==e.isMakingNew||!e.PermDIDsCanPush()},model:{value:e.DIDNumber,callback:function(t){e.DIDNumber=t},expression:"DIDNumber"}}),e.isMakingNew?n("v-alert",{staticStyle:{"margin-top":"10px"},attrs:{border:"left","colored-border":"",type:"info",elevation:"2"}},[n("div",[e._v("This is the number that as it appears to the system when a call comes in, or shows up on caller id.")]),n("div",[e._v("If you're unsure what to put here, enter a number formatted like 12045554444 and you should be good. Don't put letters, spaces, or any punctuation.")])]):e._e()],1)],1),e.isMakingNew?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Registration Status")])])],1),e.isMakingNew?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("p",[e._v("This number is currently "),n("DIDRegisteredChip",{ref:"regStatusChip",attrs:{DIDNumber:e.value}}),e._v(" on the phone system.")],1),n("p",[n("RegisterDIDButton",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermDIDsCanPush(),DIDNumber:e.value,didRegisterPasscode:e.didRegisterPasscode},on:{"reload-status":e.OnReloadStatus}}),n("DeRegisterDIDButton",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermDIDsCanPush(),DIDNumber:e.value},on:{"reload-status":e.OnReloadStatus}})],1),n("p",[n("v-text-field",{attrs:{label:"Phone Number Register Passcode",type:"password",hint:"To get this register passcode, call +1 (204) 817-3921 and press 1, the system will read out a passcode for you. This confirms that you control this number. Once registered, it cannot be used by anyone else until this number is deregistered.","persistent-hint":""},model:{value:e.didRegisterPasscode,callback:function(t){e.didRegisterPasscode=t},expression:"didRegisterPasscode"}})],1)])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Inbound Assignment")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("p",[e._v("What should happen when someone calls this number and it reaches our system?")]),n("v-radio-group",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermDIDsCanPush()},model:{value:e.AssignToType,callback:function(t){e.AssignToType=t},expression:"AssignToType"}},[n("v-radio",{key:"Hangup",attrs:{label:"Hangup",value:"Hangup"}}),n("v-radio",{key:"OnCallAutoAttendant",attrs:{label:"On-Call Responder",value:"OnCallAutoAttendant"}})],1)],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("On-Call Responder")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("p",[e._v("If a number with this caller id calls one of our on-call responder access numbers, which responder should handle the call?")]),n("OnCallAutoAttendantSelectField",{attrs:{readonly:"Connected"!=e.connectionStatus||!e.PermDIDsCanPush()},model:{value:e.AssignToID,callback:function(t){e.AssignToID=t},expression:"AssignToID"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this did."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("DID Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The calendar no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the calendar while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),n("DeleteDIDDialogue",{ref:"deleteDIDDialogue",attrs:{isOpen:e.deleteDIDOpen},on:{Delete:e.SaveDeleteDID,Cancel:e.CancelDeleteDID},model:{value:e.deleteDIDModel,callback:function(t){e.deleteDIDModel=t},expression:"deleteDIDModel"}}),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermDIDsCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.OpenDeleteDID()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},Wc=[],Kc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return null==e.didRegInfo?n("v-skeleton-loader",{staticStyle:{display:"inline-block"},attrs:{type:"chip"}}):n("v-chip",{staticStyle:{margin:"4px"},attrs:{color:e.chipColor,label:"",outlined:"",small:""}},[e._v(" "+e._s(e.chipText)+" ")])},zc=[],Jc=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.didRegInfo=null,e.chipColor="orange",e.chipText="",e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;if(this.didRegInfo=null,this.chipColor="orange",this.chipText="",null!=this.DIDNumber){var t=he.ForCurrentSession();if(t){var n=Ln.PerformCheckDIDPBXRegistered.Send({billingCompanyId:t.companyId,did:this.DIDNumber.json.DIDNumber,sessionId:ce.CurrentSessionId()});null!==n.completeRequestPromise&&n.completeRequestPromise.then((function(t){!1===t.isRegistered?(e.chipColor="orange",e.chipText="Not Registered"):t.isRegisteredToDifferentCompany?(e.chipColor="red",e.chipText="Registered to a Different Company"):t.isRegisteredToUnknownCompany?(e.chipColor="red",e.chipText="Registered to an Unknown Company"):(e.chipColor="green",e.chipText="Registered"),p["c"].set(e,"didRegInfo",t)}))}else console.error("!contact")}}},{key:"mounted",value:function(){this.LoadData()}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],Jc.prototype,"DIDNumber",void 0),Jc=Object(v["a"])([Object(p["a"])({components:{}})],Jc);var Yc=Jc,Qc=Yc,Xc=n("3129"),Zc=Object(ha["a"])(Qc,Kc,zc,!1,null,null,null),eu=Zc.exports;ga()(Zc,{VChip:Vi["a"],VSkeletonLoader:Xc["a"]});var tu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"ma-2",attrs:{loading:e.loading,disabled:e.disabled||e.loading},on:{click:e.OnClick}},[e._v(" De-register "+e._s(e.DIDNumber.json.DIDNumber)+" ")])},nu=[],au=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loading=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"OnClick",value:function(){var e=this;if(this.DIDNumber){console.log("OnClick");var t=he.ForCurrentSession();if(t){this.loading=!0;var n=Ln.PerformPBXDeRegisterDID.Send({billingCompanyId:t.companyId,did:this.DIDNumber.json.DIDNumber,sessionId:ce.CurrentSessionId()});null!==n.completeRequestPromise&&(n.completeRequestPromise.then((function(e){!0!==e.complete&&D.AddNotification({severity:"error",message:"There was an error de-registering this number.",autoClearInSeconds:10}),console.debug("IPerformPBXDeRegisterDIDCB",e)})),n.completeRequestPromise.finally((function(){e.loading=!1,e.$emit("reload-status")})))}else console.error("!contact")}else console.error("!this.DIDNumber")}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],au.prototype,"DIDNumber",void 0),Object(v["a"])([Object(p["b"])({default:!1})],au.prototype,"disabled",void 0),au=Object(v["a"])([Object(p["a"])({components:{}})],au);var iu=au,ou=iu,su=Object(ha["a"])(ou,tu,nu,!1,null,null,null),ru=su.exports;ga()(su,{VBtn:ya["a"]});var lu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",{staticClass:"ma-2",staticStyle:{color:"white"},attrs:{loading:e.loading,disabled:e.disabled||e.loading,color:"green"},on:{click:e.OnClick}},[e._v(" Register "+e._s(e.DIDNumber.json.DIDNumber)+" ")])},cu=[],uu=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loading=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"OnClick",value:function(){var e=this;if(this.DIDNumber){console.log("OnClick");var t=he.ForCurrentSession();if(t){this.loading=!0;var n=Ln.PerformPBXRegisterDID.Send({billingCompanyId:t.companyId,did:this.DIDNumber.json.DIDNumber,didPassword:this.didRegisterPasscode,sessionId:ce.CurrentSessionId()});null!==n.completeRequestPromise&&(n.completeRequestPromise.then((function(e){!0!==e.complete&&D.AddNotification({severity:"error",message:"There was an error de-registering this number.",autoClearInSeconds:10}),console.debug("IPerformPBXRegisterDIDCB",e)})),n.completeRequestPromise.finally((function(){e.loading=!1,e.$emit("reload-status")})))}else console.error("!contact")}else console.error("!this.DIDNumber")}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],uu.prototype,"DIDNumber",void 0),Object(v["a"])([Object(p["b"])({default:!1})],uu.prototype,"disabled",void 0),Object(v["a"])([Object(p["b"])({default:""})],uu.prototype,"didRegisterPasscode",void 0),uu=Object(v["a"])([Object(p["a"])({components:{}})],uu);var du=uu,mu=du,vu=Object(ha["a"])(mu,lu,cu,!1,null,null,null),pu=vu.exports;ga()(vu,{VBtn:ya["a"]});var fu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerdiv",staticStyle:{"border-bottom":""}},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select a On-Call Responder")]),n("v-divider"),n("v-card-text",[n("OnCallAutoAttendantsList",{ref:"list",attrs:{openEntryOnClick:!1,showMenuButton:!1},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New On-Call Responder")]),n("v-divider"),n("v-card-text",[n("OnCallAutoAttendantEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenOnCallAutoAttendant()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewOnCallAutoAttendant()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.OnCallAutoAttendant&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.OnCallAutoAttendantForId(e.value)?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewOnCallAutoAttendant()}}},[e._v(" "+e._s(e.OnCallAutoAttendantNameForId(e.value)||"Empty on-call auto attendant name.")+" ")]):n("div",{staticStyle:{flex:"1","text-align":"center"},attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewOnCallAutoAttendant()}}},[n("v-btn",{attrs:{color:"primary",text:""}},[e._v("Select or Add On-Call Responder")])],1),e.OnCallAutoAttendantForId(e.value)&&!e.isDialogue?n("div",{staticClass:"d-none d-sm-flex"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{to:"/section/on-call/"+e.value+"?tab=General",color:"primary",label:"",outlined:""}},a),[e._v(" Open "),n("v-icon",{attrs:{right:"",small:""}},[e._v("open_in_new")])],1)]}}],null,!1,2639872586)},[n("span",[e._v("Open this contact.")])])],1):e._e()])])],1)},hu=[],bu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermOnCallAutoAttendantsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-on-call-auto-attendants-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("OnCallAutoAttendantsListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,"delete-entry":e.OpenDeleteOnCallAutoAttendant},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" There are no On-Call Responders to show. ")])],1)],1):n("PermissionsDeniedAlert"),n("DeleteOnCallAutoAttendantDialogue2",{ref:"deleteOnCallAutoAttendantDialogue",attrs:{isOpen:e.deleteOnCallAutoAttendantOpen},on:{Delete:e.SaveDeleteOnCallAutoAttendant,Cancel:e.CancelDeleteOnCallAutoAttendant},model:{value:e.deleteOnCallAutoAttendantModel,callback:function(t){e.deleteOnCallAutoAttendantModel=t},expression:"deleteOnCallAutoAttendantModel"}})],1)},gu=[],yu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-on-call-auto-attendants-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("mdi-menu-open")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.name))])],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermOnCallAutoAttendantsCanDelete()},on:{click:function(t){return e.$emit("delete-entry",e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},Cu=[],ju=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermOnCallAutoAttendantsCanDelete=qn.PermOnCallAutoAttendantsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],ju.prototype,"value",void 0),ju=Object(v["a"])([Object(p["a"])({})],ju);var Su=ju,Iu=Su,Pu=Object(ha["a"])(Iu,yu,Cu,!1,null,null,null),Ou=Pu.exports;ga()(Pu,{VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var ku=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete On Call Responder")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.value?n("span",[e._v(e._s(e.value.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Delete()}}},[e._v("Delete")])],1)],1)],1)},Du=[],_u=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$emit("Cancel",null)}},{key:"Delete",value:function(){this.$emit("Delete",this.value)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],_u.prototype,"value",void 0),_u=Object(v["a"])([Object(p["a"])({components:{}})],_u);var wu=_u;p["c"].component("DeleteOnCallAutoAttendantDialogue2",_u);var xu=wu,Ru=Object(ha["a"])(xu,ku,Du,!1,null,null,null),Mu=Ru.exports;ga()(Ru,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Au=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermOnCallAutoAttendantsCanRequest=qn.PermOnCallAutoAttendantsCanRequest,e.deleteOnCallAutoAttendantModel=null,e.deleteOnCallAutoAttendantOpen=!1,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(qn.PermOnCallAutoAttendantsCanRequest()){var n=qn.RequestOnCallAutoAttendants.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.onCallAutoAttendants}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(i){n=!1;break}}var r="";r+=e.json.name,r=r.replace(/\W/g,""),r=r.toLowerCase();var l=this.filter.toLowerCase();if(l=l.replace(/\W/g,""),-1===r.indexOf(l)){n=!1;break}}while(0);return n}},{key:"RowSortBy",value:function(e){return(e.json.name||"1").toLowerCase()}},{key:"GetEntryRouteForId",value:function(e){return"/section/on-call/".concat(e,"?tab=General")}},{key:"IsReverseSort",value:function(){return this.isReverseSort}},{key:"OpenDeleteOnCallAutoAttendant",value:function(e){var t=this;this.deleteOnCallAutoAttendantModel=e,this.deleteOnCallAutoAttendantOpen=!0,requestAnimationFrame((function(){t.$refs.deleteOnCallAutoAttendantDialogue&&t.$refs.deleteOnCallAutoAttendantDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteOnCallAutoAttendant",value:function(){this.deleteOnCallAutoAttendantOpen=!1}},{key:"SaveDeleteOnCallAutoAttendant",value:function(){if(this.deleteOnCallAutoAttendantModel&&this.deleteOnCallAutoAttendantModel.id&&!y(this.deleteOnCallAutoAttendantModel.id)){var e=[this.deleteOnCallAutoAttendantModel.id];qn.DeleteIds(e),this.deleteOnCallAutoAttendantOpen=!1,this.$router.push("/section/on-call/index").catch((function(e){}))}else console.error("SaveDeleteOnCallAutoAttendant error 1")}}]),n}($i);Object(v["a"])([Object(p["b"])({default:"There are no auto attendants to show."})],Au.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Au.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Au.prototype,"isReverseSort",void 0),Au=Object(v["a"])([Object(p["a"])({components:{OnCallAutoAttendantsListItem:Ou,PermissionsDeniedAlert:Qi,DeleteOnCallAutoAttendantDialogue2:Mu}})],Au);var Tu=Au,Vu=Tu,Bu=Object(ha["a"])(Vu,bu,gu,!1,null,null,null),Lu=Bu.exports;ga()(Bu,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var Nu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")]),n("v-tab",{attrs:{disabled:!e.value||e.isMakingNew},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Calendar"})}).catch((function(e){}))}}},[e._v(" Calendar ")])],1)]},proxy:!0}],null,!1,1969063520)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("On-Call Responder: "+e._s(e.Name))]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("On-Call Responder Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")]),n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Calendar ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-responder-editor-name",attrs:{autocomplete:"newpassword",label:"Name",id:"Name",hint:"The name of this responder.","persistent-hint":"",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-responder-editor-failover-number",attrs:{autocomplete:"newpassword",label:"Failover Number",id:"FailoverNumber",hint:"The number to direct calls to if for whatever reason the system isn't able to answer. Enter a number like 12045554444. Don't put letters, spaces, or any punctuation. Only North American numbers are supported.","persistent-hint":"",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.FailoverNumber,callback:function(t){e.FailoverNumber=t},expression:"FailoverNumber"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-responder-editor-no-agent-response-notification-number",attrs:{autocomplete:"newpassword",label:"No Agent Response Notification Number",id:"NoAgentResponseNotificationNumber",hint:"If no agent responds, notify this phone number. Enter a number like 12045554444. Don't put letters, spaces, or any punctuation. Only North American numbers are supported.","persistent-hint":"",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.NoAgentResponseNotificationNumber,callback:function(t){e.NoAgentResponseNotificationNumber=t},expression:"NoAgentResponseNotificationNumber"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-responder-editor-no-agent-response-notification-email",attrs:{autocomplete:"newpassword",label:"No Agent Response Notification E-Mail",id:"NoAgentResponseNotificationEMail",hint:"If no agent responds, notify this email address. If you need this to go to multiple people, create a distribution list at your mail provider.","persistent-hint":"",rules:[],disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.NoAgentResponseNotificationEMail,callback:function(t){e.NoAgentResponseNotificationEMail=t},expression:"NoAgentResponseNotificationEMail"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-responder-editor-marked-handled-notification-email",attrs:{autocomplete:"newpassword",label:"Voicemail Handled Notification E-Mail",id:"MarkedHandledNotificationEMail",hint:"Once an voice message is marked as handled, notify this email address. A good use for this is sending it to your service coordinators so that they can handle this appropriately. If you need this to go to multiple people, create a distribution list at your mail provider.","persistent-hint":"",rules:[],disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.MarkedHandledNotificationEMail,callback:function(t){e.MarkedHandledNotificationEMail=t},expression:"MarkedHandledNotificationEMail"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Calendars")]),n("div",{staticClass:"subtitle",staticStyle:{"font-weight":"bold","margin-top":"15px"}},[e._v("Who gets called, and in what order?")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("CalendarSelectFieldArrayAdapter",{attrs:{isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus,readonly:!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.AgentOnCallPriorityCalendars,callback:function(t){e.AgentOnCallPriorityCalendars=t},expression:"AgentOnCallPriorityCalendars"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle",staticStyle:{"font-weight":"bold","margin-bottom":"15px"}},[e._v("Call attempts to each calendar before giving up.")]),n("v-slider",{attrs:{label:"Minutes",max:"5",min:"1","thumb-label":"",disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number",disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.CallAttemptsToEachCalendarBeforeGivingUp,callback:function(t){e.CallAttemptsToEachCalendarBeforeGivingUp=t},expression:"CallAttemptsToEachCalendarBeforeGivingUp"}})]},proxy:!0}]),model:{value:e.CallAttemptsToEachCalendarBeforeGivingUp,callback:function(t){e.CallAttemptsToEachCalendarBeforeGivingUp=t},expression:"CallAttemptsToEachCalendarBeforeGivingUp"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle",staticStyle:{"font-weight":"bold","margin-bottom":"15px"}},[e._v("Minutes between each call attempt.")]),n("v-slider",{attrs:{label:"Minutes",max:"60",min:"1","thumb-label":"",disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number",disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},model:{value:e.MinutesBetweenCallAttempts,callback:function(t){e.MinutesBetweenCallAttempts=t},expression:"MinutesBetweenCallAttempts"}})]},proxy:!0}]),model:{value:e.MinutesBetweenCallAttempts,callback:function(t){e.MinutesBetweenCallAttempts=t},expression:"MinutesBetweenCallAttempts"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Recordings")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle",staticStyle:{"font-weight":"bold"}},[e._v("Intro Message")]),n("MessagePromptEditor",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush(),pollyHint:"Type a script that will be read as soon as the caller is connected. Make sure to direct them to press 1 to leave a message for the on call representative. If the system doesn't read it out exactly how you want, try adding spaces or punctuation at those spots.",recordingHint:"Upload a recording that will be played as soon as the caller is connected. Make sure to direct them to press 1 to leave a message for the on call representative."},model:{value:e.MessagePromptIntro,callback:function(t){e.MessagePromptIntro=t},expression:"MessagePromptIntro"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle",staticStyle:{"font-weight":"bold"}},[e._v("Callback Number Message")]),n("MessagePromptEditor",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush(),pollyHint:"Type a script that directs the caller to provide a callback number.",recordingHint:"Upload a recording that prompts the caller to leave a callback number."},model:{value:e.MessagePromptAskForCallbackNumber,callback:function(t){e.MessagePromptAskForCallbackNumber=t},expression:"MessagePromptAskForCallbackNumber"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle",staticStyle:{"font-weight":"bold"}},[e._v("Details Message")]),n("MessagePromptEditor",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush(),pollyHint:"Type a script that directs the caller to provide a recording with any other additional details.",recordingHint:"Upload a recording that prompts the caller to provide a recording with any other additional details."},model:{value:e.MessagePromptAskForMessage,callback:function(t){e.MessagePromptAskForMessage=t},expression:"MessagePromptAskForMessage"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle",staticStyle:{"font-weight":"bold"}},[e._v("Thank You Afterwards")]),n("MessagePromptEditor",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush(),pollyHint:"Type a script thanks the caller for their message, and gives any other additional information. Keep in mind that the caller might hang up when they're done the message so this might not be heard.",recordingHint:"Upload a recording that thanks their caller for their message, and gives any other additional information. Keep in mind that the caller might hang up when they're done the message so this might not be heard."},model:{value:e.MessagePromptThankYouAfter,callback:function(t){e.MessagePromptThankYouAfter=t},expression:"MessagePromptThankYouAfter"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this responder."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"calendarForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-toolbar",{attrs:{flat:""}},[n("v-btn",{staticClass:"mr-4",attrs:{outlined:"",color:"grey darken-2"},on:{click:e.SetCalendarFocusToToday}},[e._v(" Today ")]),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.prev()}}},[n("v-icon",[e._v("mdi-chevron-left")])],1),n("v-spacer"),n("v-toolbar-title",[e._v(" "+e._s(e.CalendarTitle)+" ")]),n("v-spacer"),n("v-btn",{staticClass:"ma-2",attrs:{icon:""},on:{click:function(t){return e.$refs.calendar.next()}}},[n("v-icon",[e._v("mdi-chevron-right")])],1)],1),n("v-sheet",{attrs:{tile:"",height:"600",width:"100%"}},[n("v-calendar",{ref:"calendar",attrs:{type:"week","event-overlap-mode":"stack","event-overlap-threshold":30,weekdays:[0,1,2,3,4,5,6],events:e.events,"event-color":e.GetEventColor},on:{change:e.LoadData},model:{value:e.calendarFocus,callback:function(t){e.calendarFocus=t},expression:"calendarFocus"}})],1)],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("On-Call Responder Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The calendar no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the calendar while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),n("DeleteOnCallAutoAttendantDialogue2",{ref:"deleteOnCallAutoAttendantDialogue",attrs:{isOpen:e.deleteOnCallAutoAttendantOpen},on:{Delete:e.SaveDeleteOnCallAutoAttendant,Cancel:e.CancelDeleteOnCallAutoAttendant},model:{value:e.deleteOnCallAutoAttendantModel,callback:function(t){e.deleteOnCallAutoAttendantModel=t},expression:"deleteOnCallAutoAttendantModel"}}),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.OpenDeleteOnCallAutoAttendant()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},Eu=[],Fu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("CalendarSelectField",{key:a,attrs:{index:a,isFirstIndex:0===a,isLastIndex:a===e.value.length-1,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()},InsertNewRowAtIndex:e.OnInsertNewRowAtIndex,RemoveRowAtIndex:e.OnRemoveRowAtIndex,MoveUp:e.OnMoveUp,MoveDown:e.OnMoveDown},scopedSlots:e._u([{key:"custom-menu-options",fn:function(){return[n("v-divider"),n("v-list-item",{attrs:{disabled:0===a||e.disabled||e.readonly},on:{click:function(t){return e.OnMoveUp(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:a===e.value.length-1||e.disabled||e.readonly},on:{click:function(t){return e.OnMoveDown(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(a+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnRemoveRowAtIndex(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)]},proxy:!0}],null,!0),model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"2"}},[n("v-btn",{attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Calendar ")],1)],1)],1)],2)},qu=[],Gu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerdiv",staticStyle:{"border-bottom":""}},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select a Calendar")]),n("v-divider"),n("v-card-text",[n("CalendarList",{ref:"list",attrs:{openEntryOnClick:!1,showMenuButton:!1},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Calendar")]),n("v-divider"),n("v-card-text",[n("CalendarEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenCalendar()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewCalendar()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Calendar&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.CalendarForId(e.value)?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewCalendar()}}},[e._v(" "+e._s(e.CalendarNameForId(e.value)||"Empty calendar name.")+" ")]):n("div",{staticStyle:{flex:"1","text-align":"center"},attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewCalendar()}}},[n("v-btn",{attrs:{color:"primary",text:""}},[e._v("Select or Add Calendar")])],1),e.CalendarForId(e.value)&&!e.isDialogue?n("div",{staticClass:"d-none d-sm-flex"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{to:"/section/calendars/"+e.value+"?tab=General",color:"primary",label:"",outlined:""}},a),[e._v(" Open "),n("v-icon",{attrs:{right:"",small:""}},[e._v("open_in_new")])],1)]}}],null,!1,4153109477)},[n("span",[e._v("Open this contact.")])])],1):e._e()])])],1)},$u=[],Uu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermCalendarsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-calendar-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("CalendarListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,"delete-entry":e.OpenDeleteCalendar},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" There are no calendars to show. ")])],1)],1):n("PermissionsDeniedAlert"),n("DeleteCalendarDialogue",{ref:"deleteCalendarDialogue",attrs:{isOpen:e.deleteCalendarOpen},on:{Delete:e.SaveDeleteCalendar,Cancel:e.CancelDeleteCalendar},model:{value:e.deleteCalendarModel,callback:function(t){e.deleteCalendarModel=t},expression:"deleteCalendarModel"}})],1)},Hu=[],Wu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-calendar-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("calendar_today")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.name))])],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermCalendarsCanDelete()},on:{click:function(t){return e.$emit("delete-entry",e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},Ku=[],zu=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermCalendarsCanDelete=Wn.PermCalendarsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],zu.prototype,"value",void 0),zu=Object(v["a"])([Object(p["a"])({})],zu);var Ju=zu,Yu=Ju,Qu=Object(ha["a"])(Yu,Wu,Ku,!1,null,null,null),Xu=Qu.exports;ga()(Qu,{VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var Zu=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermCalendarsCanRequest=Wn.PermCalendarsCanRequest,e.deleteCalendarModel=null,e.deleteCalendarOpen=!1,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(Wn.PermCalendarsCanRequest()){var n=Wn.RequestCalendars.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.calendars}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(i){n=!1;break}}var r="";r+=e.json.name,r+=e.json.iCalFileURI,r=r.replace(/\W/g,""),r=r.toLowerCase();var l=this.filter.toLowerCase();if(l=l.replace(/\W/g,""),-1===r.indexOf(l)){n=!1;break}}while(0);return n}},{key:"RowSortBy",value:function(e){return(e.json.name||"1").toLowerCase()}},{key:"GetEntryRouteForId",value:function(e){return"/section/calendars/".concat(e,"?tab=General")}},{key:"IsReverseSort",value:function(){return this.isReverseSort}},{key:"OpenDeleteCalendar",value:function(e){var t=this;this.deleteCalendarModel=e,this.deleteCalendarOpen=!0,requestAnimationFrame((function(){t.$refs.deleteCalendarDialogue&&t.$refs.deleteCalendarDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteCalendar",value:function(){this.deleteCalendarOpen=!1}},{key:"SaveDeleteCalendar",value:function(){if(this.deleteCalendarModel&&this.deleteCalendarModel.id&&!y(this.deleteCalendarModel.id)){var e=[this.deleteCalendarModel.id];Wn.DeleteIds(e),this.deleteCalendarOpen=!1,this.$router.push("/section/calendars/index").catch((function(e){}))}else console.error("!this.deleteCalendarModel || !this.deleteCalendarModel.id || IsNullOrEmpty(this.deleteCalendarModel.id)")}}]),n}($i);Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Zu.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zu.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:"There are no calendars to show."})],Zu.prototype,"emptyMessage",void 0),Zu=Object(v["a"])([Object(p["a"])({components:{CalendarListItem:Xu,PermissionsDeniedAlert:Qi,DeleteCalendarDialogue:xc}})],Zu);var ed=Zu,td=ed,nd=Object(ha["a"])(td,Uu,Hu,!1,null,null,null),ad=nd.exports;ga()(nd,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var id=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.CalendarForId=Wn.ForId,e.CalendarNameForId=Wn.NameForId,e.MobileDeviceWidth=ma,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=Wn.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){Wn.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Calendar",get:function(){var e=Wn.ForId(this.value);return e||null}},{key:"SelectNewCalendar",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("SelectNewCalendar()"),this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("ClearValue()"),this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenCalendar",value:function(){console.log("OpenCalendar()"),y(this.value)?console.error("can't open calendars auto attendant as IsNullOrEmpty(this.value)"):this.$router.push("/section/calendars/".concat(this.value,"?tab=General")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){console.debug("OnClickEntry",e),this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=Wn.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=Wn.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,Wn.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=Wn.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Calendar"})],id.prototype,"label",void 0),Object(v["a"])([Object(p["b"])({default:!1})],id.prototype,"showCompanyContactsBelow",void 0),id=Object(v["a"])([Object(p["a"])({components:{CalendarList:ad,CalendarEditor:Lc}})],id);var od=id;p["c"].component("CalendarSelectField",id);var sd=od,rd=(n("84c7"),Object(ha["a"])(sd,Gu,$u,!1,null,"1a543fbc",null)),ld=rd.exports;ga()(rd,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VChip:Vi["a"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var cd=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return null}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],cd.prototype,"value",void 0),cd=Object(v["a"])([Object(p["a"])({components:{CalendarSelectField:ld}})],cd);var ud=cd,dd=ud,md=Object(ha["a"])(dd,Fu,qu,!1,null,"1d7529ce",null),vd=md.exports;ga()(md,{VBtn:ya["a"],VCol:Sa["a"],VDivider:Ea["a"],VIcon:ka["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VRow:Da["a"]});var pd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-radio-group",{model:{value:e.Type,callback:function(t){e.Type=t},expression:"Type"}},[n("v-radio",{attrs:{label:"Text to Speach",value:"polly"}}),n("v-radio",{attrs:{label:"Recording",value:"recording"}})],1),"polly"==e.Type?n("div",[n("v-textarea",{attrs:{autocomplete:"newpassword",label:"",hint:e.pollyHint,disabled:e.disabled,rules:[e.ValidateRequiredField],"persistent-hint":""},model:{value:e.PollyText,callback:function(t){e.PollyText=t},expression:"PollyText"}})],1):e._e(),"recording"==e.Type?n("div",[n("RecordingSelectField",{attrs:{isDialogue:!1,disabled:e.disabled,hint:e.recordingHint},model:{value:e.RecordingId,callback:function(t){e.RecordingId=t},expression:"RecordingId"}})],1):e._e()],1)},fd=[],hd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{outerdiv:!0}},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select a Recording")]),n("v-divider"),n("v-card-text",[n("RecordingList",{ref:"list",attrs:{showMenuButton:!1,openEntryOnClick:!1},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Recording")]),n("v-divider"),n("v-card-text",[n("RecordingEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewRecording()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Recording&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.RecordingForId(e.value)?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewRecording()}}},[e._v(" "+e._s(e.RecordingNameForId(e.value)||"Empty recording name.")+" ")]):n("div",{staticStyle:{flex:"1","text-align":"center"},on:{click:function(t){return e.SelectNewRecording()}}},[n("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled||e.readonly}},[e._v(" Select or Add Recording ")])],1)])])],1)},bd=[],gd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Recordings")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{label:"Name",hint:"Enter the name of this recording.","persistent-hint":"",rules:[e.ValidateRequiredField]},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),e.isMakingNew?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("File")])])],1):e._e(),e.isMakingNew?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-file-input",{attrs:{label:"Recording File",filled:"","prepend-icon":"mdi-music",hint:"Select an MP3 file for upload.","show-size":"","persistent-hint":"",rules:[e.ValidateRequiredField]},model:{value:e.FileForUpload,callback:function(t){e.FileForUpload=t},expression:"FileForUpload"}})],1),"Not Uploading"==e.uploadingState?n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{outlined:"",type:"info"}},[e._v("Click on the box above to select your recording to upload. It must be a MP3 file.")])],1):"Uploading"==e.uploadingState?n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"purple"}}),e._v(" Uploading ")],1):"Done Uploading"==e.uploadingState?n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-icon",[e._v("done")]),e._v(" Uploaded ")],1):"Error Uploading"==e.uploadingState?n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-icon",[e._v("error")]),e._v(" Error Uploading ")],1):e._e()],1):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this material."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Project Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The project no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the project while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1)],1)},yd=[],Cd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerdiv",staticStyle:{"border-bottom":""}},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select a Product")]),n("v-divider"),n("v-card-text",[n("ProductList",{ref:"list",attrs:{openEntryOnClick:!1,showMenuButton:!1},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Product")]),n("v-divider"),n("v-card-text",[n("ProductEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenProduct()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewProduct()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Product&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.ProductForId(e.value)?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewProduct()}}},[e._v(" "+e._s(e.ProductNameForId(e.value)||"Empty product name.")+" ")]):n("div",{staticStyle:{flex:"1","text-align":"center"},attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewProduct()}}},[n("v-btn",{attrs:{color:"primary",text:""}},[e._v("Select or Add Product")])],1)])])],1)},jd=[],Sd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermProductsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("ProductsListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)},Id=[],Pd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-products-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("local_grocery_store")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.name))])],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled||!e.PermProductsCanRequest()},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProductsCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},Od=[],kd=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermProductsCanRequest=xn.PermProductsCanRequest,e.PermProductsCanPush=xn.PermProductsCanPush,e.PermProductsCanDelete=xn.PermProductsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],kd.prototype,"value",void 0),kd=Object(v["a"])([Object(p["a"])({})],kd);var Dd=kd,_d=Dd,wd=Object(ha["a"])(_d,Pd,Od,!1,null,null,null),xd=wd.exports;ga()(wd,{VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var Rd=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermProductsCanRequest=xn.PermProductsCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(xn.PermProductsCanRequest()){var n=xn.RequestProducts.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetOpenAsDialogue",value:function(){return!0}},{key:"GetEntryRouteForId",value:function(e){throw Error("not implemented")}},{key:"GetOpenDialogueName",value:function(){return"EditProductDialogue"}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteProductDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.products}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(i){n=!1;break}}if(this.showFilter){var r="";r+=e.json.name,r=r.replace(/\W/g,""),r=r.toLowerCase();var l=this.filter.toLowerCase();if(l=l.replace(/\W/g,""),-1===r.indexOf(l)){n=!1;break}}}while(0);return n}},{key:"RowSortBy",value:function(e){return e.json.name||"1"}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:"There are no products to show."})],Rd.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Rd.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Rd.prototype,"isReverseSort",void 0),Rd=Object(v["a"])([Object(p["a"])({components:{ProductsListItem:xd,PermissionsDeniedAlert:Qi}})],Rd);var Md=Rd,Ad=Md,Td=Object(ha["a"])(Ad,Sd,Id,!1,null,null,null),Vd=Td.exports;ga()(Td,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var Bd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Product")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"name",staticClass:"e2e-product-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"Name of the Product",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-product-editor-unit",attrs:{autocomplete:"newpassword",label:"Standard Unit of Measurement",hint:"Feet, Meters, Units, etc...",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.QuantityUnit,callback:function(t){e.QuantityUnit=t},expression:"QuantityUnit"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this product."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Product Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The product no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the product while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteProductDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},Ld=[],Nd=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"ProductIdChanged",value:function(e){if(e&&!y(e)&&(!this.QuantityUnit||y(this.QuantityUnit))){var t=xn.ForId(e);t&&t.json&&!y(t.json.quantityUnit)?this.QuantityUnit=t.json.quantityUnit:this.QuantityUnit="×"}}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"QuantityUnit",get:function(){return this.value&&this.value.json&&this.value.json.quantityUnit?this.value.json.quantityUnit:null},set:function(e){this.value&&this.value.json&&(this.value.json.quantityUnit=y(e)?null:e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],Nd.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Nd.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Nd.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Nd.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],Nd.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],Nd.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Nd.prototype,"isMakingNew",void 0),Nd=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ProductSelectField:Kd,ReloadButton:ms,NotificationBellButton:hl}})],Nd);var Ed=Nd,Fd=Ed,qd=Object(ha["a"])(Fd,Bd,Ld,!1,null,"0a579222",null),Gd=qd.exports;ga()(qd,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var $d=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ProductForId=xn.ForId,e.ProductNameForId=xn.NameForId,e.MobileDeviceWidth=ma,e.CurrentBillingContactId=he.CurrentBillingContactId,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=xn.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){xn.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Product",get:function(){var e=xn.ForId(this.value);return e||null}},{key:"SelectNewProduct",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenProduct",value:function(){console.log("OpenProduct",this.value)}},{key:"OnClickEntry",value:function(e){this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=xn.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=xn.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,xn.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=xn.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Product"})],$d.prototype,"label",void 0),$d=Object(v["a"])([Object(p["a"])({components:{ProductList:Vd,ProductEditor:Gd}})],$d);var Ud=$d;p["c"].component("ProductSelectField",$d);var Hd=Ud,Wd=(n("c3d1"),Object(ha["a"])(Hd,Cd,jd,!1,null,"fb7d51b8",null)),Kd=Wd.exports;ga()(Wd,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"]});var zd=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e._fileForUpload=null,e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.uploadingState="Not Uploading",e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"FileForUpload",get:function(){return this.value&&this.value.json&&this.value.json.name?this._fileForUpload:null},set:function(e){var t=this;if(this.value&&this.value.json)if(this._fileForUpload=e,e){console.debug("fileforupload",e);var n=ce.CurrentSessionId();if(null==n||y(n))console.error("No session to upload recording");else{this.uploadingState="Uploading";var a=new FormData;a.append("sessionId",n),a.append("recordingFiles",e),console.debug("sessionId",n),fetch("".concat(x.apiRoot,"/api/RecordingUpload"),{method:"POST",body:a}).then((function(e){return e.json()})).then((function(e){return e.isError?(D.AddNotification({severity:"error",message:"Error uploading recording: ".concat(e.errorMessage),autoClearInSeconds:10}),console.error(e),t.uploadingState="Error Uploading",void(t.FileForUpload=null)):t.value?(t.uploadingState="Done Uploading",t.value.json.tmpMP3Path=e.processedFiles[0].mp3Path,t.value.json.tmpWAVPath=e.processedFiles[0].wavPath,t.value.json.tmpPCMPath=e.processedFiles[0].pcmPath,void t.SignalChanged()):(console.error("!this.value"),D.AddNotification({severity:"error",message:"Application error.",autoClearInSeconds:10}),t.uploadingState="Error Uploading",void(t.FileForUpload=null))})).catch((function(e){D.AddNotification({severity:"error",message:"Error uploading recording: ".concat(e),autoClearInSeconds:10}),console.error(e),t.uploadingState="Error Uploading",t.FileForUpload=null}))}}else console.warn("File is null, not uploading.")}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],zd.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zd.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zd.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zd.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],zd.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],zd.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zd.prototype,"isMakingNew",void 0),zd=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ProductSelectField:Kd,ReloadButton:ms,NotificationBellButton:hl}})],zd);var Jd=zd,Yd=Jd,Qd=n("23a7"),Xd=n("490a"),Zd=Object(ha["a"])(Yd,gd,yd,!1,null,"29865bfe",null),em=Zd.exports;ga()(Zd,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFileInput:Qd["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressCircular:Xd["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var tm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermRecordingsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("RecordingListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" There are no recordings to show. ")])],1)],1):n("PermissionsDeniedAlert")],1)},nm=[],am=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("domain")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.name))])],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermRecordingsCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},im=[],om=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermRecordingsCanDelete=na.PermRecordingsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],om.prototype,"value",void 0),om=Object(v["a"])([Object(p["a"])({})],om);var sm=om,rm=sm,lm=Object(ha["a"])(rm,am,im,!1,null,null,null),cm=lm.exports;ga()(lm,{VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var um=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermRecordingsCanRequest=na.PermRecordingsCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(na.PermRecordingsCanRequest()){var n=na.RequestRecordings.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.recordings}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(i){n=!1;break}}var r="";r+=e.json.name,r=r.replace(/\W/g,""),r=r.toLowerCase();var l=this.filter.toLowerCase();if(l=l.replace(/\W/g,""),-1===r.indexOf(l)){n=!1;break}}while(0);return n}},{key:"RowSortBy",value:function(e){return(e.json.name||"1").toLowerCase()}},{key:"GetEntryRouteForId",value:function(e){return"/section/recordings/".concat(e,"?tab=General")}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteRecordingDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:"There are no recordings to show."})],um.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],um.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],um.prototype,"isReverseSort",void 0),um=Object(v["a"])([Object(p["a"])({components:{RecordingListItem:cm,PermissionsDeniedAlert:Qi}})],um);var dm=um,mm=dm,vm=Object(ha["a"])(mm,tm,nm,!1,null,null,null),pm=vm.exports;ga()(vm,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var fm=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.RecordingForId=na.ForId,e.RecordingNameForId=na.NameForId,e.MobileDeviceWidth=ma,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=na.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){na.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Recording",get:function(){var e=na.ForId(this.value);return e||null}},{key:"SelectNewRecording",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("SelectNewRecording()"),this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("ClearValue()"),this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenRecording",value:function(){y(this.value)?console.error("Can't go to the recording as value is null"):this.$router.push("/section/recordings/".concat(this.value,"?tab=General")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=na.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=na.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO();var t={};t[e.id]=e,na.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=na.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Recording"})],fm.prototype,"label",void 0),fm=Object(v["a"])([Object(p["a"])({components:{RecordingList:pm,RecordingEditor:em}})],fm);var hm=fm;p["c"].component("RecordingSelectField",fm);var bm=hm,gm=(n("261b"),Object(ha["a"])(bm,hd,bd,!1,null,"54436f4d",null)),ym=gm.exports;ga()(gm,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"]});var Cm=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e}return Object(u["a"])(n,[{key:"Type",get:function(){return this.value?this.value.type:null},set:function(e){this.value&&(p["c"].set(this.value,"type",e),this.$emit("input",this.value))}},{key:"PollyText",get:function(){return this.value&&this.value.text?this.value.text:null},set:function(e){this.value&&this.value.text&&(p["c"].set(this.value,"text",y(e)?null:e),this.$emit("input",this.value))}},{key:"RecordingId",get:function(){return this.value&&this.value.recordingId?this.value.recordingId:null},set:function(e){this.value&&(console.debug("set RecordingId",e),p["c"].set(this.value,"recordingId",y(e)?null:e),this.$emit("input",this.value))}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],Cm.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Cm.prototype,"disabled",void 0),Object(v["a"])([Object(p["b"])({default:""})],Cm.prototype,"pollyHint",void 0),Object(v["a"])([Object(p["b"])({default:""})],Cm.prototype,"recordingHint",void 0),Cm=Object(v["a"])([Object(p["a"])({components:{RecordingSelectField:ym}})],Cm);var jm=Cm,Sm=jm,Im=Object(ha["a"])(Sm,pd,fd,!1,null,"1b38237f",null),Pm=Im.exports;ga()(Im,{VRadio:Ol["a"],VRadioGroup:kl["a"],VTextarea:ol["a"]});var Om=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.PermOnCallAutoAttendantsCanDelete=qn.PermOnCallAutoAttendantsCanDelete,e.PermOnCallAutoAttendantsCanPush=qn.PermOnCallAutoAttendantsCanPush,e.deleteOnCallAutoAttendantModel=null,e.deleteOnCallAutoAttendantOpen=!1,e.calendarFocus="",e.events=[],e.calendarColours=["blue","indigo","deep-purple","cyan","green","orange","grey darken-1","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black","black"],e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Calendar:1,calendar:1}}},{key:"MountedAfter",value:function(){this.LoadData();var e=I["DateTime"].local();this.calendarFocus=e.toFormat("yyyy-LL-dd")}},{key:"valueChanged",value:function(e,t){this.LoadData()}},{key:"LoadData",value:function(){var e=this;if(this.value&&this.value.id&&this.value.json&&this.value.json.agentOnCallPriorityCalendars){var t,n=[],a=[],i=-1,o=Object(G["a"])(this.value.json.agentOnCallPriorityCalendars);try{var s=function(){var o=t.value;if(!o||y(o))return"continue";i++;var s=i,r=Wn.FetchForId(o);r.completeRequestPromise&&(a.push(r.completeRequestPromise),r.completeRequestPromise.then((function(t){if(t&&t.json&&t.json.occurancesRoughlyAroundThisMonth){var a,i=Object(G["a"])(t.json.occurancesRoughlyAroundThisMonth);try{for(i.s();!(a=i.n()).done;){var o=a.value,r=I["DateTime"].fromISO(o.startISO8601),l=r.toLocal(),c=I["DateTime"].fromISO(o.endISO8601),u=c.toLocal();0===u.hour&&0===u.minute&&0===u.second&&(u=u.minus({seconds:1})),n.push({name:"".concat(o.description,"\n").concat(o.phoneNumber),start:l.toJSDate(),end:u.toJSDate(),color:e.calendarColours[s],timed:!0})}}catch(d){i.e(d)}finally{i.f()}}})))};for(o.s();!(t=o.n()).done;)s()}catch(r){o.e(r)}finally{o.f()}Promise.all(a).then((function(){e.events=n}))}}},{key:"GetEventColor",value:function(e){return e.color}},{key:"SetCalendarFocusToToday",value:function(){var e=I["DateTime"].local();this.calendarFocus=e.toFormat("yyyy-LL-dd")}},{key:"CalendarTitle",get:function(){var e=I["DateTime"].fromFormat(this.calendarFocus,"yyyy-LL-dd");return e.toFormat("MMMM, yyyy")}},{key:"CallAttemptsToEachCalendarBeforeGivingUp",get:function(){return this.value&&this.value.json&&null!==this.value.json.callAttemptsToEachCalendarBeforeGivingUp?this.value.json.callAttemptsToEachCalendarBeforeGivingUp:null},set:function(e){this.value&&this.value.json&&(this.value.json.callAttemptsToEachCalendarBeforeGivingUp=null==e?null:e,this.SignalChanged())}},{key:"MinutesBetweenCallAttempts",get:function(){return this.value&&this.value.json&&null!==this.value.json.minutesBetweenCallAttempts?this.value.json.minutesBetweenCallAttempts:null},set:function(e){this.value&&this.value.json&&(this.value.json.minutesBetweenCallAttempts=null==e?null:e,this.SignalChanged())}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"FailoverNumber",get:function(){return this.value&&this.value.json&&this.value.json.failoverNumber?this.value.json.failoverNumber:null},set:function(e){this.value&&this.value.json&&(this.value.json.failoverNumber=y(e)?null:e,this.SignalChanged())}},{key:"NoAgentResponseNotificationNumber",get:function(){return this.value&&this.value.json&&this.value.json.noAgentResponseNotificationNumber?this.value.json.noAgentResponseNotificationNumber:null},set:function(e){this.value&&this.value.json&&(this.value.json.noAgentResponseNotificationNumber=y(e)?null:e,this.SignalChanged())}},{key:"NoAgentResponseNotificationEMail",get:function(){return this.value&&this.value.json&&this.value.json.noAgentResponseNotificationEMail?this.value.json.noAgentResponseNotificationEMail:null},set:function(e){this.value&&this.value.json&&(this.value.json.noAgentResponseNotificationEMail=y(e)?null:e,this.SignalChanged())}},{key:"MarkedHandledNotificationEMail",get:function(){return this.value&&this.value.json&&this.value.json.markedHandledNotificationEMail?this.value.json.markedHandledNotificationEMail:null},set:function(e){this.value&&this.value.json&&(this.value.json.markedHandledNotificationEMail=y(e)?null:e,this.SignalChanged())}},{key:"AgentOnCallPriorityCalendars",get:function(){if(!this.value)return[null];var e=this.value.json;if(!e)return[null];var t=e.agentOnCallPriorityCalendars;return t&&0!==e.agentOnCallPriorityCalendars.length?t:[null]},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);t.json.agentOnCallPriorityCalendars=e,this.$emit("input",t)}}},{key:"RecordingsAskForCallbackNumberPollyText",get:function(){return this.value&&this.value.json&&this.value.json.recordings&&this.value.json.recordings.intro&&this.value.json.recordings.intro.text?this.value.json.recordings.askForCallbackNumber.text:null},set:function(e){this.value&&this.value.json&&this.value.json.recordings&&this.value.json.recordings.intro&&(this.value.json.recordings.askForCallbackNumber.text=y(e)?null:e,this.SignalChanged())}},{key:"RecordingsAskForMessagePollyText",get:function(){return this.value&&this.value.json&&this.value.json.recordings&&this.value.json.recordings.askForMessage&&this.value.json.recordings.askForMessage.text?this.value.json.recordings.askForMessage.text:null},set:function(e){this.value&&this.value.json&&this.value.json.recordings&&this.value.json.recordings.askForMessage&&(this.value.json.recordings.askForMessage.text=y(e)?null:e,this.SignalChanged())}},{key:"RecordingsThankYouAfterPollyText",get:function(){return this.value&&this.value.json&&this.value.json.recordings&&this.value.json.recordings.thankYouAfter&&this.value.json.recordings.thankYouAfter.text?this.value.json.recordings.thankYouAfter.text:null},set:function(e){this.value&&this.value.json&&this.value.json.recordings&&this.value.json.recordings.thankYouAfter&&(this.value.json.recordings.thankYouAfter.text=y(e)?null:e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"OpenDeleteOnCallAutoAttendant",value:function(){var e=this;this.deleteOnCallAutoAttendantModel=this.value,this.deleteOnCallAutoAttendantOpen=!0,requestAnimationFrame((function(){e.$refs.deleteOnCallAutoAttendantDialogue&&e.$refs.deleteOnCallAutoAttendantDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteOnCallAutoAttendant",value:function(){this.deleteOnCallAutoAttendantOpen=!1}},{key:"SaveDeleteOnCallAutoAttendant",value:function(){if(this.deleteOnCallAutoAttendantModel&&this.deleteOnCallAutoAttendantModel.id&&!y(this.deleteOnCallAutoAttendantModel.id)){var e=[this.deleteOnCallAutoAttendantModel.id];console.log(e),qn.DeleteIds(e),this.deleteOnCallAutoAttendantOpen=!1,this.$router.push("/section/on-call/index").catch((function(e){}))}else console.error("SaveDeleteOnCallAutoAttendant error 1")}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){console.debug("save changes"),e.$emit("input",e.value)}),1e3)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}},{key:"MessagePromptIntro",get:function(){return this.value?this.value.json.recordings.intro:null},set:function(e){this.value&&e&&(this.value.json.recordings.intro=e,this.SignalChanged())}},{key:"MessagePromptAskForCallbackNumber",get:function(){return this.value?this.value.json.recordings.askForCallbackNumber:null},set:function(e){this.value&&e&&(this.value.json.recordings.askForCallbackNumber=e,this.SignalChanged())}},{key:"MessagePromptAskForMessage",get:function(){return this.value?this.value.json.recordings.askForMessage:null},set:function(e){this.value&&e&&(this.value.json.recordings.askForMessage=e,this.SignalChanged())}},{key:"MessagePromptThankYouAfter",get:function(){return this.value?this.value.json.recordings.thankYouAfter:null},set:function(e){this.value&&e&&(this.value.json.recordings.thankYouAfter=e,this.SignalChanged())}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],Om.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Om.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Om.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Om.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],Om.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],Om.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Om.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["d"])("value")],Om.prototype,"valueChanged",null),Om=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,CalendarSelectFieldArrayAdapter:vd,DeleteOnCallAutoAttendantDialogue2:Mu,MessagePromptEditor:Pm}})],Om);var km=Om,Dm=km,_m=n("ba0d"),wm=Object(ha["a"])(Dm,Nu,Eu,!1,null,"bf563eb4",null),xm=wm.exports;ga()(wm,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCalendar:Tc["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSheet:Vc["a"],VSlider:_m["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbar:_o["a"],VToolbarTitle:wo["a"]});var Rm=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.OnCallAutoAttendantForId=qn.ForId,e.OnCallAutoAttendantNameForId=qn.NameForId,e.MobileDeviceWidth=ma,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=qn.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){qn.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"OnCallAutoAttendant",get:function(){var e=qn.ForId(this.value);return e||null}},{key:"SelectNewOnCallAutoAttendant",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("SelectNewOnCallAutoAttendant()"),this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("ClearValue()"),this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenOnCallAutoAttendant",value:function(){console.log("OpenOnCallAutoAttendant()"),y(this.value)?console.error("can't open on-call auto attendant as IsNullOrEmpty(this.value)"):this.$router.push("/section/on-call/".concat(this.value,"?tab=General")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){console.debug("OnClickEntry",e),this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=qn.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=qn.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,qn.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=qn.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"On-Call Responder"})],Rm.prototype,"label",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Rm.prototype,"showCompanyContactsBelow",void 0),Rm=Object(v["a"])([Object(p["a"])({components:{OnCallAutoAttendantsList:Lu,OnCallAutoAttendantEditor:xm}})],Rm);var Mm=Rm;p["c"].component("OnCallAutoAttendantSelectField",Rm);var Am=Mm,Tm=(n("54a4"),Object(ha["a"])(Am,fu,hu,!1,null,"bee31140",null)),Vm=Tm.exports;ga()(Tm,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VChip:Vi["a"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var Bm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Phone Number")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.value?n("span",[e._v(e._s(e.value.json.DIDNumber))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Delete()}}},[e._v("Delete")])],1)],1)],1)},Lm=[],Nm=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$emit("Cancel",null)}},{key:"Delete",value:function(){this.$emit("Delete",this.value)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],Nm.prototype,"value",void 0),Nm=Object(v["a"])([Object(p["a"])({components:{}})],Nm);var Em=Nm,Fm=Em,qm=Object(ha["a"])(Fm,Bm,Lm,!1,null,null,null),Gm=qm.exports;ga()(qm,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var $m=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.PermDIDsCanDelete=Ln.PermDIDsCanDelete,e.PermDIDsCanPush=Ln.PermDIDsCanPush,e.deleteDIDModel=null,e.deleteDIDOpen=!1,e.didRegisterPasscode="",e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"OnReloadStatus",value:function(){this.$refs.regStatusChip&&this.$refs.regStatusChip.LoadData()}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"AssignToType",get:function(){return this.value&&this.value.json&&this.value.json.assignToType?this.value.json.assignToType:"Hangup"},set:function(e){if(this.value){var t=F.a.cloneDeep(this.value);t.json.assignToType=e,this.$emit("input",t)}}},{key:"AssignToID",get:function(){return this.value&&this.value.json&&this.value.json.assignToID&&!y(this.value.json.assignToID)?this.value.json.assignToID:null},set:function(e){this.value&&this.value.json&&(this.value.json.assignToID=y(e)?null:e,this.SignalChanged())}},{key:"DIDNumber",get:function(){return this.value&&this.value.json&&this.value.json.DIDNumber?this.value.json.DIDNumber:null},set:function(e){this.value&&this.value.json&&(this.value.json.DIDNumber=y(e)?null:e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"OpenDeleteDID",value:function(){var e=this;this.deleteDIDModel=this.value,this.deleteDIDOpen=!0,requestAnimationFrame((function(){e.$refs.deleteDIDDialogue&&e.$refs.deleteDIDDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteDID",value:function(){this.deleteDIDOpen=!1}},{key:"SaveDeleteDID",value:function(){if(this.deleteDIDModel&&this.deleteDIDModel.id&&!y(this.deleteDIDModel.id)){var e=[this.deleteDIDModel.id];Ln.DeleteIds(e),this.deleteDIDOpen=!1,this.$router.push("/section/dids/index").catch((function(e){}))}else console.error("!this.deleteDIDModel || !this.deleteDIDModel.id || IsNullOrEmpty(this.deleteDIDModel.id)")}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],$m.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$m.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$m.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$m.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],$m.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],$m.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$m.prototype,"isMakingNew",void 0),$m=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,DIDRegisteredChip:eu,DeRegisterDIDButton:ru,RegisterDIDButton:pu,OnCallAutoAttendantSelectField:Vm,DeleteDIDDialogue:Gm}})],$m);var Um=$m,Hm=Um,Wm=Object(ha["a"])(Hm,Hc,Wc,!1,null,"b358faaa",null),Km=Wm.exports;ga()(Wm,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var zm=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("Cancel",null),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){this.$refs.editor.IsValidated()?(this.$emit("Save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],zm.prototype,"value",void 0),zm=Object(v["a"])([Object(p["a"])({components:{DIDEditor:Km}})],zm);var Jm=zm,Ym=Jm,Qm=Object(ha["a"])(Ym,$c,Uc,!1,null,null,null),Xm=Qm.exports;ga()(Qm,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Zm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Add OnCallAutoAttendant")]),n("v-divider"),n("v-card-text",[n("OnCallAutoAttendantEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},ev=[],tv=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("Cancel",null),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){this.$refs.editor.IsValidated()?(this.$emit("Save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],tv.prototype,"value",void 0),tv=Object(v["a"])([Object(p["a"])({components:{OnCallAutoAttendantEditor:xm}})],tv);var nv=tv,av=nv,iv=Object(ha["a"])(av,Zm,ev,!1,null,null,null),ov=iv.exports;ga()(iv,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var sv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Recording")]),n("v-divider"),n("v-card-text",[n("RecordingEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},rv=[],lv=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("Cancel",null),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){this.$refs.editor.IsValidated()?(this.$emit("Save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],lv.prototype,"value",void 0),lv=Object(v["a"])([Object(p["a"])({components:{RecordingEditor:em}})],lv);var cv=lv,uv=cv,dv=Object(ha["a"])(uv,sv,rv,!1,null,null,null),mv=dv.exports;ga()(dv,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var vv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Recording")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.value?n("span",[e._v(e._s(e.value.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Delete()}}},[e._v("Delete")])],1)],1)],1)},pv=[],fv=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$emit("Cancel",null)}},{key:"Delete",value:function(){this.$emit("Delete",this.value)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],fv.prototype,"value",void 0),fv=Object(v["a"])([Object(p["a"])({components:{}})],fv);var hv=fv;p["c"].component("DeleteRecordingDialogue",fv);var bv=hv,gv=Object(ha["a"])(bv,vv,pv,!1,null,null,null),yv=gv.exports;ga()(gv,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Cv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Edit Recording")]),n("v-divider"),n("v-card-text",[n("RecordingEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!1,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},jv=[],Sv=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("Cancel",null),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){this.$refs.editor.IsValidated()?(this.$emit("Save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],Sv.prototype,"value",void 0),Sv=Object(v["a"])([Object(p["a"])({components:{RecordingEditor:em}})],Sv);var Iv=Sv,Pv=Iv,Ov=Object(ha["a"])(Pv,Cv,jv,!1,null,null,null),kv=Ov.exports;ga()(Ov,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Dv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{staticClass:"e2e-modify-labour-dialogue",attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Labour")]),n("v-divider"),n("v-card-text",[n("LabourEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},_v=[],wv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Agent"),e.Name?n("span",[e._v(": "+e._s(e.Name))]):e._e()]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Who, What, Where")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("AgentSelectField",{attrs:{isDialogue:e.isDialogue,hint:"Select the agent this entry applies to.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermCRMLabourManualEntries()},model:{value:e.AgentId,callback:function(t){e.AgentId=t},expression:"AgentId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-select",{staticClass:"e2e-labour-editor-labour-type",attrs:{items:e.AllLabourTypes(),label:"Labour Type",hint:"Select the type of labour entry you're making.",rules:[e.ValidateRequiredField],"item-text":"json.name","item-value":"id","persistent-hint":"",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermCRMLabourManualEntries()},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-list",{attrs:{flat:""}},[n("v-list-item",{staticStyle:{width:"100%"}},[n("v-list-item-avatar",{staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},[n("v-icon",[e._v(e._s(t.item.json.icon))])],1),n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v(" "+e._s(t.item.json.name)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(t.item.json.description)+" ")])],1)],1)],1)]}}]),model:{value:e.TypeId,callback:function(t){e.TypeId=t},expression:"TypeId"}})],1)],1),e.TypeIsBillable?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{attrs:{disabled:"Connected"!=e.connectionStatus,isDialogue:e.isDialogue,hint:"Select the project this entry applies to.",rules:[e.ValidateRequiredField],readonly:!e.PermCRMLabourManualEntries(),showDetails:!1},model:{value:e.ProjectId,callback:function(t){e.ProjectId=t},expression:"ProjectId"}})],1)],1):e._e(),e.TypeIsNonBillable?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{attrs:{disabled:"Connected"!=e.connectionStatus,isDialogue:e.isDialogue,hint:"Select the project this entry applies to.",rules:[],readonly:!e.PermCRMLabourManualEntries(),showDetails:!1},model:{value:e.ProjectId,callback:function(t){e.ProjectId=t},expression:"ProjectId"}})],1)],1):e._e(),(e.TypeIsBillable||e.TypeIsNonBillable)&&e.ProjectId?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("AssignmentSelectField",{attrs:{disabled:"Connected"!=e.connectionStatus,isDialogue:e.isDialogue,hint:"Select the assignment this entry applies to.",showOnlyProjectId:e.ProjectId,readonly:!e.PermCRMLabourManualEntries()},model:{value:e.AssignmentId,callback:function(t){e.AssignmentId=t},expression:"AssignmentId"}})],1)],1):e._e(),e.TypeIsException?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-select",{attrs:{disabled:"Connected"!=e.connectionStatus,items:e.AllLabourSubtypeExceptionTypes(),label:"Exception Type",hint:"Select the type of exception you're entering.",rules:[e.ValidateRequiredField],"item-text":"json.name","item-value":"id","persistent-hint":"",readonly:!e.PermCRMLabourManualEntries()},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-list",{attrs:{flat:""}},[n("v-list-item",{staticStyle:{width:"100%"}},[n("v-list-item-avatar",{staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},[n("v-icon",[e._v(e._s(t.item.json.icon))])],1),n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v(" "+e._s(t.item.json.name)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(t.item.json.description)+" ")])],1)],1)],1)]}}],null,!1,3119056314),model:{value:e.ExceptionTypeId,callback:function(t){e.ExceptionTypeId=t},expression:"ExceptionTypeId"}})],1)],1):e._e(),e.TypeIsHoliday?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-select",{attrs:{disabled:"Connected"!=e.connectionStatus,items:e.AllLabourSubtypeHolidaysTypes(),label:"Holiday Type",hint:"Select the type of holiday you're entering.",rules:[e.ValidateRequiredField],"item-text":"json.name","item-value":"id","persistent-hint":"",readonly:!e.PermCRMLabourManualEntries()},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-list",{attrs:{flat:""}},[n("v-list-item",{staticStyle:{width:"100%"}},[n("v-list-item-avatar",{staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},[n("v-icon",[e._v(e._s(t.item.json.icon))])],1),n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v(" "+e._s(t.item.json.name)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(t.item.json.description)+" ")])],1)],1)],1)]}}],null,!1,3119056314),model:{value:e.HolidayTypeId,callback:function(t){e.HolidayTypeId=t},expression:"HolidayTypeId"}})],1)],1):e._e(),e.TypeIsNonBillable?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-select",{attrs:{disabled:"Connected"!=e.connectionStatus,items:e.AllLabourSubtypeNonBillableTypes(),label:"Non Billable Type",hint:"Select the type of non billable entry you're making.",rules:[e.ValidateRequiredField],"item-text":"json.name","item-value":"id","persistent-hint":"",readonly:!e.PermCRMLabourManualEntries()},scopedSlots:e._u([{key:"item",fn:function(t){return[n("v-list",{attrs:{flat:""}},[n("v-list-item",{staticStyle:{width:"100%"}},[n("v-list-item-avatar",{staticStyle:{"margin-top":"0px","margin-bottom":"0px"}},[n("v-icon",[e._v(e._s(t.item.json.icon))])],1),n("v-list-item-content",{staticStyle:{padding:"0px"}},[n("v-list-item-title",[e._v(" "+e._s(t.item.json.name)+" ")]),n("v-list-item-subtitle",[e._v(" "+e._s(t.item.json.description)+" ")])],1)],1)],1)]}}],null,!1,3119056314),model:{value:e.NonBillableTypeId,callback:function(t){e.NonBillableTypeId=t},expression:"NonBillableTypeId"}})],1)],1):e._e(),e.TypeIsBillable||e.TypeIsNonBillable?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Location Type")])])],1):e._e(),e.TypeIsBillable||e.TypeIsNonBillable?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-radio-group",{staticStyle:{"margin-top":"0px"},attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.LocationType,callback:function(t){e.LocationType=t},expression:"LocationType"}},[n("v-radio",{staticClass:"e2e-location-type-none",attrs:{label:"None",value:"none",color:"primary"}}),n("v-radio",{staticClass:"e2e-location-type-travel",attrs:{label:"Travel",value:"travel",color:"primary"}}),n("v-radio",{staticClass:"e2e-location-type-on-site",attrs:{label:"On Site",value:"on-site",color:"primary"}}),n("v-radio",{staticClass:"e2e-location-type-remote",attrs:{label:"Remote",value:"remote",color:"primary"}})],1)],1)],1):e._e(),e.TypeIsBillable||e.TypeIsHoliday||e.TypeIsNonBillable||e.TypeIsException?n("div",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("When")])])],1),n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-radio-group",{staticStyle:{"margin-top":"0px"},attrs:{rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.TimeMode,callback:function(t){e.TimeMode=t},expression:"TimeMode"}},[n("v-radio",{staticClass:"e2e-time-mode-no-time",attrs:{label:"No Time",value:"none",color:"primary"}}),n("v-radio",{staticClass:"e2e-time-mode-date-hours",attrs:{label:"Date & Hours",value:"date-and-hours",color:"primary"}}),n("v-radio",{staticClass:"e2e-time-mode-start-stop-timestamp",attrs:{label:"Start and Stop Time",value:"start-stop-timestamp",color:"primary"}})],1)],1)],1),"date-and-hours"==e.TimeMode?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("p",[n("v-input",{attrs:{rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.StartDateLocal,callback:function(t){e.StartDateLocal=t},expression:"StartDateLocal"}},[n("v-date-picker",{staticClass:"e2e-date-and-hours-date-picker",attrs:{value:"ISO 8601",elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.StartDateLocal,callback:function(t){e.StartDateLocal=t},expression:"StartDateLocal"}})],1)],1),n("p",{staticStyle:{"margin-top":"40px"}},[n("v-slider",{attrs:{max:24,min:0,step:"0.5",label:"Hours","thumb-label":"",ticks:"",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0 e2e-hours-text-field",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number",step:"0.5",min:"0",max:"24",disabled:"Connected"!=e.connectionStatus},model:{value:e.Hours,callback:function(t){e.Hours=t},expression:"Hours"}})]},proxy:!0}],null,!1,2201680690),model:{value:e.Hours,callback:function(t){e.Hours=t},expression:"Hours"}})],1)])],1):e._e(),"start-stop-timestamp"==e.TimeMode?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Start")])])],1):e._e(),"start-stop-timestamp"==e.TimeMode?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-date-picker",{staticStyle:{margin:"5px"},attrs:{"full-width":!1,value:"ISO 8601",elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.StartDateLocal,callback:function(t){e.StartDateLocal=t},expression:"StartDateLocal"}}),n("v-time-picker",{staticStyle:{margin:"5px"},attrs:{"full-width":!1,"ampm-in-title":!0,"allowed-minutes":e.TimePicker5MinuteStep,elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.StartTimeLocal,callback:function(t){e.StartTimeLocal=t},expression:"StartTimeLocal"}})],1)],1):e._e(),"start-stop-timestamp"==e.TimeMode?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("End")])])],1):e._e(),"start-stop-timestamp"==e.TimeMode?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-date-picker",{staticStyle:{margin:"5px"},attrs:{"full-width":!1,value:"ISO 8601",elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.EndDateLocal,callback:function(t){e.EndDateLocal=t},expression:"EndDateLocal"}}),n("v-time-picker",{staticStyle:{margin:"5px"},attrs:{"full-width":!1,"ampm-in-title":!0,"allowed-minutes":e.TimePicker5MinuteStep,elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.EndTimeLocal,callback:function(t){e.EndTimeLocal=t},expression:"EndTimeLocal"}})],1)],1):e._e()],1):e._e(),e._v(" "),e.TypeIsPayOutBanked?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{label:"Pay Out Amount",prefix:"$",type:"number",step:".01",hint:"Enter the amount of banked money you wish to withdraw.",disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.BankedPayOutAmount,callback:function(t){e.BankedPayOutAmount=t},expression:"BankedPayOutAmount"}})],1)],1):e._e(),e.TypeIsBillable||e.TypeIsHoliday||e.TypeIsNonBillable||e.TypeIsException||e.TypeIsPayOutBanked?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title",staticStyle:{"font-weight":"bold"}},[e._v("Other")])])],1):e._e(),e.TypeIsBillable?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticClass:"e2e-is-extra",staticStyle:{"margin-top":"0px"},attrs:{label:"Extra (Not Included in Contract)",disabled:e.LabourForcedExtra||"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries(),hint:e.LabourForcedExtra?"Extra is locked on due to project settings.":null,"persistent-hint":e.LabourForcedExtra},model:{value:e.IsExtra,callback:function(t){e.IsExtra=t},expression:"IsExtra"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Billed (To Client)",disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.IsBilled,callback:function(t){e.IsBilled=t},expression:"IsBilled"}})],1)],1):e._e(),e.TypeIsBillable||e.TypeIsHoliday||e.TypeIsNonBillable||e.TypeIsException||e.TypeIsPayOutBanked?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Paid Out (To Agent)",disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()},model:{value:e.IsPaidOut,callback:function(t){e.IsPaidOut=t},expression:"IsPaidOut"}})],1)],1):e._e(),e.TypeIsBillable||e.TypeIsHoliday||e.TypeIsNonBillable||e.TypeIsException||e.TypeIsPayOutBanked?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-textarea",{staticClass:"e2e-notes",attrs:{label:"Notes",hint:"Other notes about this entry.",disabled:"Connected"!=e.connectionStatus},model:{value:e.Notes,callback:function(t){e.Notes=t},expression:"Notes"}})],1)],1):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this labour entry."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Labour Entry Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The labour entry no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the labour entry while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteLabourDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1):e._e()],1)},xv=[],Rv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerdiv",staticStyle:{"border-bottom":""}},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select an Assignment")]),n("v-divider"),n("v-card-text",[n("AssignmentsList",{ref:"list",attrs:{openEntryOnClick:!1,showMenuButton:!1,showOnlyProjectId:e.showOnlyProjectId,focusIsProject:!0},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Assignment")]),n("v-divider"),n("v-card-text",[n("AssignmentEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Assignment&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.AssignmentForId(e.value)?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewAssignment()}}},[e._v(" "+e._s(e.AssignmentNameForId(e.value)||"No assignment name.")+" ")]):n("div",{staticClass:"e2e-selector-or-add",staticStyle:{flex:"1","text-align":"center"},on:{click:function(t){return e.SelectNewAssignment()}}},[n("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled||e.readonly}},[e._v(" Select or Add Assignment ")])],1),e.AssignmentForId(e.value)&&!e.isDialogue?n("div",{staticClass:"d-none d-sm-flex"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{to:"/section/assignments/"+e.value+"?tab=General",color:"primary",label:"",outlined:""}},a),[e._v(" Open "),n("v-icon",{attrs:{right:"",small:""}},[e._v("open_in_new")])],1)]}}],null,!1,1627387588)},[n("span",[e._v("Open this assignment.")])])],1):e._e()])])],1)},Mv=[],Av=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e.AssignmentForId=Ze.ForId,e.AssignmentNameForId=Ze.NameForId,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=Ze.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){Ze.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Assignment",get:function(){var e=Ze.ForId(this.value);return e||null}},{key:"SelectNewAssignment",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("SelectNewAssignment()"),this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("ClearValue()"),this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenContact",value:function(){console.log("OpenContact()"),y(this.value)?console.error("can't open contact as IsNullOrEmpty(this.value)"):this.$router.push("/section/assignments/".concat(this.value,"?tab=General")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){console.debug("OnClickEntry",e),this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=Ze.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=Ze.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,Ze.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=Ze.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Assignment"})],Av.prototype,"label",void 0),Object(v["a"])([Object(p["b"])({default:null})],Av.prototype,"showOnlyProjectId",void 0),Av=Object(v["a"])([Object(p["a"])({components:{AssignmentsList:io,AssignmentEditor:Vl}})],Av);var Tv=Av;p["c"].component("AssignmentSelectField",Av);var Vv=Tv,Bv=(n("d6a5"),Object(ha["a"])(Vv,Rv,Mv,!1,null,"332ad1d5",null)),Lv=Bv.exports;ga()(Bv,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VChip:Vi["a"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var Nv=function(e,t,n){return Math.min(Math.max(e,t),n)},Ev=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.TimePicker5MinuteStep=Js,e.AllLabourTypes=_e.All,e.AllLabourSubtypeExceptionTypes=Me.All,e.AllLabourSubtypeNonBillableTypes=Fe.All,e.AllLabourSubtypeHolidaysTypes=Be.All,e.DialoguesOpen=ca.Open,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"ValidateFields",value:function(){if(this.value&&this.value.json){if(this.value.json.assignmentId){var e=Ze.ForId(this.value.json.assignmentId);e&&e.json.projectId!==this.value.json.projectId&&(this.value.json.assignmentId=null)}var t=ze.ForId(this.value.json.projectId);t&&t.json.forceLabourAsExtra&&(this.IsExtra=!0)}}},{key:"GetTabNameToIndexMap",value:function(){return{Agenda:0,agenda:0,Labour:1,labour:1,Admin:2,admin:2}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"TypeId",get:function(){return this.value&&this.value.json&&this.value.json.typeId?this.value.json.typeId:null},set:function(e){this.value&&this.value.json&&(this.value.json.typeId=y(e)?null:e,this.ValidateFields(),this.SignalChanged())}},{key:"ExceptionTypeId",get:function(){return this.value&&this.value.json&&this.value.json.exceptionTypeId?this.value.json.exceptionTypeId:null},set:function(e){this.value&&this.value.json&&(this.value.json.exceptionTypeId=y(e)?null:e,this.SignalChanged())}},{key:"HolidayTypeId",get:function(){return this.value&&this.value.json&&this.value.json.holidayTypeId?this.value.json.holidayTypeId:null},set:function(e){this.value&&this.value.json&&(this.value.json.holidayTypeId=y(e)?null:e,this.SignalChanged())}},{key:"NonBillableTypeId",get:function(){return this.value&&this.value.json&&this.value.json.nonBillableTypeId?this.value.json.nonBillableTypeId:null},set:function(e){this.value&&this.value.json&&(this.value.json.nonBillableTypeId=y(e)?null:e,this.SignalChanged())}},{key:"Hours",get:function(){return this.value&&this.value.json&&this.value.json.hours?this.value.json.hours:0},set:function(e){this.value&&this.value.json&&(e||(e=0),e=Nv(e,0,24),this.value.json.hours=e,this.SignalChanged())}},{key:"TypeIsBillable",get:function(){var e=this.TypeId;if(!e)return!1;var t=_e.ForId(e);return!!t&&t.json.isBillable}},{key:"TypeIsHoliday",get:function(){var e=this.TypeId;if(!e)return!1;var t=_e.ForId(e);return!!t&&t.json.isHoliday}},{key:"TypeIsNonBillable",get:function(){var e=this.TypeId;if(!e)return!1;var t=_e.ForId(e);return!!t&&t.json.isNonBillable}},{key:"TypeIsException",get:function(){var e=this.TypeId;if(!e)return!1;var t=_e.ForId(e);return!!t&&t.json.isException}},{key:"TypeIsPayOutBanked",get:function(){var e=this.TypeId;if(!e)return!1;var t=_e.ForId(e);return!!t&&t.json.isPayOutBanked}},{key:"TimeMode",get:function(){return this.value&&this.value.json&&this.value.json.timeMode?this.value.json.timeMode:null},set:function(e){this.value&&this.value.json&&(this.value.json.timeMode=y(e)?null:e,this.SignalChanged())}},{key:"LocationType",get:function(){return this.value&&this.value.json&&this.value.json.locationType?this.value.json.locationType:null},set:function(e){this.value&&this.value.json&&(this.value.json.locationType=y(e)?null:e,this.SignalChanged())}},{key:"StartDateLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.startISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("yyyy-MM-dd"):null},set:function(e){if(this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.startISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"yyyy-MM-dd"),s=i.set({year:o.year,month:o.month,day:o.day}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.startISO8601=t,this.SignalChanged()}}},{key:"StartTimeLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.startISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("HH:mm"):null},set:function(e){if(console.log("set StartTimeLocal",e),this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.startISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"HH:mm"),s=i.set({hour:o.hour,minute:o.minute}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.startISO8601=t,this.SignalChanged()}}},{key:"EndDateLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.endISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("yyyy-MM-dd"):null},set:function(e){if(this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.endISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"yyyy-MM-dd"),s=i.set({year:o.year,month:o.month,day:o.day}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.endISO8601=t,this.SignalChanged()}}},{key:"EndTimeLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.endISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("HH:mm"):null},set:function(e){if(console.log("set EndTimeLocal",e),this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.endISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"HH:mm"),s=i.set({hour:o.hour,minute:o.minute}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.endISO8601=t,this.SignalChanged()}}},{key:"BankedPayOutAmount",get:function(){return this.value&&this.value.json&&this.value.json.bankedPayOutAmount?this.value.json.bankedPayOutAmount:null},set:function(e){this.value&&this.value.json&&(this.value.json.bankedPayOutAmount=e,this.SignalChanged())}},{key:"AgentId",get:function(){return this.value&&this.value.json&&this.value.json.agentId?this.value.json.agentId:null},set:function(e){this.value&&this.value.json&&(this.value.json.agentId=y(e)?null:e,this.SignalChanged())}},{key:"IsExtra",get:function(){var e;return!!this.LabourForcedExtra||Ue.IsExtraForId((null===(e=this.value)||void 0===e?void 0:e.id)||null)},set:function(e){this.value&&this.value.json&&(this.value.json.isExtra=e,this.SignalChanged())}},{key:"IsBilled",get:function(){return!!(this.value&&this.value.json&&this.value.json.isBilled)&&this.value.json.isBilled},set:function(e){this.value&&this.value.json&&(this.value.json.isBilled=e,this.SignalChanged())}},{key:"IsPaidOut",get:function(){return!!(this.value&&this.value.json&&this.value.json.isPaidOut)&&this.value.json.isPaidOut},set:function(e){this.value&&this.value.json&&(this.value.json.isPaidOut=e,this.SignalChanged())}},{key:"Notes",get:function(){return this.value&&this.value.json&&this.value.json.notes?this.value.json.notes:null},set:function(e){this.value&&this.value.json&&(this.value.json.notes=e,this.SignalChanged())}},{key:"ProjectId",get:function(){return this.value&&this.value.json&&this.value.json.projectId?this.value.json.projectId:null},set:function(e){this.value&&this.value.json&&(this.value.json.projectId=y(e)?null:e,e?(this.ValidateFields(),this.SignalChanged()):this.SignalChanged())}},{key:"LabourForcedExtra",get:function(){var e=this.ProjectId;if(!e)return!1;var t=ze.ForId(e);return t&&t.json.forceLabourAsExtra||!1}},{key:"AssignmentId",get:function(){return this.value&&this.value.json&&this.value.json.assignmentId?this.value.json.assignmentId:null},set:function(e){this.value&&this.value.json&&(this.value.json.assignmentId=y(e)?null:e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],Ev.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Ev.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Ev.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Ev.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],Ev.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],Ev.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Ev.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["b"])({default:!0})],Ev.prototype,"hideTabs",void 0),Ev=Object(v["a"])([Object(p["a"])({components:{LabourList:Ro,AssignmentsList:io,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,AddMenuButton:No,AssignmentSelectField:Lv,ReloadButton:ms,NotificationBellButton:hl}})],Ev);var Fv=Ev,qv=Fv,Gv=(n("c98a"),Object(ha["a"])(qv,wv,xv,!1,null,null,null)),$v=Gv.exports;ga()(Gv,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VDatePicker:Do["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VRow:Da["a"],VSelect:Dl["a"],VSlider:_m["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VTextarea:ol["a"],VTimePicker:Al["a"],VToolbarTitle:wo["a"]});var Uv=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma;var a=Ue.GetEmpty();return a.json.isEnteredThroughTelephoneCompanyAccess=!1,e.ModelState=a,e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyLabourDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName);var e=Ue.GetEmpty();e.json.isEnteredThroughTelephoneCompanyAccess=!1,this.ModelState=e,this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.ModelState)if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,console.log("payload",t),Ue.UpdateIds(t),ca.Close(this.DialogueName);var n=Ue.GetEmpty();n.json.isEnteredThroughTelephoneCompanyAccess=!1,this.ModelState=n,this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});else console.warn("!this.ModelState")}}]),n}(da);Uv=Object(v["a"])([Object(p["a"])({components:{LabourEditor:$v}})],Uv);var Hv=Uv,Wv=Hv,Kv=Object(ha["a"])(Wv,Dv,_v,!1,null,null,null),zv=Kv.exports;ga()(Kv,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Jv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Material")]),n("v-divider"),n("v-card-text",[n("MaterialEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},Yv=[],Qv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Material")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{staticClass:"e2e-material-editor-project-select-field",attrs:{isDialogue:e.isDialogue,hint:"Select the project this entry applies to.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.ProjectId,callback:function(t){e.ProjectId=t},expression:"ProjectId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProductSelectField",{staticClass:"e2e-material-editor-product-select-field",attrs:{isDialogue:e.isDialogue,hint:"Select the product this entry applies to.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},on:{input:e.ProductIdChanged},model:{value:e.ProductId,callback:function(t){e.ProductId=t},expression:"ProductId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"4",sm:"2","offset-sm":"2"}},[n("v-text-field",{ref:"quantity",staticClass:"e2e-material-editor-quantity",attrs:{autocomplete:"newpassword",label:"Quantity",hint:"How much?",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Quantity,callback:function(t){e.Quantity=t},expression:"Quantity"}})],1),n("v-col",{attrs:{cols:"8",sm:"6"}},[n("v-text-field",{staticClass:"e2e-material-editor-quantity-unit",attrs:{autocomplete:"newpassword",label:"Unit",hint:"Feet, Meters, Units, etc...",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.QuantityUnit,callback:function(t){e.QuantityUnit=t},expression:"QuantityUnit"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-material-editor-location",attrs:{autocomplete:"newpassword",label:"Location",hint:"Where this material was used.",disabled:"Connected"!=e.connectionStatus},model:{value:e.Location,callback:function(t){e.Location=t},expression:"Location"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Date Used")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-input",{attrs:{rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.DateUsedLocal,callback:function(t){e.DateUsedLocal=t},expression:"DateUsedLocal"}},[n("v-date-picker",{staticClass:"e2e-material-editor-date-used",attrs:{value:"ISO 8601",elevation:1,disabled:"Connected"!=e.connectionStatus},model:{value:e.DateUsedLocal,callback:function(t){e.DateUsedLocal=t},expression:"DateUsedLocal"}})],1)],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title",staticStyle:{"font-weight":"bold"}},[e._v("Other")])])],1),n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticClass:"e2e-material-editor-is-extra",staticStyle:{"margin-top":"0px"},attrs:{label:"Extra (Not Included in Contract)",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsExtra,callback:function(t){e.IsExtra=t},expression:"IsExtra"}}),n("v-switch",{staticClass:"e2e-material-editor-is-billed",staticStyle:{"margin-top":"0px"},attrs:{label:"Billed (To Client)",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsBilled,callback:function(t){e.IsBilled=t},expression:"IsBilled"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-textarea",{staticClass:"e2e-material-editor-notes",attrs:{label:"Notes",hint:"Other notes about this entry.",disabled:"Connected"!=e.connectionStatus},model:{value:e.Notes,callback:function(t){e.Notes=t},expression:"Notes"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this material."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Project Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The project no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the project while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteMaterialDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},Xv=[],Zv=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"ProductIdChanged",value:function(e){if(e&&!y(e)&&(!this.QuantityUnit||y(this.QuantityUnit))){var t=xn.ForId(e);t&&t.json&&!y(t.json.quantityUnit)?this.QuantityUnit=t.json.quantityUnit:this.QuantityUnit="×"}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"ProjectId",get:function(){return this.value&&this.value.json&&this.value.json.projectId?this.value.json.projectId:null},set:function(e){this.value&&this.value.json&&(this.value.json.projectId=y(e)?null:e,this.SignalChanged())}},{key:"ProductId",get:function(){return this.value&&this.value.json&&this.value.json.productId?this.value.json.productId:null},set:function(e){this.value&&this.value.json&&(this.value.json.productId=y(e)?null:e,this.SignalChanged())}},{key:"Quantity",get:function(){return this.value&&this.value.json&&this.value.json.quantity?this.value.json.quantity:null},set:function(e){this.value&&this.value.json&&(this.value.json.quantity=e,this.SignalChanged())}},{key:"QuantityUnit",get:function(){return this.value&&this.value.json&&this.value.json.quantityUnit?this.value.json.quantityUnit:null},set:function(e){this.value&&this.value.json&&(this.value.json.quantityUnit=y(e)?null:e,this.SignalChanged())}},{key:"Location",get:function(){return this.value&&this.value.json&&this.value.json.location?this.value.json.location:null},set:function(e){this.value&&this.value.json&&(this.value.json.location=y(e)?null:e,this.SignalChanged())}},{key:"IsExtra",get:function(){return this.value&&this.value.json&&this.value.json.isExtra?this.value.json.isExtra:null},set:function(e){this.value&&this.value.json&&(this.value.json.isExtra=e,this.SignalChanged())}},{key:"Notes",get:function(){return this.value&&this.value.json&&this.value.json.notes?this.value.json.notes:null},set:function(e){this.value&&this.value.json&&(this.value.json.notes=y(e)?null:e,this.SignalChanged())}},{key:"IsBilled",get:function(){return this.value&&this.value.json&&this.value.json.isBilled?this.value.json.isBilled:null},set:function(e){this.value&&this.value.json&&(this.value.json.isBilled=e,this.SignalChanged())}},{key:"DateUsedLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.dateUsedISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("yyyy-MM-dd"):null},set:function(e){if(this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.dateUsedISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"yyyy-MM-dd"),s=i.set({year:o.year,month:o.month,day:o.day}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.dateUsedISO8601=t,this.SignalChanged()}}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],Zv.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zv.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zv.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zv.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],Zv.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],Zv.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zv.prototype,"isMakingNew",void 0),Zv=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ProductSelectField:Kd,ReloadButton:ms,NotificationBellButton:hl}})],Zv);var ep=Zv,tp=ep,np=Object(ha["a"])(tp,Qv,Xv,!1,null,"73938fb0",null),ap=np.exports;ga()(np,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VDatePicker:Do["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VTextarea:ol["a"],VToolbarTitle:wo["a"]});var ip=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=gn.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyMaterialDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=gn.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,gn.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=gn.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);ip=Object(v["a"])([Object(p["a"])({components:{MaterialEditor:ap}})],ip);var op=ip,sp=op,rp=Object(ha["a"])(sp,Jv,Yv,!1,null,null,null),lp=rp.exports;ga()(rp,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var cp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Change Password")]),n("v-divider"),n("v-card-text",[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Current Password",type:"password",hint:"",rules:[e.ValidateRequiredField]},model:{value:e.CurrentPassword,callback:function(t){e.CurrentPassword=t},expression:"CurrentPassword"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"New Password",type:"password",hint:"",rules:[e.ValidateRequiredField,e.PasswordEntropyAtLeast50]},model:{value:e.NewPassword1,callback:function(t){e.NewPassword1=t},expression:"NewPassword1"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"New Password Again",type:"password",hint:"",rules:[e.ValidateRequiredField,e.PasswordEntropyAtLeast50]},model:{value:e.NewPassword2,callback:function(t){e.NewPassword2=t},expression:"NewPassword2"}})],1)],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},up=[],dp=n("279c"),mp=n.n(dp),vp=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"Determine",value:function(t){return t?e.CalcEntropy(e.calcCharsetLength(t),t.length):0}},{key:"CalcEntropy",value:function(e,t){return Math.round(t*Math.log(e)/Math.LN2)}},{key:"calcCharsetLengthWith",value:function(e){return function(t){return e.reduce((function(e,n){return e+(n.re.test(t)?n.length:0)}),0)}}}]),e}();vp.stdCharsets=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],vp.calcCharsetLength=vp.calcCharsetLengthWith(vp.stdCharsets);var pp,fp=function(e){var t=vp.Determine(e);return!(t<50)||"Password complexity is ".concat(t,", the complexity must be at least 50.")},hp=pp=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.PasswordEntropyAtLeast50=fp,e.ValidateRequiredField=zs,e.ModelState=pp.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ChangePasswordDialogue"}},{key:"CurrentPassword",get:function(){return this.ModelState&&this.ModelState.currentPassword?this.ModelState.currentPassword:null},set:function(e){this.ModelState&&(this.ModelState.currentPassword=y(e)?null:e)}},{key:"NewPassword1",get:function(){return this.ModelState&&this.ModelState.newPassword1?this.ModelState.newPassword1:null},set:function(e){this.ModelState&&(this.ModelState.newPassword1=y(e)?null:e)}},{key:"NewPassword2",get:function(){return this.ModelState&&this.ModelState.newPassword2?this.ModelState.newPassword2:null},set:function(e){this.ModelState&&(this.ModelState.newPassword2=y(e)?null:e)}},{key:"Cancel",value:function(){console.info("Cancel"),this.$refs.generalForm.resetValidation(),ca.Close(this.DialogueName),this.ModelState=pp.GenerateEmpty()}},{key:"Save",value:function(){var e=this;console.info("Save"),p["c"].nextTick((function(){if(null==e.CurrentPassword||y(e.CurrentPassword))D.AddNotification({severity:"error",message:"The current password is blank.",autoClearInSeconds:10});else if(e.NewPassword1===e.NewPassword2)if(null==e.NewPassword1||y(e.NewPassword1)||null==e.NewPassword2||y(e.NewPassword2))D.AddNotification({severity:"error",message:"The new passwords cannot be empty.",autoClearInSeconds:10});else if(e.$refs.generalForm.validate()){var t=mp.a.genSaltSync(11),n=mp.a.hashSync(e.NewPassword1,t),a=ce.CurrentSessionId();if(a){var i=he.PerformChangeSessionPassword.Send({idempotencyToken:k(),currentPassword:e.CurrentPassword,newHash:n,sessionId:a});if(!i||!i.completeRequestPromise)return;i.completeRequestPromise.then((function(t){t.isError?D.AddNotification({severity:"error",message:t.errorMessage,autoClearInSeconds:10}):t.passwordChanged?(console.log("Change Password Success"),e.$refs.generalForm.resetValidation(),ca.Close(e.DialogueName),e.ModelState=pp.GenerateEmpty()):D.AddNotification({severity:"info",message:"No error, but not success either.",autoClearInSeconds:10})})),console.log("change password rtr ",i)}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});else D.AddNotification({severity:"error",message:"The new passwords don't match.",autoClearInSeconds:10})}))}}],[{key:"GenerateEmpty",value:function(){return{currentPassword:null,newPassword1:null,newPassword2:null}}}]),n}(da);hp=pp=Object(v["a"])([Object(p["a"])({components:{}})],hp);var bp=hp,gp=bp,yp=Object(ha["a"])(gp,cp,up,!1,null,null,null),Cp=yp.exports;ga()(yp,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VRow:Da["a"],VSpacer:_a["a"],VTextField:wa["a"]});var jp,Sp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Timer")]),n("v-divider"),n("v-card-text",{staticStyle:{"padding-top":"40px",color:"black"}},[n("p",[e._v("Are you sure that you wish to delete this timer?")])]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Delete()}}},[e._v("Delete")])],1)],1)],1)},Ip=[],Pp=jp=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=jp.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"LabourDeleteTimerDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=jp.GenerateEmpty()}},{key:"Delete",value:function(){var e=this.ModelState;if(null==e.labourId)return D.AddNotification({severity:"error",message:"An error occured while deleting this timer. Please close and re-open this dialogue. \nError: null == this.ModelState.labourId",autoClearInSeconds:10}),void console.error(e);console.log("Delete",e.labourId),Ue.DeleteIds([e.labourId]),ca.Close(this.DialogueName),this.ModelState=jp.GenerateEmpty()}}],[{key:"GenerateEmpty",value:function(){return{labourId:null}}}]),n}(da);Pp=jp=Object(v["a"])([Object(p["a"])({components:{}})],Pp);var Op=Pp,kp=Op,Dp=Object(ha["a"])(kp,Sp,Ip,!1,null,null,null),_p=Dp.exports;ga()(Dp,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var wp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Close Assignment")]),n("v-divider"),n("v-card-text",[n("v-stepper",{staticStyle:{"-webkit-box-shadow":"inherit","box-shadow":"inherit"},attrs:{vertical:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[n("v-stepper-step",{attrs:{complete:e.currentStep>1,editable:"",step:"1"}},[e._v(" Select an app "),n("small",[e._v("Summarize if needed")])]),n("v-stepper-content",{attrs:{step:"1"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=2}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1),n("v-stepper-step",{attrs:{complete:e.currentStep>2,editable:"",step:"2"}},[e._v("Configure analytics for this app")]),n("v-stepper-content",{attrs:{step:"2"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=3}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1),n("v-stepper-step",{attrs:{complete:e.currentStep>3,editable:"",step:"3"}},[e._v("Select an ad format and name ad unit")]),n("v-stepper-content",{attrs:{step:"3"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=4}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1),n("v-stepper-step",{attrs:{step:"4",editable:""}},[e._v("View setup instructions")]),n("v-stepper-content",{attrs:{step:"4"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=1}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.ResetAndClose()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.Next()}}},[e._v("Next")])],1)],1)],1)},xp=[],Rp=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.currentStep=1,e}return Object(u["a"])(n,[{key:"MaxSteps",get:function(){throw Error("not implemented")}},{key:"Next",value:function(){+this.currentStep===+this.MaxSteps?this.Finalize():this.currentStep++}},{key:"Finalize",value:function(){this.ResetAndClose()}},{key:"ResetAndClose",value:function(){ca.Close(this.DialogueName),this.currentStep=1}}]),n}(da);Rp=Object(v["a"])([Object(p["a"])({})],Rp);var Mp=Rp,Ap=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"MaxSteps",get:function(){return 4}},{key:"DialogueName",get:function(){return"CloseAssignmentDialogue"}}]),n}(Mp);Ap=Object(v["a"])([Object(p["a"])({components:{}})],Ap);var Tp=Ap,Vp=Tp,Bp=n("7e85"),Lp=n("e516"),Np=n("56a4"),Ep=Object(ha["a"])(Vp,wp,xp,!1,null,null,null),Fp=Ep.exports;ga()(Ep,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"],VStepper:Bp["a"],VStepperContent:Lp["a"],VStepperStep:Np["a"]});var qp,Gp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Complete Assignment")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(" Do you want to mark this assignment as complete and put it into Billable Review? ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.Complete()}}},[e._v("Complete")])],1)],1)],1)},$p=[],Up=qp=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=qp.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"CompleteAssignmentDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=qp.GenerateEmpty()}},{key:"Complete",value:function(){var e=F.a.cloneDeep(this.ModelState.assignment);if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$store.state.Database.assignmentStatus,n=F.a.filter(t,(function(e){return e.json.isBillableReview&&e.json.isDefault})),a=F.a.sortBy(n,(function(e){return e.json.name}));if(0!==a.length){var i=a[0];e.json.statusId=i.id||null;var o={};o[e.id]=e,Ze.UpdateIds(o),ca.Close(this.DialogueName),this.ModelState=qp.GenerateEmpty()}else D.AddNotification({severity:"error",message:"Can't mark as billable review as no status is default and has billable review set.",autoClearInSeconds:10})}else console.error("!clone.id")}}],[{key:"GenerateEmpty",value:function(){return{assignment:null}}}]),n}(da);Up=qp=Object(v["a"])([Object(p["a"])({components:{}})],Up);var Hp=Up,Wp=Hp,Kp=Object(ha["a"])(Wp,Gp,$p,!1,null,null,null),zp=Kp.exports;ga()(Kp,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Jp,Yp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Confirm Log Out")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(" Are you sure you want to log out? If you have any unsaved changes they will be lost. ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},Qp=[],Xp=Jp=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=Jp.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ConfirmLogOutDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=Jp.GenerateEmpty()}},{key:"Confirm",value:function(){this.DestroySession(),ca.Close(this.DialogueName),this.ModelState=Jp.GenerateEmpty()}}],[{key:"GenerateEmpty",value:function(){return{}}}]),n}(da);Xp=Jp=Object(v["a"])([Object(p["a"])({components:{},methods:Object(Di["a"])({},Object(C["b"])(["DestroySession"]))})],Xp);var Zp=Xp,ef=Zp,tf=Object(ha["a"])(ef,Yp,Qp,!1,null,null,null),nf=tf.exports;ga()(tf,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var af=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Assignment")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.Assignment?n("span",[e._v(e._s(e.AssignmentDescription))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-assignment-dialogue-confirm",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},of=[],sf=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),rf=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=sf.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteAssignmentDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=sf.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;e.id&&Ze.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=sf.GetEmpty(),t&&this.$router.push("/section/assignments/index?tab=Open%20%26%20Assigned").catch((function(e){}))}},{key:"Assignment",get:function(){var e=this.ModelState,t=e.id;if(!e.id)return null;var n=Ze.ForId(t);return n}},{key:"AssignmentDescription",get:function(){var e=this.ModelState,t=e.id;return e.id?Ze.LocationDescriptionForId(t):null}}],[{key:"GenerateEmpty",value:function(){return sf.GetEmpty()}}]),n}(da);rf=Object(v["a"])([Object(p["a"])({components:{}})],rf);var lf=rf,cf=lf,uf=Object(ha["a"])(cf,af,of,!1,null,null,null),df=uf.exports;ga()(uf,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var mf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Company")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.Company?n("span",[e._v(e._s(e.Company.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},vf=[],pf=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),ff=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=pf.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteCompanyDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=pf.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),tn.DeleteIds([this.ModelState.id]),ca.Close(this.DialogueName),this.ModelState=pf.GetEmpty(),t&&this.$router.push("/section/companies").catch((function(e){}))}},{key:"Company",get:function(){var e=this.ModelState,t=e.id;if(!e.id)return null;var n=tn.ForId(t);return n}}],[{key:"GenerateEmpty",value:function(){return pf.GetEmpty()}}]),n}(da);ff=Object(v["a"])([Object(p["a"])({components:{}})],ff);var hf=ff,bf=hf,gf=Object(ha["a"])(bf,mf,vf,!1,null,null,null),yf=gf.exports;ga()(gf,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Cf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Labour")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.LabourDescription?n("span",[e._v(e._s(e.LabourDescription))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},jf=[],Sf=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),If=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=Sf.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteLabourDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=Sf.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),t&&this.$router.push("/section/labour/").catch((function(e){})),e.id&&Ue.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=Sf.GetEmpty()}},{key:"Labour",get:function(){var e=this.ModelState;return e.id?Ue.ForId(e.id):null}},{key:"LabourDescription",get:function(){var e=this.ModelState,t=e.id;return e.id?Ue.DescriptionForId(t):null}}],[{key:"GenerateEmpty",value:function(){return Sf.GetEmpty()}}]),n}(da);If=Object(v["a"])([Object(p["a"])({components:{}})],If);var Pf=If,Of=Pf,kf=Object(ha["a"])(Of,Cf,jf,!1,null,null,null),Df=kf.exports;ga()(kf,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var _f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Material")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.MaterialDescription?n("span",[e._v(e._s(e.MaterialDescription))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-material-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},wf=[],xf=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=sf.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteMaterialDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=sf.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&gn.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=sf.GetEmpty(),t&&this.$router.push("/section/material-entries/").catch((function(e){}))}},{key:"Material",get:function(){var e=this.ModelState;return e.id?gn.ForId(e.id):null}},{key:"MaterialDescription",get:function(){var e=this.Material;if(!e)return null;var t=e.json.productId;if(!t)return null;var n=xn.ForId(t);return n?"".concat(e.json.quantity," ").concat(e.json.quantityUnit," ").concat(n.json.name):null}}],[{key:"GenerateEmpty",value:function(){return sf.GetEmpty()}}]),n}(da);xf=Object(v["a"])([Object(p["a"])({components:{}})],xf);var Rf=xf,Mf=Rf,Af=Object(ha["a"])(Mf,_f,wf,!1,null,null,null),Tf=Af.exports;ga()(Af,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Vf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Address Book Contact")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.Contact?n("span",[e._v(e._s(e.Contact.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},Bf=[],Lf=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null,deleteProjectMaterialsAsWell:!1,deleteProjectNotesAsWell:!1,deleteProjectLabourAsWell:!1,deleteProjectAssignmentsAsWell:!1};return e}}]),e}(),Nf=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=Lf.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteContactDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=Lf.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;e.id&&(un.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=Lf.GetEmpty(),t&&this.$router.push("/section/contacts/").catch((function(e){})))}},{key:"Contact",get:function(){var e=this.ModelState,t=e.id;if(!e.id)return null;var n=un.ForId(t);return n}}],[{key:"GenerateEmpty",value:function(){return Lf.GetEmpty()}}]),n}(da);Nf=Object(v["a"])([Object(p["a"])({components:{}})],Nf);var Ef=Nf,Ff=Ef,qf=Object(ha["a"])(Ff,Vf,Bf,!1,null,null,null),Gf=qf.exports;ga()(qf,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var $f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Project")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.ProjectDescription?n("span",[e._v(e._s(e.ProjectDescription))]):e._e(),e._v('"? ')]),n("v-card-text",{staticStyle:{color:"black"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Delete this Project's Materials"},model:{value:e.DeleteProjectMaterialsAsWell,callback:function(t){e.DeleteProjectMaterialsAsWell=t},expression:"DeleteProjectMaterialsAsWell"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Delete this Project's Notes"},model:{value:e.DeleteProjectNotesAsWell,callback:function(t){e.DeleteProjectNotesAsWell=t},expression:"DeleteProjectNotesAsWell"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Delete this Project's Labour"},model:{value:e.DeleteProjectLabourAsWell,callback:function(t){e.DeleteProjectLabourAsWell=t},expression:"DeleteProjectLabourAsWell"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Delete this Project's Assignments"},model:{value:e.DeleteProjectAssignmentsAsWell,callback:function(t){e.DeleteProjectAssignmentsAsWell=t},expression:"DeleteProjectAssignmentsAsWell"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-project-dialogue-confirm",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},Uf=[],Hf=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),Wf=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=Hf.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteProjectDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=Hf.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;if(console.log("confirm",this.ModelState),e.id){if(e.deleteProjectMaterialsAsWell){var n,a=[],i=gn.ForProjectIds([e.id]),o=Object(G["a"])(i);try{for(o.s();!(n=o.n()).done;){var s=n.value;s.id&&!y(s.id)&&a.push(s.id)}}catch(I){o.e(I)}finally{o.f()}gn.DeleteIds(a)}if(e.deleteProjectNotesAsWell){var r,l=[],c=Sn.ForProjectIds([e.id]),u=Object(G["a"])(c);try{for(u.s();!(r=u.n()).done;){var d=r.value;d.id&&!y(d.id)&&l.push(d.id)}}catch(I){u.e(I)}finally{u.f()}Sn.DeleteIds(l)}if(e.deleteProjectLabourAsWell){var m,v=[],p=Ue.ForProjectIds([e.id]),f=Object(G["a"])(p);try{for(f.s();!(m=f.n()).done;){var h=m.value;h.id&&!y(h.id)&&v.push(h.id)}}catch(I){f.e(I)}finally{f.f()}Ue.DeleteIds(v)}if(e.deleteProjectAssignmentsAsWell){var b,g=[],C=Ze.ForProjectIds([e.id]),j=Object(G["a"])(C);try{for(j.s();!(b=j.n()).done;){var S=b.value;S.id&&!y(S.id)&&g.push(S.id)}}catch(I){j.e(I)}finally{j.f()}Ze.DeleteIds(g)}ze.DeleteIds([e.id])}ca.Close(this.DialogueName),this.ModelState=Hf.GetEmpty(),t&&this.$router.push("/section/projects").catch((function(e){}))}},{key:"DeleteProjectMaterialsAsWell",get:function(){var e=this.ModelState;return e.deleteProjectMaterialsAsWell},set:function(e){var t=this.ModelState;t.deleteProjectMaterialsAsWell=e,this.ModelState=t}},{key:"DeleteProjectNotesAsWell",get:function(){var e=this.ModelState;return e.deleteProjectNotesAsWell},set:function(e){var t=this.ModelState;t.deleteProjectNotesAsWell=e,this.ModelState=t}},{key:"DeleteProjectLabourAsWell",get:function(){var e=this.ModelState;return e.deleteProjectLabourAsWell},set:function(e){var t=this.ModelState;t.deleteProjectLabourAsWell=e,this.ModelState=t}},{key:"DeleteProjectAssignmentsAsWell",get:function(){var e=this.ModelState;return e.deleteProjectAssignmentsAsWell},set:function(e){var t=this.ModelState;t.deleteProjectAssignmentsAsWell=e,this.ModelState=t}},{key:"Project",get:function(){var e=this.ModelState;return e.id?ze.ForId(e.id):null}},{key:"ProjectDescription",get:function(){var e=this.ModelState;return e.id?ze.CombinedDescriptionForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return Hf.GetEmpty()}}]),n}(da);Wf=Object(v["a"])([Object(p["a"])({components:{}})],Wf);var Kf=Wf,zf=Kf,Jf=Object(ha["a"])(zf,$f,Uf,!1,null,null,null),Yf=Jf.exports;ga()(Jf,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"],VSwitch:il["a"]});var Qf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Merge Projects")]),n("v-divider"),n("v-card-text",[n("v-alert",{staticStyle:{"margin-top":"20px"},attrs:{outlined:"",type:"warning",elevation:"0"}},[e._v(" It would not be a bad idea to take a backup in Settings before merging projects. ")]),n("v-stepper",{staticStyle:{"-webkit-box-shadow":"inherit","box-shadow":"inherit"},attrs:{vertical:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[n("v-stepper-step",{staticClass:"e2e-merge-dialogue-step-1",attrs:{complete:e.ProjectIDsValidates,editable:"",step:"1"}},[e._v(" Select the projects to merge. "),n("small",[e._v("Select as many as required.")])]),n("v-stepper-content",{attrs:{step:"1"}},[n("ProjectSelectFieldArrayAdapter",{staticClass:"e2e-merge-projects-select-field-adapter",attrs:{showDetails:!1,isDialogue:!0},model:{value:e.ProjectIDs,callback:function(t){e.ProjectIDs=t},expression:"ProjectIDs"}})],1),n("v-stepper-step",{staticClass:"e2e-merge-dialogue-step-2",attrs:{complete:e.SelectedName!=e.NULL_SENTINEL,editable:"",step:"2"}},[e._v(" Choose a project name. ")]),n("v-stepper-content",{attrs:{step:"2"}},[e.AreThereProjectsSelected?e._e():n("v-alert",{attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" No projects selected above. ")]),e.AreThereProjectsSelected&&0===e.ProjectNames.length?n("v-alert",{attrs:{outlined:"",type:"warning",elevation:"0"}},[e._v(" No names on any of the selected projects. ")]):e._e(),e.AreThereProjectsSelected?n("v-radio-group",{model:{value:e.SelectedName,callback:function(t){e.SelectedName=t},expression:"SelectedName"}},[n("v-radio",{attrs:{label:"No name selected.",value:e.NULL_SENTINEL}}),e._l(e.ProjectNames,(function(e,t){return n("v-radio",{key:t,attrs:{label:e,value:e}})}))],2):e._e()],1),n("v-stepper-step",{staticClass:"e2e-merge-dialogue-step-3",attrs:{complete:e.SelectedParent!=e.NULL_SENTINEL,editable:"",step:"3"}},[e._v(" Choose a parent project. ")]),n("v-stepper-content",{attrs:{step:"3"}},[e.AreThereProjectsSelected?e._e():n("v-alert",{attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" No projects selected above. ")]),e.AreThereProjectsSelected?n("v-radio-group",{model:{value:e.SelectedParent,callback:function(t){e.SelectedParent=t},expression:"SelectedParent"}},[n("v-radio",{attrs:{label:"No parent project selected.",value:e.NULL_SENTINEL}}),e._l(e.ParentProjects,(function(t,a){return n("v-radio",{key:a,attrs:{label:e.ProjectCombinedDescriptionForId(t.id),value:t.id}})}))],2):e._e(),e.AreThereProjectsSelected&&0===e.ParentProjects.length?n("v-alert",{attrs:{outlined:"",type:"warning",elevation:"0"}},[e._v(" No parent projects on any of the selected projects. ")]):e._e()],1),n("v-stepper-step",{staticClass:"e2e-merge-dialogue-step-4",attrs:{complete:e.SelectedStatus!=e.NULL_SENTINEL,editable:"",step:"4"}},[e._v(" Choose a status. ")]),n("v-stepper-content",{attrs:{step:"4"}},[e.AreThereProjectsSelected?e._e():n("v-alert",{attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" No projects selected above. ")]),e.AreThereProjectsSelected?n("v-radio-group",{model:{value:e.SelectedStatus,callback:function(t){e.SelectedStatus=t},expression:"SelectedStatus"}},[n("v-radio",{attrs:{label:"No status selected.",value:e.NULL_SENTINEL}}),e._l(e.Statuses,(function(e,t){return n("v-radio",{key:t,attrs:{label:e.name,value:e.id}})}))],2):e._e(),e.AreThereProjectsSelected&&0===e.Statuses.length?n("v-alert",{attrs:{outlined:"",type:"warning",elevation:"0"}},[e._v(" No status on any of the selected projects. ")]):e._e()],1),n("v-stepper-step",{staticClass:"e2e-merge-dialogue-step-5",attrs:{step:"5",editable:"",complete:e.SelectedSchedule!=e.NULL_SENTINEL}},[e._v(" Choose a schedule. ")]),n("v-stepper-content",{attrs:{step:"5"}},[e.AreThereProjectsSelected?e._e():n("v-alert",{attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" No projects selected above. ")]),e.AreThereProjectsSelected?n("v-radio-group",{model:{value:e.SelectedSchedule,callback:function(t){e.SelectedSchedule=t},expression:"SelectedSchedule"}},[n("v-radio",{attrs:{label:"No schedule selected.",value:e.NULL_SENTINEL}}),e._l(e.Schedules,(function(e,t){return n("v-radio",{key:t,attrs:{label:"Start: "+e.startDescription+" End: "+e.endDescription,value:e.fromProject}})}))],2):e._e()],1),n("v-stepper-step",{staticClass:"e2e-merge-dialogue-step-6",attrs:{step:"6",editable:"",complete:e.currentStep>6}},[e._v(" Project Settings ")]),n("v-stepper-content",{attrs:{step:"6"}},[n("p",[e._v(" These settings are decided for you so that they don't change anything. If you want to change them, you can do so in the project after it is merged. ")]),n("v-switch",{attrs:{label:"Force labour to be extra.",disabled:!0},model:{value:e.ComputedForceLabourAsExtra,callback:function(t){e.ComputedForceLabourAsExtra=t},expression:"ComputedForceLabourAsExtra"}}),n("v-switch",{attrs:{label:"Force assignments to use project schedule.",disabled:!0},model:{value:e.ComputedForceAssignmentsToUseProjectSchedule,callback:function(t){e.ComputedForceAssignmentsToUseProjectSchedule=t},expression:"ComputedForceAssignmentsToUseProjectSchedule"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.ResetAndClose()}}},[e._v(" Close ")]),n("v-btn",{staticClass:"e2e-merge-projects-dialogue-next-button",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.Next()}}},[e._v(" Next ")])],1)],1)],1)},Xf=[],Zf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("ProjectSelectField",{key:a,attrs:{showDetails:e.showDetails,excludeIds:e.value,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()}},scopedSlots:e._u([{key:"custom-menu-options",fn:function(){return[n("v-divider"),n("v-list-item",{attrs:{disabled:0===a||e.disabled||e.readonly},on:{click:function(t){return e.OnMoveUp(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:a===e.value.length-1||e.disabled||e.readonly},on:{click:function(t){return e.OnMoveDown(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(a+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnRemoveRowAtIndex(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)]},proxy:!0}],null,!0),model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-btn",{attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Project ")],1)],2)},eh=[],th=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerdiv"},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select a Project")]),n("v-divider"),n("v-card-text",[n("ProjectList",{ref:"list",staticClass:"e2e-project-select-list",attrs:{openEntryOnClick:!1,showMenuButton:!1,excludeIds:e.excludeIds},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Project")]),n("v-divider"),n("v-card-text",[n("ProjectEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Project&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.Project?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewProject()}}},[e._v(" "+e._s(e.ProjectCombinedDescriptionForId(e.Project.id)||e.Project.id)+" ")]):n("div",{staticClass:"e2e-project-select-field-select-or-add-project",staticStyle:{flex:"1","text-align":"center"},on:{click:function(t){return e.SelectNewProject()}}},[n("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled||e.readonly}},[e._v(" Select or Add Project ")])],1),e.Project&&!e.isDialogue?n("div",{staticClass:"d-none d-sm-flex"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{to:"/section/projects/"+e.value+"?tab=General",color:"primary",label:"",outlined:""}},a),[e._v(" Open "),n("v-icon",{attrs:{right:"",small:""}},[e._v("open_in_new")])],1)]}}],null,!1,2815020962)},[n("span",[e._v("Open this project.")])])],1):e._e()])]),e.ShowDetails&&e.Project?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("General Information")]),n("table",[e.ProjectNameForId(e.Project.id)?n("tr",[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[e._v("Name:")]),n("td",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.ProjectNameForId(e.Project.id))+" ")])]):e._e(),e.Project.json.parentId?n("tr",[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[e._v("Parent:")]),n("td",{staticStyle:{"font-size":"14px"}},[n("router-link",{staticStyle:{"font-size":"14px"},attrs:{to:"/section/projects/"+e.Project.json.parentId+"?tab=General"}},[e._v(" "+e._s(e.ParentProjectName)+" ")])],1)]):e._e(),e.ProjectStatus?n("tr",[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[e._v("Status:")]),n("td",{staticStyle:{"font-size":"14px"}},[e._v(e._s(e.ProjectStatus.json.name))])]):e._e(),e.Project.lastModifiedISO8601?n("tr",[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[e._v("Modified:")]),n("td",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.ProjectLastModifiedLocalDisplay)+" "),e.ProjectLastModifiedWho?n("span",[e._v(" by "+e._s(e.ProjectLastModifiedWho.fullName))]):e._e()])]):e._e()])]):e._e(),e.ShowDetails&&e.Project&&e.Project.json.addresses&&e.Project.json.addresses.length>0?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Addresses")]),n("table",e._l(e.Project.json.addresses,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("a",{attrs:{href:"https://www.google.com/maps/dir/current+location/"+t.value.replace(/[\r\n\x0B\x0C\u0085\u2028\u2029\/]+/g," "),target:"_blank"}},[e._v(e._s(t.value))])])])})),0)]):e._e(),e.ShowDetails&&e.Project&&e.Project.json.companies&&e.Project.json.companies.length>0?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Companies")]),n("table",e._l(e.Project.json.companies,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("router-link",{attrs:{to:"/section/companies/"+t.value}},[e._v(" "+e._s(e.CompanyNameForId(t.value))+" ")])],1)])})),0)]):e._e(),e.ShowDetails&&e.Project&&e.Project.json.contacts&&e.Project.json.contacts.length>0?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Contacts")]),n("table",e._l(e.Project.json.contacts,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("router-link",{attrs:{to:"/section/contacts/"+t.value}},[e._v(" "+e._s(e.ContactNameForId(t.value))+" ")])],1)])})),0)]):e._e(),e.ShowDetails&&e.Project&&(e.Project.json.hasStartISO8601||e.Project.json.hasEndISO8601)&&("none"!==e.Project.json.startTimeMode||"none"!==e.Project.json.endTimeMode)?n("div",[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Schedule")]),e.Project.json.startISO8601?n("tr",[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[e._v("Start Date & Time:")]),n("td",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.ProjectStartScheduleDescriptionForId(e.Project.id))+" ")])]):e._e(),e.Project.json.endISO8601?n("tr",[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[e._v("End Date & Time:")]),n("td",{staticStyle:{"font-size":"14px"}},[e._v(" "+e._s(e.ProjectEndScheduleDescriptionForId(e.Project.id))+" ")])]):e._e()]):e._e()],1)},nh=[],ah=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Schedule"})}).catch((function(e){}))}}},[e._v(" Schedule ")]),n("v-tab",{attrs:{disabled:!e.value||!e.PermProjectNotesCanRequest()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Notes"})}).catch((function(e){}))}}},[e._v(" Notes ")]),n("v-tab",{attrs:{disabled:!e.value||!e.PermAssignmentCanRequest()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Assignments"})}).catch((function(e){}))}}},[e._v(" Assignments ")]),n("v-tab",{attrs:{disabled:!e.value||!e.PermMaterialsCanRequest()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Materials"})}).catch((function(e){}))}}},[e._v(" Materials ")]),n("v-tab",{attrs:{disabled:!e.value||!e.PermLabourCanRequest()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Labour"})}).catch((function(e){}))}}},[e._v(" Labour ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Settings"})}).catch((function(e){}))}}},[e._v(" Settings ")])],1)]},proxy:!0}],null,!1,2636831801)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Project")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Project Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportProjectsPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportProjectsCSV()},on:{click:function(t){return e.CSVDownloadProject(e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")]),n("v-tab",{staticClass:"e2e-project-editor-in-page-tab-schedule"},[e._v(" Schedule ")]),n("v-tab",{attrs:{disabled:e.isMakingNew||!e.PermProjectNotesCanRequest()}},[e._v(" Notes ")]),n("v-tab",{attrs:{disabled:e.isMakingNew||!e.PermAssignmentCanRequest()}},[e._v(" Assignments ")]),n("v-tab",{attrs:{disabled:e.isMakingNew||!e.PermMaterialsCanRequest()}},[e._v(" Materials ")]),n("v-tab",{attrs:{disabled:e.isMakingNew||!e.PermLabourCanRequest()}},[e._v(" Labour ")]),n("v-tab",[e._v(" Settings ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-project-editor-name",attrs:{autocomplete:"newpassword",label:"Project Name",hint:"A descriptive name for the this project.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectsCanPush()},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-select",{staticClass:"e2e-project-editor-status",attrs:{label:"Status","auto-select-first":"",hint:"What status this project is in.",items:e.StatusItems,"item-value":"id","item-text":"json.name",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectsCanPush()},model:{value:e.StatusId,callback:function(t){e.StatusId=t},expression:"StatusId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Last Activity",hint:"The last time this project was modified.",value:"July 24, 2019, 7:18 PM CDT",readonly:"",disabled:"Connected"!=e.connectionStatus},model:{value:e.LastModified,callback:function(t){e.LastModified=t},expression:"LastModified"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Other Projects")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{attrs:{isDialogue:e.isDialogue,label:"Parent Project",excludeIds:e.value?[e.value.id]:[],showDetails:!1,disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectsCanPush()},model:{value:e.ParentId,callback:function(t){e.ParentId=t},expression:"ParentId"}})],1)],1),e.isMakingNew?e._e():n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Child Projects")]),n("ProjectList",{attrs:{showFilter:!1,showOnlyChildrenOfProjectId:e.$route.params.id,isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Address")])])],1),e.ParentProject&&e.ParentProjectAddresesRecursive&&e.ParentProjectAddresesRecursive.length>0?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold","font-size":"14px"}},[e._v("From Parent Projects:")]),n("table",e._l(e.ParentProjectAddresesRecursive,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("a",{attrs:{href:"https://www.google.com/maps/dir/current+location/"+t.value.replace(/[\r\n\x0B\x0C\u0085\u2028\u2029\/]+/g," "),target:"_blank"}},[e._v(e._s(t.value))])])])})),0)])],1):e._e(),n("AddressEditRowArrayAdapter",{attrs:{disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectsCanPush()},model:{value:e.Addresses,callback:function(t){e.Addresses=t},expression:"Addresses"}}),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Companies")])])],1),e.ParentProject&&e.ParentProjectCompaniesRecursive&&e.ParentProjectCompaniesRecursive.length>0?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold","font-size":"14px"}},[e._v("From Parent Projects:")]),n("table",e._l(e.ParentProjectCompaniesRecursive,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("router-link",{attrs:{to:"/section/companies/"+t.value}},[e._v(" "+e._s(e.CompanyNameForId(t.value))+" ")])],1)])})),0)])],1):e._e(),n("LabeledCompanyEditRowArrayAdapter",{attrs:{disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectsCanPush()},model:{value:e.Companies,callback:function(t){e.Companies=t},expression:"Companies"}}),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Contacts")])])],1),e.ParentProject&&e.ParentProjectContactsRecursive&&e.ParentProjectContactsRecursive.length>0?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold","font-size":"14px"}},[e._v("From Parent Projects:")]),n("table",e._l(e.ParentProjectContactsRecursive,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[e._v(e._s(t.label)+":")]),n("td",{staticStyle:{"font-size":"14px"}},[n("router-link",{attrs:{to:"/section/contacts/"+t.value}},[e._v(" "+e._s(e.ContactNameForId(t.value))+" ")])],1)])})),0)])],1):e._e(),n("LabeledContactEditRowArrayAdapter",{attrs:{disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectsCanPush()},model:{value:e.Contacts,callback:function(t){e.Contacts=t},expression:"Contacts"}}),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this project."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"scheduleForm"},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e.ForceAssignmentsToUseProjectSchedule?n("v-alert",{staticStyle:{"padding-bottom":"10px"},attrs:{border:"top","colored-border":"",elevation:"2",type:"info"}},[e._v(" Assignments on this project will be changed as well. If you don't want this, you can change this in the settings tab above. ")]):e._e(),e.ProjectChildProjectsOfId(e.value.id).length>0?n("v-alert",{staticStyle:{"padding-bottom":"10px"},attrs:{border:"top","colored-border":"",elevation:"2",type:"info"}},[e._v(" This tab doesn't show child project schedules. ")]):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Start")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Date")]),n("v-switch",{staticClass:"e2e-project-schedule-has-start",attrs:{label:"Scheduled Start",disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.HasStartISO8601,callback:function(t){e.HasStartISO8601=t},expression:"HasStartISO8601"}}),e.HasStartISO8601?n("div",[n("p",[n("v-date-picker",{staticClass:"e2e-date-picker-start",attrs:{elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.StartDateLocal,callback:function(t){e.StartDateLocal=t},expression:"StartDateLocal"}})],1),n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Time")]),n("v-radio-group",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.StartTimeMode,callback:function(t){e.StartTimeMode=t},expression:"StartTimeMode"}},[n("v-radio",{key:"none",attrs:{label:"No Time",value:"none"}}),n("v-radio",{key:"morning-first-thing",attrs:{label:"Morning First Thing",value:"morning-first-thing"}}),n("v-radio",{key:"morning-second-thing",attrs:{label:"Morning Second Thing",value:"morning-second-thing"}}),n("v-radio",{key:"afternoon-first-thing",attrs:{label:"Afternoon First Thing",value:"afternoon-first-thing"}}),n("v-radio",{key:"afternoon-second-thing",attrs:{label:"Afternoon Second Thing",value:"afternoon-second-thing"}}),n("v-radio",{key:"time",attrs:{label:"Specific Time",value:"time"}})],1),"time"==e.StartTimeMode?n("p",[n("v-time-picker",{attrs:{"ampm-in-title":!0,"allowed-minutes":e.TimePicker5MinuteStep,elevation:1,disabled:"Connected"!=e.connectionStatus,readonly:!e.PermProjectsCanPush()},model:{value:e.StartTimeLocal,callback:function(t){e.StartTimeLocal=t},expression:"StartTimeLocal"}})],1):e._e()],1):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title",staticStyle:{"font-weight":"bold"}},[e._v("End")]),n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Date")]),n("v-switch",{staticClass:"e2e-project-schedule-has-end",attrs:{label:"Scheduled End",disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.HasEndISO8601,callback:function(t){e.HasEndISO8601=t},expression:"HasEndISO8601"}}),e.HasEndISO8601?n("div",[n("p",[n("v-date-picker",{staticClass:"e2e-date-picker-end",attrs:{elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.EndDateLocal,callback:function(t){e.EndDateLocal=t},expression:"EndDateLocal"}})],1),n("v-radio-group",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.EndTimeMode,callback:function(t){e.EndTimeMode=t},expression:"EndTimeMode"}},[n("v-radio",{key:"none",attrs:{label:"No Time",value:"none"}}),n("v-radio",{key:"time",attrs:{label:"Specific Time",value:"time"}})],1),"time"==e.EndTimeMode?n("p",[n("v-time-picker",{attrs:{"ampm-in-title":!0,"allowed-minutes":e.TimePicker5MinuteStep,elevation:1,disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.EndTimeLocal,callback:function(t){e.EndTimeLocal=t},expression:"EndTimeLocal"}})],1):e._e()],1):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",[n("v-btn",{attrs:{disabled:0==e.ProjectChildProjectsOfId(e.value.id).length||"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},on:{click:e.PushScheduleToChildren}},[e._v(" Push Schedule to Children ")])],1)])],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("NoteList",{attrs:{showAddQuickNote:!0,showOnlyProjectId:e.$route.params.id,showChildrenOfProjectIdAsWell:!0,dense:!1,isDialogue:e.isDialogue,rootProject:e.value,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("AssignmentsList",{attrs:{showOnlyProjectId:e.$route.params.id,showChildrenOfProjectIdAsWell:!0,focusIsAgent:!0,isDialogue:e.isDialogue,rootProject:e.value,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("MaterialsList",{attrs:{showOnlyProjectId:e.$route.params.id,showChildrenOfProjectIdAsWell:!0,prefillProjectId:e.$route.params.id,isDialogue:e.isDialogue,openEntryOnClick:!1,rootProject:e.value,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()},on:{click:e.StartTravel}},[n("v-icon",{attrs:{left:""}},[e._v("commute")]),e._v(" Start Travel ")],1),n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()},on:{click:e.StartOnSite}},[n("v-icon",{attrs:{left:""}},[e._v("build")]),e._v(" Start On-Site ")],1),n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()},on:{click:e.StartRemote}},[n("v-icon",{attrs:{left:""}},[e._v("business")]),e._v(" Start Remote ")],1),n("v-btn",{attrs:{color:"primary",text:"",disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPushSelf()||!e.PermCRMLabourManualEntries()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{projectId:e.$route.params.id,agentId:e.CurrentDPAgentId(),typeId:e.LabourTypeDefaultBillableTypeId()}}})}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Manual Entry ")],1)],1)],1)],1),n("LabourList",{attrs:{showOnlyProjectId:e.$route.params.id,showChildrenOfProjectIdAsWell:!0,prefillProjectId:e.$route.params.id,focusIsAgent:"true",openEntryOnClick:!1,isReverseSort:!0,isDialogue:e.isDialogue,rootProject:e.value,disabled:"Connected"!=e.connectionStatus}})],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"settingsForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e.ProjectChildProjectsOfId(e.value.id).length>0?n("v-alert",{staticStyle:{"padding-bottom":"10px"},attrs:{border:"top","colored-border":"",elevation:"2",type:"info"}},[e._v(" This tab does not show any settings from child projects. ")]):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Project Wide Settings")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Labour")]),n("v-switch",{attrs:{label:"Force Labour to be Extra",hint:"If you turn this on from off, all existing labour on this project will be marked as extra! Be sure you want to do this.","persistent-hint":!0,disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.ForceLabourAsExtra,callback:function(t){e.ForceLabourAsExtra=t},expression:"ForceLabourAsExtra"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Assignments")]),n("v-switch",{attrs:{label:"Force Assignments to Use Project Schedule",hint:"If you turn this on from off, all existing assignments on this project will switch to the project schedule! Be sure you want to do this.","persistent-hint":!0,disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},model:{value:e.ForceAssignmentsToUseProjectSchedule,callback:function(t){e.ForceAssignmentsToUseProjectSchedule=t},expression:"ForceAssignmentsToUseProjectSchedule"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Project Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The project no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the project while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-btn",{attrs:{color:"white",text:"",rounded:"",disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermProjectsCanDelete()},on:{click:function(t){return e.DialoguesOpen({name:"DeleteProjectDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1),n("v-spacer"),n("AddMenuButton",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectNotesCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"AddProjectNoteDialogue",state:{json:{projectId:e.$route.params.id}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("note_add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Note…")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Assignment…")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermMaterialsCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyMaterialDialogue",state:{json:{projectId:e.$route.params.id}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_grocery_store")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Material…")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPush()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{projectId:e.$route.params.id,agentId:e.CurrentDPAgentId(),typeId:e.LabourTypeDefaultBillableTypeId()}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Labour…")])],1)],1)],1)],1):e._e()],1)},ih=[],oh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("LabeledCompanyEditRow",{key:t.id,attrs:{hideLabel:e.hideLabel,index:a,reducePadding:e.reducePadding,isFirstIndex:0===a,isLastIndex:a===e.value.length-1,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()},InsertNewRowAtIndex:e.OnInsertNewRowAtIndex,RemoveRowAtIndex:e.OnRemoveRowAtIndex,MoveUp:e.OnMoveUp,MoveDown:e.OnMoveDown},model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":e.hideLabel?0:2}},[n("v-btn",{attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Company ")],1)],1)],1)],2)},sh=[],rh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[e.hideLabel?e._e():n("v-col",{attrs:{cols:"4",sm:e.reducePadding?3:2,"offset-sm":e.reducePadding?0:2}},[n("v-combobox",{attrs:{label:"Label","auto-select-first":"",hint:"Role for this project.",items:["Unspecified","General Contractor","Electrical","Plumbing","Mechanical"],disabled:e.disabled,readonly:e.readonly},model:{value:e.Label,callback:function(t){e.Label=t},expression:"Label"}})],1),n("v-col",{attrs:{cols:e.hideLabel?12:8,sm:e.hideLabel?12:e.reducePadding?9:6}},[n("CompanySelectField",{attrs:{showCompanyContactsBelow:!0,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"custom-menu-options",fn:function(){return[n("v-divider"),n("v-list-item",{attrs:{disabled:e.isFirstIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveUp",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:e.isLastIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveDown",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("RemoveRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)]},proxy:!0}]),model:{value:e.Value,callback:function(t){e.Value=t},expression:"Value"}})],1)],1)},lh=[],ch=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{outerdiv:!0}},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select a Company")]),n("v-divider"),n("v-card-text",[n("CompanyList",{ref:"list",staticClass:"e2e-company-select-list",attrs:{showMenuButton:!1,openEntryOnClick:!1},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Agent")]),n("v-divider"),n("v-card-text",[n("CompanyEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"Admin",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenCompany()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewCompany()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Company&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.CompanyForId(e.value)?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewCompany()}}},[e._v(" "+e._s(e.CompanyNameForId(e.value)||"Empty company name.")+" ")]):n("div",{staticClass:"e2e-company-select-field-select-or-add-company",staticStyle:{flex:"1","text-align":"center"},on:{click:function(t){return e.SelectNewCompany()}}},[n("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled||e.readonly}},[e._v(" Select or Add Company ")])],1),e.CompanyForId(e.value)&&!e.isDialogue?n("div",{staticClass:"d-none d-sm-flex"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{to:"/section/companies/"+e.value+"?tab=General",color:"primary",label:"",outlined:""}},a),[e._v(" Open "),n("v-icon",{attrs:{right:"",small:""}},[e._v("open_in_new")])],1)]}}],null,!1,2957468005)},[n("span",[e._v("Open this company.")])])],1):e._e()])]),1==e.showCompanyContactsBelow&&null!=e.value?n("div",e._l(e.ContactsForCompanyId(e.value),(function(t){return n("div",{key:t.id,staticStyle:{"font-size":"14px"}},[n("router-link",{attrs:{to:"/section/contacts/"+t.id}},[e._v(e._s(t.json.name)+" "),t.json.title?n("span",[e._v(" — "+e._s(t.json.title))]):e._e()])],1)})),0):e._e()],1)},uh=[],dh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermCompaniesCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-company-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("CompanyListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" There are no companies to show. ")])],1)],1):n("PermissionsDeniedAlert")],1)},mh=[],vh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-company-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("domain")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.name))])],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermCompaniesCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},ph=[],fh=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermCompaniesCanDelete=tn.PermCompaniesCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],fh.prototype,"value",void 0),fh=Object(v["a"])([Object(p["a"])({})],fh);var hh=fh,bh=hh,gh=Object(ha["a"])(bh,vh,ph,!1,null,null,null),yh=gh.exports;ga()(gh,{VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var Ch=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermCompaniesCanRequest=tn.PermCompaniesCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(tn.PermCompaniesCanRequest()){var n=tn.RequestCompanies.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.companies}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(i){n=!1;break}}var r="";r+=e.json.name,r+=e.json.logoURI,r+=e.json.websiteURI,r=r.replace(/\W/g,""),r=r.toLowerCase();var l=this.filter.toLowerCase();if(l=l.replace(/\W/g,""),-1===r.indexOf(l)){n=!1;break}}while(0);return n}},{key:"RowSortBy",value:function(e){return(e.json.name||"1").toLowerCase()}},{key:"GetEntryRouteForId",value:function(e){return"/section/companies/".concat(e,"?tab=General")}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteCompanyDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Ch.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Ch.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:"There are no companies to show."})],Ch.prototype,"emptyMessage",void 0),Ch=Object(v["a"])([Object(p["a"])({components:{CompanyListItem:yh,PermissionsDeniedAlert:Qi}})],Ch);var jh=Ch,Sh=jh,Ih=Object(ha["a"])(Sh,dh,mh,!1,null,null,null),Ph=Ih.exports;ga()(Ih,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var Oh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Projects"})}).catch((function(e){}))}}},[e._v(" Projects ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Contacts"})}).catch((function(e){}))}}},[e._v(" Contacts ")])],1)]},proxy:!0}],null,!1,3248958819)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Company: "+e._s(e.Name))]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportCompaniesPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportCompaniesCSV()},on:{click:function(t){return e.CSVDownloadCompany(e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")]),n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Projects ")]),n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Contacts ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-company-editor-name",attrs:{autocomplete:"newpassword",label:"Name",id:"Name",hint:"The name of this company.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermCompaniesCanPush()},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e.LogoURI?n("img",{staticStyle:{"max-width":"100%","max-height":"600px"},attrs:{src:e.LogoURI}}):e._e(),(e.LogoURI||"").startsWith("data:")?e._e():n("v-text-field",{staticClass:"e2e-company-logo-uri",attrs:{autocomplete:"newpassword",label:"Company Logo (Link)",hint:"A link to the logo of this company.",disabled:(e.LogoURI||"").startsWith("data:")||"Connected"!=e.connectionStatus,rules:[],readonly:!e.PermCompaniesCanPush()},model:{value:e.LogoURI,callback:function(t){e.LogoURI=t},expression:"LogoURI"}}),n("v-file-input",{attrs:{"prepend-icon":"mdi-camera",accept:"image/*",label:"Company Logo (File)",rules:[],disabled:"Connected"!=e.connectionStatus||!e.PermCompaniesCanPush()},on:{change:e.LocalFileChange}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-company-editor-website-uri",attrs:{autocomplete:"newpassword",label:"Website URI",id:"WebsiteURI",hint:"A link to the website of this company.",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermCompaniesCanPush()},model:{value:e.WebsiteURI,callback:function(t){e.WebsiteURI=t},expression:"WebsiteURI"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this company."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-alert",{staticStyle:{margin:"15px","padding-bottom":"10px"},attrs:{border:"top","colored-border":"",type:"info",elevation:"2"}},[e._v(" Projects where "+e._s(e.Name)+" is listed as a company. ")]),n("ProjectList",{attrs:{showOnlyCompanyId:e.$route.params.id,isDialogue:e.isDialogue}})],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-alert",{staticStyle:{margin:"15px","padding-bottom":"10px"},attrs:{border:"top","colored-border":"",type:"info",elevation:"2"}},[e._v(" Contacts where "+e._s(e.Name)+" is listed as their company. ")]),n("ContactList",{attrs:{showOnlyCompanyId:e.$route.params.id,isDialogue:e.isDialogue}})],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Company Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The company no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the company while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermCompaniesCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteCompanyDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},kh=[],Dh=function(e){if(console.log("DoExportToCSV",e),e&&e.json){var t=[["Export Type:","Companies","Export Version:","CSV1"],["id","name","logoURI","websiteURI","lastModifiedISO8601","lastModifiedBillingId"],[e.id||"",e.json.name||"",e.json.logoURI||"",e.json.websiteURI||"",e.lastModifiedISO8601||"",e.json.lastModifiedBillingId||""]];Eo("Companies-1.".concat(e.json.name,".csv"),t)}},_h=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.CSVDownloadCompany=Dh,e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.PermCRMReportCompaniesPDF=tn.PermCRMReportCompaniesPDF,e.PermCRMExportCompaniesCSV=tn.PermCRMExportCompaniesCSV,e.PermCompaniesCanDelete=tn.PermCompaniesCanDelete,e.PermCompaniesCanPush=tn.PermCompaniesCanPush,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"LogoURI",get:function(){return this.value&&this.value.json&&this.value.json.logoURI?this.value.json.logoURI:null},set:function(e){this.value&&this.value.json&&(this.value.json.logoURI=y(e)?null:e,this.SignalChanged())}},{key:"WebsiteURI",get:function(){return this.value&&this.value.json&&this.value.json.websiteURI?this.value.json.websiteURI:null},set:function(e){this.value&&this.value.json&&(this.value.json.websiteURI=y(e)?null:e,this.SignalChanged())}},{key:"LocalFileChange",value:function(e){var t=this;if(this.value&&this.value.json)if(e){var n=new FileReader;n.onloadend=function(){var a=e.type;if(n.result){var i=""+n.result,o=document.createElement("img");o.addEventListener("load",(function(){if(t.value&&t.value.json){var e=800,n=1e3,i=o.height,s=o.width,r=e/i,l=n/s,c=Math.min(r,l),u=i*c,d=s*c,m=document.createElement("canvas"),v=m.getContext("2d");if(v){m.width=d,m.height=u,v.drawImage(o,0,0,d,u);var p=m.toDataURL(a,.92);t.LogoURI=p}}})),o.src=i}},n.readAsDataURL(e)}else this.LogoURI=""}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"DoPrint",value:function(){var e;ca.Open({name:"CompanyReportDialogue",state:{allLoadedCompanies:!1,specificCompanies:[{id:k(),value:null===(e=this.value)||void 0===e?void 0:e.id,label:""}]}})}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],_h.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_h.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_h.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_h.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],_h.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],_h.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_h.prototype,"isMakingNew",void 0),_h=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],_h);var wh=_h,xh=wh,Rh=Object(ha["a"])(xh,Oh,kh,!1,null,"62766de0",null),Mh=Rh.exports;ga()(Rh,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFileInput:Qd["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var Ah=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ContactsForCompanyId=un.ForCompanyId,e.CompanyForId=tn.ForId,e.CompanyNameForId=tn.NameForId,e.MobileDeviceWidth=ma,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=tn.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){tn.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Company",get:function(){var e=tn.ForId(this.value);return e||null}},{key:"SelectNewCompany",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("SelectNewCompany()"),this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("ClearValue()"),this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenCompany",value:function(){y(this.value)?console.error("Can't go to the company as value is null"):this.$router.push("/section/companies/".concat(this.value,"?tab=General")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=tn.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=tn.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,tn.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=tn.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Company"})],Ah.prototype,"label",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Ah.prototype,"showCompanyContactsBelow",void 0),Ah=Object(v["a"])([Object(p["a"])({components:{CompanyList:Ph,CompanyEditor:Mh}})],Ah);var Th=Ah;p["c"].component("CompanySelectField",Ah);var Vh=Th,Bh=(n("413c"),Object(ha["a"])(Vh,ch,uh,!1,null,"02c225df",null)),Lh=Bh.exports;ga()(Bh,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VChip:Vi["a"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var Nh=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.debounceId=null,e}return Object(u["a"])(n,[{key:"IsValueEmpty",get:function(){return y(this.Value)}},{key:"Label",get:function(){return null!=this.value?this.value.label:null},set:function(e){if(null!=this.value)return this.value.label=e,void this.SignalChanged()}},{key:"Value",get:function(){return null!=this.value?this.value.value:null},set:function(e){if(null!=this.value)return this.value.value=e,void this.SignalChanged()}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],Nh.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:null})],Nh.prototype,"index",void 0),Object(v["a"])([Object(p["b"])({default:null})],Nh.prototype,"isFirstIndex",void 0),Object(v["a"])([Object(p["b"])({default:null})],Nh.prototype,"isLastIndex",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Nh.prototype,"isDialogue",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Nh.prototype,"disabled",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Nh.prototype,"readonly",void 0),Nh=Object(v["a"])([Object(p["a"])({components:{}})],Nh);var Eh=Nh,Fh=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(Eh);Object(v["a"])([Object(p["b"])({default:null})],Fh.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Fh.prototype,"reducePadding",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Fh.prototype,"hideLabel",void 0),Fh=Object(v["a"])([Object(p["a"])({components:{CompanySelectField:Lh}})],Fh);var qh=Fh,Gh=qh,$h=n("2b5d"),Uh=Object(ha["a"])(Gh,rh,lh,!1,null,null,null),Hh=Uh.exports;ga()(Uh,{VCol:Sa["a"],VCombobox:$h["a"],VDivider:Ea["a"],VIcon:ka["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VRow:Da["a"]});var Wh=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return{id:k(),label:"",value:""}}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],Wh.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Wh.prototype,"hideLabel",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Wh.prototype,"reducePadding",void 0),Wh=Object(v["a"])([Object(p["a"])({components:{LabeledCompanyEditRow:Hh}})],Wh);var Kh=Wh,zh=Kh,Jh=Object(ha["a"])(zh,oh,sh,!1,null,null,null),Yh=Jh.exports;ga()(Jh,{VBtn:ya["a"],VCol:Sa["a"],VIcon:ka["a"],VRow:Da["a"]});var Qh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("LabeledContactEditRow",{key:t.id,attrs:{index:a,isFirstIndex:0===a,isLastIndex:a===e.value.length-1,reducePadding:e.reducePadding,hideLabel:e.hideLabel,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()},InsertNewRowAtIndex:e.OnInsertNewRowAtIndex,RemoveRowAtIndex:e.OnRemoveRowAtIndex,MoveUp:e.OnMoveUp,MoveDown:e.OnMoveDown},model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":e.hideLabel?0:2}},[n("v-btn",{attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Contact ")],1)],1)],1)],2)},Xh=[],Zh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[e.hideLabel?e._e():n("v-col",{attrs:{cols:"4",sm:e.reducePadding?3:2,"offset-sm":e.reducePadding?0:2}},[n("v-combobox",{staticClass:"e2e-labeled-contact-edit-row-label",attrs:{label:"Label","auto-select-first":"",hint:"Relation to this project.",items:["Unspecified","Homeowner","Designer","Architect","Manager"],disabled:e.disabled,readonly:e.readonly},model:{value:e.Label,callback:function(t){e.Label=t},expression:"Label"}})],1),n("v-col",{attrs:{cols:e.hideLabel?12:8,sm:e.hideLabel?12:e.reducePadding?9:6}},[n("ContactSelectField",{staticClass:"e2e-labeled-contact-edit-row-value",attrs:{isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"custom-menu-options",fn:function(){return[n("v-divider"),n("v-list-item",{attrs:{disabled:e.isFirstIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveUp",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:e.isLastIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveDown",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("RemoveRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)]},proxy:!0}]),model:{value:e.Value,callback:function(t){e.Value=t},expression:"Value"}})],1)],1)},eb=[],tb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"outerdiv",staticStyle:{"border-bottom":""}},[n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.selectDialogOpen,callback:function(t){e.selectDialogOpen=t},expression:"selectDialogOpen"}},[n("v-card",[n("v-card-title",[e._v("Select a Contact")]),n("v-divider"),n("v-card-text",[n("ContactList",{ref:"list",attrs:{openEntryOnClick:!1,showMenuButton:!1},on:{ClickEntry:e.OnClickEntry}}),n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.newDialogueVisible,callback:function(t){e.newDialogueVisible=t},expression:"newDialogueVisible"}},[n("v-card",[n("v-card-title",[e._v("Create and Select New Contact")]),n("v-divider"),n("v-card-text",[n("ContactEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0},model:{value:e.newDialogueObject,callback:function(t){e.newDialogueObject=t},expression:"newDialogueObject"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.NewDialogueCancel()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.NewDialogueSaveAndAdd()}}},[e._v("Save and Select")])],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.OpenNewDialogue()}}},[e._v("New")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearValue()}}},[e._v("Clear")]),n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.selectDialogOpen=!1}}},[e._v("Close")])],1)],1)],1),n("v-input",{ref:"input",attrs:{messages:[],"persistent-hint":"",hint:e.hint,required:e.required,rules:e.rules,disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"label",fn:function(){return[n("span",{staticStyle:{"font-size":"12px"}},[e._v(e._s(e.label))])]},proxy:!0},{key:"append",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty||e.disabled},on:{click:function(t){return e.OpenContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Select Different…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty||e.disabled||e.readonly},on:{click:function(t){return e.ClearValue()}}},[n("v-list-item-icon",[n("v-icon",[e._v("clear")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Clear")])],1)],1),e._t("custom-menu-options")],2)],1)]},proxy:!0}],null,!0),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[n("div",{staticStyle:{"margin-top":"5px","margin-bottom":"5px",width:"100%",cursor:"text",display:"flex","align-items":"stretch"}},[!e.Contact&&e.value?n("div",[e._v(" "+e._s(e.value)+" (can't find) ")]):e.ContactForId(e.value)?n("div",{style:{flex:"1",display:"flex","align-items":"flex-end",color:e.disabled?"rgba(0, 0, 0, 0.38)":"inherit"},on:{click:function(t){return e.SelectNewContact()}}},[e._v(" "+e._s(e.ContactNameForId(e.value)||"Empty contact name.")+" ")]):n("div",{staticStyle:{flex:"1","text-align":"center"},attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.SelectNewContact()}}},[n("v-btn",{attrs:{color:"primary",text:""}},[e._v("Select or Add Contact")])],1),e.ContactForId(e.value)&&!e.isDialogue?n("div",{staticClass:"d-none d-sm-flex"},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{to:"/section/contacts/"+e.value+"?tab=General",color:"primary",label:"",outlined:""}},a),[e._v(" Open "),n("v-icon",{attrs:{right:"",small:""}},[e._v("open_in_new")])],1)]}}],null,!1,2111615319)},[n("span",[e._v("Open this contact.")])])],1):e._e()])]),e.showDetails&&e.ContactForId(e.value)&&e.ContactForId(e.value).json.phoneNumbers&&e.ContactForId(e.value).json.phoneNumbers.length>0?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Phone Numbers")]),n("table",e._l(e.ContactForId(e.value).json.phoneNumbers,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("a",{attrs:{href:"tel:"+t.value.replace(/\D/g,"")}},[e._v(e._s(t.value))])])])})),0)]):e._e(),e.showDetails&&e.ContactForId(e.value)&&e.ContactForId(e.value).json.addresses&&e.ContactForId(e.value).json.addresses.length>0?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("Addresses")]),n("table",e._l(e.ContactForId(e.value).json.addresses,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("a",{attrs:{href:"https://www.google.com/maps/dir/current+location/"+t.value.replace(/[\r\n\x0B\x0C\u0085\u2028\u2029\/]+/g," "),target:"_blank"}},[e._v(e._s(t.value))])])])})),0)]):e._e(),e.showDetails&&e.ContactForId(e.value)&&e.ContactForId(e.value).json.emails&&e.ContactForId(e.value).json.emails.length>0?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("div",{staticClass:"subtitle-1",staticStyle:{"font-weight":"bold"}},[e._v("E-Mails")]),n("table",e._l(e.ContactForId(e.value).json.emails,(function(t){return n("tr",{key:t.id},[n("td",{staticStyle:{"font-size":"14px","padding-right":"5px","white-space":"nowrap"}},[t.label?n("span",[e._v(e._s(t.label)+":")]):e._e()]),n("td",{staticStyle:{"font-size":"14px"}},[n("a",{attrs:{href:"mailto:"+t.value}},[e._v(e._s(t.value))])])])})),0)]):e._e()],1)},nb=[],ab=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")]),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Projects"})}).catch((function(e){}))}}},[e._v(" Projects ")])],1)]},proxy:!0}],null,!1,593768545)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Contact"),e.Name?n("span",[e._v(": "+e._s(e.Name))]):e._e()]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Contact Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportContactsPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportContactsCSV()},on:{click:function(t){return e.CSVDownloadContact(e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")]),n("v-tab",{attrs:{disabled:e.isMakingNew}},[e._v(" Projects ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-contact-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"The name of this contact.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,readonly:!e.PermContactsCanPush()},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-combobox",{staticClass:"e2e-contact-editor-title",attrs:{label:"Title",id:"Title","auto-select-first":"",hint:"This contact's title, for example: Journeyman Electrician",items:e.$store.getters.SortedDeduplicatedContactTitles,disabled:"Connected"!=e.connectionStatus,readonly:!e.PermContactsCanPush()},model:{value:e.Title,callback:function(t){e.Title=t},expression:"Title"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("CompanySelectField",{attrs:{isDialogue:e.isDialogue,disabled:"Connected"!=e.connectionStatus,readonly:!e.PermContactsCanPush()},model:{value:e.CompanyId,callback:function(t){e.CompanyId=t},expression:"CompanyId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-textarea",{staticClass:"e2e-contact-editor-notes",attrs:{label:"Notes",hint:"Additional information about this contact.",disabled:"Connected"!=e.connectionStatus,readonly:!e.PermContactsCanPush()},model:{value:e.Notes,callback:function(t){e.Notes=t},expression:"Notes"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Phone")])])],1),n("PhoneNumberEditRowArrayAdapter",{attrs:{disabled:"Connected"!=e.connectionStatus,readonly:!e.PermContactsCanPush()},model:{value:e.PhoneNumbers,callback:function(t){e.PhoneNumbers=t},expression:"PhoneNumbers"}}),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Address")])])],1),n("AddressEditRowArrayAdapter",{attrs:{disabled:"Connected"!=e.connectionStatus,readonly:!e.PermContactsCanPush()},model:{value:e.Addresses,callback:function(t){e.Addresses=t},expression:"Addresses"}}),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("E-Mail")])])],1),n("EMailEditRowArrayAdapter",{attrs:{disabled:"Connected"!=e.connectionStatus,readonly:!e.PermContactsCanPush()},model:{value:e.EMails,callback:function(t){e.EMails=t},expression:"EMails"}}),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this contact."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-alert",{staticStyle:{margin:"15px","padding-bottom":"10px"},attrs:{border:"top","colored-border":"",type:"info",elevation:"2"}},[e._v(" Projects where "+e._s(e.Name)+" is listed as a contact. ")]),n("ProjectList",{attrs:{showOnlyContactId:e.$route.params.id,isDialogue:e.isDialogue}})],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Contact Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The contact no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the contact while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermContactsCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.DoDelete()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},ib=[],ob=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("PhoneNumberEditRow",{key:t.id,attrs:{index:a,isFirstIndex:0===a,isLastIndex:a===e.value.length-1,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()},InsertNewRowAtIndex:e.OnInsertNewRowAtIndex,RemoveRowAtIndex:e.OnRemoveRowAtIndex,MoveUp:e.OnMoveUp,MoveDown:e.OnMoveDown},model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"2"}},[n("v-btn",{staticClass:"e2e-add-phone-number",attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Phone Number ")],1)],1)],1)],2)},sb=[],rb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"4",sm:"2","offset-sm":"2"}},[n("v-combobox",{staticClass:"e2e-phone-number-edit-row-label",attrs:{label:"Label","auto-select-first":"",hint:"Home, Mobile, Work, Fax, etc.",items:["Unspecified","Home","Mobile","Work","Fax"],disabled:e.disabled,readonly:e.readonly},model:{value:e.Label,callback:function(t){e.Label=t},expression:"Label"}})],1),n("v-col",{attrs:{cols:"8",sm:"6"}},[n("v-text-field",{staticClass:"e2e-phone-number-edit-row-value",attrs:{autocomplete:"newpassword",label:"Number",hint:"Enter a telephone number.",type:"tel",disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.IsValueEmpty},on:{click:function(t){return e.CallPhoneNo()}}},[n("v-list-item-icon",[n("v-icon",[e._v("phone")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Call Phone…")])],1)],1),n("v-list-item",{attrs:{disabled:e.IsValueEmpty},on:{click:function(t){return e.SendSMS()}}},[n("v-list-item-icon",[n("v-icon",[e._v("sms")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Send Text Message…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.isFirstIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveUp",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:e.isLastIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveDown",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("RemoveRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)],1)],1)]},proxy:!0}]),model:{value:e.Value,callback:function(t){e.Value=t},expression:"Value"}})],1)],1)},lb=[],cb=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"CallPhoneNo",value:function(){if(null!==this.value){if(y(this.value.value))console.error("can't place call as IsNullOrEmpty(this.value.value)");else if(null!==this.value.value){var e=this.value.value.replace(/\D/g,"");window.location.href="tel:".concat(e)}}else console.error("can't place call as entry is null")}},{key:"SendSMS",value:function(){if(null!==this.value){if(y(this.value.value))console.error("can't place sms as IsNullOrEmpty(this.value.value)");else if(null!==this.value.value){var e=this.value.value.replace(/\D/g,"");window.location.href="sms:".concat(e)}}else console.error("can't place sms as entry is null")}}]),n}(Eh);Object(v["a"])([Object(p["b"])({default:null})],cb.prototype,"value",void 0),cb=Object(v["a"])([Object(p["a"])({components:{}})],cb);var ub=cb,db=ub,mb=Object(ha["a"])(db,rb,lb,!1,null,null,null),vb=mb.exports;ga()(mb,{VBtn:ya["a"],VCol:Sa["a"],VCombobox:$h["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VRow:Da["a"],VTextField:wa["a"]});var pb=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return{id:k(),label:"",value:""}}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],pb.prototype,"value",void 0),pb=Object(v["a"])([Object(p["a"])({components:{PhoneNumberEditRow:vb}})],pb);var fb=pb,hb=fb,bb=Object(ha["a"])(hb,ob,sb,!1,null,"74f3a668",null),gb=bb.exports;ga()(bb,{VBtn:ya["a"],VCol:Sa["a"],VIcon:ka["a"],VRow:Da["a"]});var yb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("EMailEditRow",{key:t.id,attrs:{index:a,isFirstIndex:0===a,isLastIndex:a===e.value.length-1,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()},InsertNewRowAtIndex:e.OnInsertNewRowAtIndex,RemoveRowAtIndex:e.OnRemoveRowAtIndex,MoveUp:e.OnMoveUp,MoveDown:e.OnMoveDown},model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"2"}},[n("v-btn",{staticClass:"e2e-add-email",attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add E-Mail ")],1)],1)],1)],2)},Cb=[],jb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"4",sm:"2","offset-sm":"2"}},[n("v-combobox",{staticClass:"e2e-email-edit-row-label",attrs:{label:"Label","auto-select-first":"",hint:"Home, Mobile, Work, etc.",items:["Unspecified","Home","Mobile","Work"],disabled:e.disabled,readonly:e.readonly},model:{value:e.Label,callback:function(t){e.Label=t},expression:"Label"}})],1),n("v-col",{attrs:{cols:"8",sm:"6"}},[n("v-text-field",{staticClass:"e2e-email-edit-row-value",attrs:{autocomplete:"newpassword",label:"E-Mail Address",hint:"Enter an e-mail address.",disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{on:{click:function(t){return e.ComposeEMail()}}},[n("v-list-item-icon",[n("v-icon",[e._v("email")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Compose E-Mail…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.isFirstIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveUp",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:e.isLastIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveUp",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("RemoveRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)],1)],1)]},proxy:!0}]),model:{value:e.Value,callback:function(t){e.Value=t},expression:"Value"}})],1)],1)},Sb=[],Ib=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"ComposeEMail",value:function(){null!==this.value?y(this.value.value)?console.error("can't make email as IsNullOrEmpty(this.value.value)"):null!==this.value.value&&(window.location.href="mailto:".concat(this.value.value)):console.error("can't make email as value is null")}}]),n}(Eh);Object(v["a"])([Object(p["b"])({default:null})],Ib.prototype,"value",void 0),Ib=Object(v["a"])([Object(p["a"])({components:{}})],Ib);var Pb=Ib,Ob=Pb,kb=Object(ha["a"])(Ob,jb,Sb,!1,null,null,null),Db=kb.exports;ga()(kb,{VBtn:ya["a"],VCol:Sa["a"],VCombobox:$h["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VRow:Da["a"],VTextField:wa["a"]});var _b=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return{id:k(),label:"",value:""}}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],_b.prototype,"value",void 0),_b=Object(v["a"])([Object(p["a"])({components:{EMailEditRow:Db}})],_b);var wb=_b,xb=wb,Rb=Object(ha["a"])(xb,yb,Cb,!1,null,"4d75fbed",null),Mb=Rb.exports;ga()(Rb,{VBtn:ya["a"],VCol:Sa["a"],VIcon:ka["a"],VRow:Da["a"]});var Ab=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("AddressEditRow",{key:t.id,attrs:{index:a,isFirstIndex:0===a,isLastIndex:a===e.value.length-1,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()},InsertNewRowAtIndex:e.OnInsertNewRowAtIndex,RemoveRowAtIndex:e.OnRemoveRowAtIndex,MoveUp:e.OnMoveUp,MoveDown:e.OnMoveDown},model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"2"}},[n("v-btn",{staticClass:"e2e-add-address",attrs:{text:"",large:"",disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Address ")],1)],1)],1)],2)},Tb=[],Vb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-row",[n("v-col",{attrs:{cols:"4",sm:"2","offset-sm":"2"}},[n("v-combobox",{staticClass:"e2e-address-edit-row-label",attrs:{label:"Label","auto-select-first":"",hint:"Home, Work, Jobsite, etc.",items:["Unspecified","Home","Work","Jobsite"],disabled:e.disabled,readonly:e.readonly},model:{value:e.Label,callback:function(t){e.Label=t},expression:"Label"}})],1),n("v-col",{attrs:{cols:"8",sm:"6"}},[n("v-textarea",{staticClass:"e2e-address-edit-row-value",attrs:{rows:2,"auto-grow":!0,label:"Address",hint:"Enter a physical street address.",disabled:e.disabled,readonly:e.readonly},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.IsValueEmpty},on:{click:function(t){return e.OpenInMaps()}}},[n("v-list-item-icon",[n("v-icon",[e._v("directions")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open in Maps…")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.isFirstIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveUp",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:e.isLastIndex||e.disabled||e.readonly},on:{click:function(t){return e.$emit("MoveDown",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("InsertNewRowAtIndex",e.index+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.$emit("RemoveRowAtIndex",e.index)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)],1)],1)]},proxy:!0}]),model:{value:e.Value,callback:function(t){e.Value=t},expression:"Value"}}),e.NormalizedAddress?n("iframe",{staticStyle:{border:"0px",width:"100%"},attrs:{src:"https://maps.google.com/maps?q="+e.NormalizedAddress+"&t=&z=13&ie=UTF8&iwloc=&output=embed",sandbox:"allow-scripts allow-popups"}}):e._e()],1)],1)},Bb=[],Lb=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"NormalizedAddress",get:function(){return null!==this.value&&null!==this.value.value?this.value.value.replace(/[\r\n\x0B\x0C\u0085\u2028\u2029/]+/g," "):null}},{key:"OpenInMaps",value:function(){null!==this.value&&null!==this.value.value?window.open("https://www.google.com/maps/dir/current+location/".concat(this.NormalizedAddress),"_blank"):console.error("Can't open in google maps as value is null")}}]),n}(Eh);Object(v["a"])([Object(p["b"])({default:null})],Lb.prototype,"value",void 0),Lb=Object(v["a"])([Object(p["a"])({components:{}})],Lb);var Nb=Lb,Eb=Nb,Fb=Object(ha["a"])(Eb,Vb,Bb,!1,null,null,null),qb=Fb.exports;ga()(Fb,{VBtn:ya["a"],VCol:Sa["a"],VCombobox:$h["a"],VDivider:Ea["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VRow:Da["a"],VTextarea:ol["a"]});var Gb=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return{id:k(),label:"",value:""}}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],Gb.prototype,"value",void 0),Gb=Object(v["a"])([Object(p["a"])({components:{AddressEditRow:qb}})],Gb);var $b=Gb,Ub=$b,Hb=Object(ha["a"])(Ub,Ab,Tb,!1,null,"6d685c74",null),Wb=Hb.exports;ga()(Hb,{VBtn:ya["a"],VCol:Sa["a"],VIcon:ka["a"],VRow:Da["a"]});var Kb=function(e){if(console.log("DoExportToCSV",e),e&&e.json){var t=function(e){var t,n="",a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+="".concat(i.label,": ").concat(i.value,"\n")}}catch(o){a.e(o)}finally{a.f()}return n},n=function(e){var t,n="",a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+="".concat(i.label,": ").concat(i.value,"\n")}}catch(o){a.e(o)}finally{a.f()}return n},a=function(e){var t,n="",a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+="".concat(i.label,": ").concat(i.value,"\n")}}catch(o){a.e(o)}finally{a.f()}return n},i=[["Export Type:","Contacts","Export Version:","CSV1"],["id","lastModifiedISO8601","lastModifiedBillingId","name","title","companyId","notes","phoneNumbers","emails","addresses"],[e.id||"",e.lastModifiedISO8601||"",e.json.lastModifiedBillingId||"",e.json.name||"",e.json.title||"",e.json.companyId||"",e.json.notes||"",t(e.json.phoneNumbers),n(e.json.emails),a(e.json.addresses)]];Eo("Contacts-1.".concat(e.json.name,".csv"),i)}},zb=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.CSVDownloadContact=Kb,e.DialoguesOpen=ca.Open,e.PermCRMReportContactsPDF=un.PermCRMReportContactsPDF,e.PermCRMExportContactsCSV=un.PermCRMExportContactsCSV,e.PermContactsCanDelete=un.PermContactsCanDelete,e.PermContactsCanPush=un.PermContactsCanPush,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"PhoneNumbers",get:function(){return this.value&&this.value.json&&this.value.json.phoneNumbers?this.value.json.phoneNumbers:[]},set:function(e){this.value&&this.value.json&&(this.value.json.phoneNumbers=e,this.SignalChanged())}},{key:"Addresses",get:function(){return this.value&&this.value.json&&this.value.json.addresses?this.value.json.addresses:[]},set:function(e){this.value&&this.value.json&&(this.value.json.addresses=e,this.SignalChanged())}},{key:"EMails",get:function(){return this.value&&this.value.json&&this.value.json.emails?this.value.json.emails:[]},set:function(e){this.value&&this.value.json&&(this.value.json.emails=e,this.SignalChanged())}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"Title",get:function(){return this.value&&this.value.json&&this.value.json.title?this.value.json.title:null},set:function(e){this.value&&this.value.json&&(this.value.json.title=y(e)?null:e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"CompanyId",get:function(){return this.value&&this.value.json&&this.value.json.companyId?this.value.json.companyId:null},set:function(e){this.value&&this.value.json&&(this.value.json.companyId=y(e)?null:e,this.SignalChanged())}},{key:"Notes",get:function(){return this.value&&this.value.json&&this.value.json.notes?this.value.json.notes:null},set:function(e){this.value&&this.value.json&&(this.value.json.notes=y(e)?null:e,this.SignalChanged())}},{key:"AddPhoneNumber",value:function(){if(this.value&&this.value.json&&this.value.json.phoneNumbers){var e={id:k(),label:"",value:""};this.value.json.phoneNumbers.push(e),this.SignalChanged()}}},{key:"AddEMail",value:function(){if(this.value&&this.value.json&&this.value.json.emails){var e={id:k(),label:"",value:""};this.value.json.emails.push(e),this.SignalChanged()}}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"DoDelete",value:function(){var e;ca.Open({name:"DeleteContactDialogue",state:{redirectToIndex:!0,id:null===(e=this.value)||void 0===e?void 0:e.id}})}},{key:"DoPrint",value:function(){var e;ca.Open({name:"ContactsReportDialogue",state:{allLoadedContacts:!1,specificContacts:[{id:k(),value:null===(e=this.value)||void 0===e?void 0:e.id,label:""}]}})}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],zb.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zb.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zb.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zb.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],zb.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],zb.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zb.prototype,"isMakingNew",void 0),zb=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,PhoneNumberEditRowArrayAdapter:gb,EMailEditRowArrayAdapter:Mb,AddressEditRowArrayAdapter:Wb,CompanySelectField:Lh,ReloadButton:ms,NotificationBellButton:hl}})],zb);var Jb=zb,Yb=Jb,Qb=Object(ha["a"])(Yb,ab,ib,!1,null,"5f6c170f",null),Xb=Qb.exports;ga()(Qb,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VCombobox:$h["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VTextarea:ol["a"],VToolbarTitle:wo["a"]});var Zb=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ContactForId=un.ForId,e.ContactNameForId=un.NameForId,e.MobileDeviceWidth=ma,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=un.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){un.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Contact",get:function(){var e=un.ForId(this.value);return e||null}},{key:"SelectNewContact",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("SelectNewContact()"),this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(console.log("ClearValue()"),this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenContact",value:function(){console.log("OpenContact()"),y(this.value)?console.error("can't open contact as IsNullOrEmpty(this.value)"):this.$router.push("/section/contacts/".concat(this.value,"?tab=General")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){console.debug("OnClickEntry",e),this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=un.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=un.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,un.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=un.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Contact"})],Zb.prototype,"label",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Zb.prototype,"showCompanyContactsBelow",void 0),Zb=Object(v["a"])([Object(p["a"])({components:{ContactList:cc,ContactEditor:Xb}})],Zb);var eg=Zb;p["c"].component("ContactSelectField",Zb);var tg=eg,ng=(n("4fb8"),Object(ha["a"])(tg,tb,nb,!1,null,"6846112c",null)),ag=ng.exports;ga()(ng,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VChip:Vi["a"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var ig=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(Eh);Object(v["a"])([Object(p["b"])({default:null})],ig.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ig.prototype,"reducePadding",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ig.prototype,"hideLabel",void 0),ig=Object(v["a"])([Object(p["a"])({components:{ContactSelectField:ag}})],ig);var og,sg=ig,rg=sg,lg=Object(ha["a"])(rg,Zh,eb,!1,null,null,null),cg=lg.exports;ga()(lg,{VCol:Sa["a"],VCombobox:$h["a"],VDivider:Ea["a"],VIcon:ka["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VRow:Da["a"]});var ug=og=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return og.GenerateEmptyRow()}}],[{key:"GenerateEmptyRow",value:function(){return{id:k(),label:"",value:""}}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],ug.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ug.prototype,"reducePadding",void 0),Object(v["a"])([Object(p["b"])({default:!1})],ug.prototype,"hideLabel",void 0),ug=og=Object(v["a"])([Object(p["a"])({components:{LabeledContactEditRow:cg}})],ug);var dg=ug,mg=dg,vg=Object(ha["a"])(mg,Qh,Xh,!1,null,"2c5cf260",null),pg=vg.exports;ga()(vg,{VBtn:ya["a"],VCol:Sa["a"],VIcon:ka["a"],VRow:Da["a"]});var fg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermMaterialsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-materials-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("div",{key:t.id},[t.isHeader?n("v-toolbar",{staticStyle:{"margin-left":"20px","margin-right":"20px","margin-top":"10px","margin-bottom":"10px"},attrs:{dense:"",elevation:"1",color:"rgb(116, 115, 137)",short:"",dark:""}},[n("v-toolbar-title",{attrs:{dense:""},domProps:{textContent:e._s(t.title)}}),n("v-spacer"),t.trailingButton?n("v-btn",{attrs:{icon:"",disabled:e.disabled},on:{click:t.trailingButtonCallback}},[n("v-icon",{domProps:{textContent:e._s(t.trailingButtonIcon)}})],1):e._e()],1):n("MaterialsListItem",{attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,rootProject:e.rootProject,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,DeleteEntry:e.DeleteEntry},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})],1)})),0),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" "+e._s(e.emptyMessage)+" ")])],1)],1):n("PermissionsDeniedAlert")],1)},hg=[],bg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("local_grocery_store")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.quantity)+" "+e._s(e.value.json.quantityUnit||"❌")+" "+e._s(e.ProductName))]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.DateUsed?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("calendar_today")])],1),e._v(" "+e._s(e.DateUsed)+" ")],1):e._e(),e.Location?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},[e._v(" "+e._s(e.Location)+" ")]):e._e(),e.IsExtra?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},[e._v(" Extra ")]):e._e(),e.IsBilled?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},[e._v(" Billed ")]):e._e(),e.Notes?n("v-chip",{staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},[e._v(" "+e._s(e.Notes)+" ")]):e._e(),e.rootProject&&e.rootProject.id!==e.value.json.projectId?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:"",color:"primary",to:"/section/projects/"+e.value.json.projectId+"?tab=General"},on:{"~click":function(e){e.stopPropagation(),e.preventDefault()}}},a),[e._v(" From a Child Project ")])]}}],null,!1,502124418)},[n("span",[e._v(e._s(e.ProjectNameForId(e.value.id)||"No Name"))])]):e._e()],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled||!e.PermMaterialsCanPush()},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermMaterialsCanDelete()},on:{click:function(t){return e.$emit("DeleteEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)},gg=[],yg=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermMaterialsCanRequest=gn.PermMaterialsCanRequest,e.PermMaterialsCanDelete=gn.PermMaterialsCanDelete,e.ProjectNameForId=ze.NameForId,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];if(null!=e.value.json.projectId&&!y(e.value.json.projectId)){var n=ze.ForId(e.value.json.projectId);if(null==n&&ze.PermProjectsCanRequest()){var a=ze.FetchForId(e.value.json.projectId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}if(null!=e.value.json.productId&&!y(e.value.json.productId)){var i=xn.ForId(e.value.json.productId);if(null==i&&xn.PermProductsCanRequest()){var o=xn.FetchForId(e.value.json.productId);o.completeRequestPromise&&t.push(o.completeRequestPromise)}}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"DateUsed",get:function(){if(console.log("DateUsed",this.value),!this.value||!this.value.json||!this.value.json.dateUsedISO8601)return null;var e=I["DateTime"].fromISO(this.value.json.dateUsedISO8601);return e.toLocaleString(I["DateTime"].DATE_FULL)}},{key:"Location",get:function(){return this.value&&this.value.json&&this.value.json.productId&&!y(this.value.json.location)?this.value.json.location:null}},{key:"IsExtra",get:function(){return!!(this.value&&this.value.json&&this.value.json.productId&&null!==this.value.json.isExtra)&&this.value.json.isExtra}},{key:"IsBilled",get:function(){return!!(this.value&&this.value.json&&this.value.json.productId&&null!==this.value.json.isBilled)&&this.value.json.isBilled}},{key:"Notes",get:function(){return this.value&&this.value.json&&this.value.json.productId&&!y(this.value.json.notes)?this.value.json.notes:null}},{key:"ProductName",get:function(){return this.value&&this.value.json&&this.value.json.productId&&!y(this.value.json.productId)?xn.NameForId(this.value.json.productId):null}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],yg.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:null})],yg.prototype,"rootProject",void 0),yg=Object(v["a"])([Object(p["a"])({})],yg);var Cg=yg,jg=Cg,Sg=Object(ha["a"])(jg,bg,gg,!1,null,null,null),Ig=Sg.exports;ga()(Sg,{VAvatar:Na["a"],VBtn:ya["a"],VChip:Vi["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VTooltip:Ni["a"]});var Pg=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermMaterialsCanRequest=gn.PermMaterialsCanRequest,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(gn.PermMaterialsCanRequest()){var n=gn.RequestMaterials.Send({sessionId:ce.CurrentSessionId(),limitToProjectId:e.showOnlyProjectId,showChildrenOfProjectIdAsWell:e.showChildrenOfProjectIdAsWell});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"InsertRowHeaders",value:function(e){for(var t=this,n=null,a=function(a){var o=e[a];if(!o.json.dateUsedISO8601)return i=a,"continue";var s=o.json.dateUsedISO8601,r=I["DateTime"].fromISO(s),l=r.toLocal(),c=l.toLocaleString(I["DateTime"].DATE_MED);n!==c&&(e.splice(a,0,{isHeader:!0,title:c,trailingButton:!0,trailingButtonIcon:"add",trailingButtonCallback:function(){ca.Open({name:"ModifyMaterialDialogue",state:{json:{agentId:Pe.LoggedInAgentId(),projectId:t.prefillProjectId,dateUsedISO8601:o.json.dateUsedISO8601}}})}}),n=c,a++),i=a},i=0;i<e.length;i++)a(i)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetOpenAsDialogue",value:function(){return!0}},{key:"GetEntryRouteForId",value:function(e){throw Error("not implemented")}},{key:"GetOpenDialogueName",value:function(){return"ModifyMaterialDialogue"}},{key:"GetOpenDialogueModelState",value:function(e){var t=gn.ForId(e),n=F.a.cloneDeep(t);return n}},{key:"GetDeleteEntryDialogueName",value:function(){return"DeleteMaterialDialogue"}},{key:"GetDeleteDialogueModelState",value:function(e){return{redirectToIndex:!1,id:e}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.materials}},{key:"RowFilter",value:function(e,t){var n=this,a=!0;do{if(!e||!e.id||!e.json){a=!1;break}if(this.showOnlyProjectId){var i=function(){var t=[],i=ze.ForId(e.json.projectId),o=ze.ForId(n.showOnlyProjectId);n.showChildrenOfProjectIdAsWell?t=ze.RecursiveChildProjectsOfId(n.showOnlyProjectId):o&&t.push(o);var s=!!F.a.find(t,(function(e){return(null===i||void 0===i?void 0:i.id)===e.id}));if(!s)return a=!1,"break"}();if("break"===i)break}if(this.excludeIds&&this.excludeIds.length>0){var o,s=!1,r=Object(G["a"])(this.excludeIds);try{for(r.s();!(o=r.n()).done;){var l=o.value;if(null!==l&&e.id===l){s=!0;break}}}catch(f){r.e(f)}finally{r.f()}if(s){a=!1;break}}if(this.showFilter){var c="";if(e.json.lastModifiedBillingId){var u=he.NameForCurrentSession();c+=u}e.json.dateUsedISO8601&&(c+=I["DateTime"].fromISO(e.json.dateUsedISO8601).toLocaleString(I["DateTime"].DATETIME_FULL));var d=ze.NameForId(e.json.projectId);d&&(c+=" ".concat(d," "));var m=ze.CombinedDescriptionForId(e.json.projectId);m&&(c+=" ".concat(m," ")),c+=" ".concat(e.json.quantity," ").concat(e.json.quantityUnit," ");var v=xn.NameForId(e.json.productId);v&&(c+=" ".concat(v," ")),c+=e.json.isExtra?"Extra ":"",c+=e.json.isBilled?"Billed ":"",c+=e.json.location,c+=e.json.notes,c=c.replace(/\W/g,""),c=c.toLowerCase();var p=this.filter.toLowerCase();if(p=p.replace(/\W/g,""),-1===c.indexOf(p)){a=!1;break}}}while(0);return a}},{key:"RowSortBy",value:function(e){return e.json.dateUsedISO8601||"1"}},{key:"IsReverseSort",value:function(){return this.isReverseSort}}]),n}($i);Object(v["a"])([Object(p["b"])({default:null})],Pg.prototype,"showOnlyProjectId",void 0),Object(v["a"])([Object(p["b"])({default:"There are no materials to show."})],Pg.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Pg.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:null})],Pg.prototype,"prefillProjectId",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Pg.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Pg.prototype,"showChildrenOfProjectIdAsWell",void 0),Object(v["a"])([Object(p["b"])({default:null})],Pg.prototype,"rootProject",void 0),Pg=Object(v["a"])([Object(p["a"])({components:{MaterialsListItem:Ig,PermissionsDeniedAlert:Qi}})],Pg);var Og=Pg,kg=Og,Dg=Object(ha["a"])(kg,fg,hg,!1,null,null,null),_g=Dg.exports;ga()(Dg,{VAlert:Ji["a"],VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VSpacer:_a["a"],VTextField:wa["a"],VToolbar:_o["a"],VToolbarTitle:wo["a"]});var wg=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"PermCRMViewDashboardDispatchTab",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.view.dashboard.dispatch-tab");return t}},{key:"PermCRMViewDashboardBillingTab",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.view.dashboard.billing-tab");return t}},{key:"PermCRMViewDashboardManagementTab",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.view.dashboard.management-tab");return t}},{key:"PermCRMViewProjectIndexMergeProjects",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.view.billing-index.merge-projects"),n=ze.PermProjectsCanPush(),a=ze.PermProjectsCanRequest(),i=ze.PermProjectsCanDelete();return t&&n&&a&&i}}]),e}(),xg=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.TimePicker5MinuteStep=Js,e.ContactNameForId=un.NameForId,e.CompanyNameForId=tn.NameForId,e.CurrentDPAgentId=Pe.LoggedInAgentId,e.DialoguesOpen=ca.Open,e.ProjectChildProjectsOfId=ze.ChildProjectsOfId,e.LabourTypeDefaultBillableTypeId=_e.DefaultBillableTypeId,e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermContactsCanPush=un.PermContactsCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermCRMViewProjectIndexMergeProjects=wg.PermCRMViewProjectIndexMergeProjects,e.PermCRMReportProjectsPDF=ze.PermCRMReportProjectsPDF,e.PermCRMExportProjectsCSV=ze.PermCRMExportProjectsCSV,e.PermProjectNotesCanPush=Sn.PermProjectNotesCanPush,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermProjectsCanDelete=ze.PermProjectsCanDelete,e.PermAssignmentCanRequest=Ze.PermAssignmentCanRequest,e.PermProjectNotesCanRequest=Sn.PermProjectNotesCanRequest,e.PermMaterialsCanRequest=gn.PermMaterialsCanRequest,e.PermLabourCanRequest=Ue.PermLabourCanRequest,e.PermLabourCanPushSelf=Ue.PermLabourCanPushSelf,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.debounceId=null,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm,this.$refs.scheduleForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Schedule:1,schedule:1,Notes:2,notes:2,Assignments:3,assignments:3,Materials:4,materials:4,Labour:5,labour:5,Settings:6,settings:6}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?null:e,this.SignalChanged())}},{key:"ParentId",get:function(){return this.value&&this.value.json&&this.value.json.parentId?this.value.json.parentId:null},set:function(e){this.value&&this.value.json&&(this.value.json.parentId=y(e)?null:e,this.SignalChanged())}},{key:"StatusId",get:function(){return this.value&&this.value.json&&this.value.json.statusId?this.value.json.statusId:null},set:function(e){this.value&&this.value.json&&(this.value.json.statusId=y(e)?null:e,this.SignalChanged())}},{key:"StatusItems",get:function(){var e=F.a.filter(this.$store.state.Database.projectStatus,(function(e){return!0})),t=F.a.sortBy(e,(function(e){return e.json.name}));return t}},{key:"LastModified",get:function(){if(!this.value||!this.value.json||!this.value.lastModifiedISO8601||y(this.value.lastModifiedISO8601))return null;var e=I["DateTime"].fromISO(this.value.lastModifiedISO8601),t=e.toLocaleString(I["DateTime"].DATETIME_FULL);return"".concat(t," by ").concat(this.ProjectLastModifiedWho?this.ProjectLastModifiedWho.fullName:"?")}},{key:"ProjectLastModifiedWho",get:function(){if(!this.value||!this.value.json)return null;var e=this.value.json.lastModifiedBillingId;return!e||y(e)?null:he.ForId(e)}},{key:"Addresses",get:function(){return this.value&&this.value.json&&this.value.json.addresses?this.value.json.addresses:[]},set:function(e){this.value&&this.value.json&&(this.value.json.addresses=null==e?[]:e,this.SignalChanged())}},{key:"Companies",get:function(){return this.value&&this.value.json&&this.value.json.companies?this.value.json.companies:[]},set:function(e){this.value&&this.value.json&&(this.value.json.companies=null==e?[]:e,this.SignalChanged())}},{key:"Contacts",get:function(){return this.value&&this.value.json&&this.value.json.contacts?this.value.json.contacts:[]},set:function(e){this.value&&this.value.json&&(this.value.json.contacts=null==e?[]:e,this.SignalChanged())}},{key:"ParentProject",get:function(){if(null===this.value)return null;if(!this.value||!this.value.json||!this.value.json.parentId)return null;var e=ze.ForId(this.value.json.parentId);return e||null}},{key:"ParentProjectAddresesRecursive",get:function(){var e,t=[],n=[],a=function e(a){if(a&&-1===n.indexOf(a)){var i=ze.ForId(a);i&&(t=F.a.concat(t,i.json.addresses),n.push(a),e(i.json.parentId))}},i=null===(e=this.value)||void 0===e?void 0:e.json.parentId;return i&&a(i),F.a.remove(t,(function(e,t,n){return""===e.value||(!e||!!y(e.value))})),t}},{key:"ParentProjectCompaniesRecursive",get:function(){var e,t=[],n=[],a=function e(a){if(a&&-1===n.indexOf(a)){var i=ze.ForId(a);i&&(t=F.a.concat(t,i.json.companies),n.push(a),e(i.json.parentId))}},i=null===(e=this.value)||void 0===e?void 0:e.json.parentId;return i&&a(i),F.a.remove(t,(function(e,t,n){return""===e.value||(!e||!!y(e.value))})),t}},{key:"ParentProjectContactsRecursive",get:function(){var e,t=[],n=[],a=function e(a){if(a&&-1===n.indexOf(a)){var i=ze.ForId(a);i&&(t=F.a.concat(t,i.json.contacts),n.push(a),e(i.json.parentId))}},i=null===(e=this.value)||void 0===e?void 0:e.json.parentId;return i&&a(i),F.a.remove(t,(function(e,t,n){return""===e.value||(!e||!!y(e.value))})),t}},{key:"EndTimeLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.endISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("HH:mm"):null},set:function(e){if(this.value){var t=null;do{if(!e)break;if(!this.value)break;var n=this.value.json.endISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"HH:mm"),s=i.set({hour:o.hour,minute:o.minute}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.endISO8601=t,this.ForceAssignmentsToUseProjectSchedule&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged()}}},{key:"EndDateLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.endISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("yyyy-MM-dd"):null},set:function(e){if(this.value){var t=null;do{if(!e)break;if(!this.value)break;var n=this.value.json.endISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"yyyy-MM-dd"),s=i.set({year:o.year,month:o.month,day:o.day}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.endISO8601=t,this.ForceAssignmentsToUseProjectSchedule&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged()}}},{key:"StartTimeLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.startISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("HH:mm"):null},set:function(e){if(console.log("set StartTimeLocal",e),this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.startISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"HH:mm"),s=i.set({hour:o.hour,minute:o.minute}),r=s.toUTC();t=r.toISO()}while(0);this.value.json.startISO8601=t,this.ForceAssignmentsToUseProjectSchedule&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged()}}},{key:"StartDateLocal",get:function(){if(!this.value)return null;var e=this.value.json;if(!e)return null;var t=e.startISO8601;if(!t||y(t))return null;var n=I["DateTime"].fromISO(t);if(!n)return null;var a=n.toLocal();return a?a.toFormat("yyyy-MM-dd"):null},set:function(e){if(this.value){var t=null;do{if(!e||!this.value){t=null;break}var n=this.value.json.startISO8601,a=null;a=n?I["DateTime"].fromISO(n):I["DateTime"].utc();var i=a.toLocal(),o=I["DateTime"].fromFormat(e,"yyyy-MM-dd"),s=i.set({year:o.year,month:o.month,day:o.day}),r=s.toUTC();t=r.toISO()}while(0);console.log("set StartDateLocal",e,t),this.value.json.startISO8601=t,this.ForceAssignmentsToUseProjectSchedule&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged()}}},{key:"EndTimeMode",get:function(){if(!this.value)return"none";var e=this.value.json;if(!e)return"none";var t=e.endTimeMode;return y(t)?"none":t},set:function(e){if(this.value){this.value.json.endTimeMode=e;var t=this.value.json.endISO8601;if(null!=t&&!y(t)){var n,a,i=I["DateTime"].fromISO(t),o=i.toLocal();switch(e){case"none":n=o.set({hour:0,minute:0,second:0}),a=n.toUTC(),this.value.json.endISO8601=a.toISO();break;case"time":break}}this.ForceAssignmentsToUseProjectSchedule&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged()}}},{key:"StartTimeMode",get:function(){if(!this.value)return"none";var e=this.value.json;if(!e)return"none";var t=e.startTimeMode;return y(t)?"none":t},set:function(e){if(this.value){this.value.json.startTimeMode=e;var t=this.value.json.startISO8601;if(null!=t&&!y(t)){var n,a,i=I["DateTime"].fromISO(t),o=i.toLocal();switch(e){case"none":n=o.set({hour:0,minute:0,second:0}),a=n.toUTC(),this.value.json.startISO8601=a.toISO();break;case"morning-first-thing":n=o.set({hour:8,minute:0,second:0}),a=n.toUTC(),this.value.json.startISO8601=a.toISO();break;case"morning-second-thing":n=o.set({hour:10,minute:0,second:0}),a=n.toUTC(),this.value.json.startISO8601=a.toISO();break;case"afternoon-first-thing":n=o.set({hour:13,minute:0,second:0}),a=n.toUTC(),this.value.json.startISO8601=a.toISO();break;case"afternoon-second-thing":n=o.set({hour:15,minute:0,second:0}),a=n.toUTC(),this.value.json.startISO8601=a.toISO();break;case"time":break}}this.ForceAssignmentsToUseProjectSchedule&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged()}}},{key:"HasStartISO8601",get:function(){if(!this.value)return!1;var e=this.value.json;if(!e)return!1;var t=e.hasStartISO8601;return void 0!==t&&t},set:function(e){if(this.value){if(this.value.json.hasStartISO8601=e,!e){this.value.json.startTimeMode="none";var t=I["DateTime"].local();t=t.set({hour:0,minute:0,second:0}),t=t.toUTC(),this.value.json.startISO8601=t.toISO()}this.ForceAssignmentsToUseProjectSchedule&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged()}}},{key:"ForceLabourAsExtra",get:function(){if(!this.value)return!1;var e=this.value.json;if(!e)return!1;var t=e.forceLabourAsExtra;return void 0!==t&&null!==t&&t},set:function(e){if(this.value&&this.value.id){if(this.value.json.forceLabourAsExtra=e,e){var t,n={},a=Ue.ForProjectIds([this.value.id]),i=Object(G["a"])(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;o.id&&(o.json.isExtra=!0,n[o.id]=o)}}catch(s){i.e(s)}finally{i.f()}Ue.UpdateIds(n)}this.SignalChanged()}}},{key:"ForceAssignmentsToUseProjectSchedule",get:function(){if(!this.value)return!1;var e=this.value.json;if(!e)return!1;var t=e.forceAssignmentsToUseProjectSchedule;return void 0!==t&&null!==t&&t},set:function(e){this.value&&(this.value.json.forceAssignmentsToUseProjectSchedule=e,e&&this.UpdateAssignmentsToProjectSchedule(),this.SignalChanged())}},{key:"UpdateAssignmentsToProjectSchedule",value:function(){if(this.value&&this.value.id){var e,t={},n=Ze.ForProjectIds([this.value.id]),a=Object(G["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.id&&(i.json.startISO8601=this.value.json.startISO8601,i.json.hasEndISO8601=this.value.json.hasEndISO8601,i.json.endTimeMode=this.value.json.endTimeMode,i.json.endISO8601=this.value.json.endISO8601,i.json.hasStartISO8601=this.value.json.hasStartISO8601,i.json.startTimeMode=this.value.json.startTimeMode,t[i.id]=i)}}catch(o){a.e(o)}finally{a.f()}Ze.UpdateIds(t)}}},{key:"HasEndISO8601",get:function(){if(!this.value)return!1;var e=this.value.json;if(!e)return!1;var t=e.hasEndISO8601;return void 0!==t&&t},set:function(e){this.value&&(this.value.json.hasEndISO8601=e,this.SignalChanged())}},{key:"StartTravel",value:function(){this.value&&this.value.id&&ze.StartTravelForId(this.value.id)}},{key:"StartOnSite",value:function(){this.value&&this.value.id&&ze.StartOnSiteForId(this.value.id)}},{key:"StartRemote",value:function(){this.value&&this.value.id&&ze.StartRemoteForId(this.value.id)}},{key:"PushScheduleToChildren",value:function(){if(console.log("PushScheduleToChildren",this.value),this.value&&this.value.id){var e,t={},n=ze.ChildProjectsOfId(this.value.id),a=Object(G["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;i.id&&(i.lastModifiedISO8601=I["DateTime"].utc().toISO(),i.json.lastModifiedBillingId=he.CurrentBillingContactId(),i.json.hasStartISO8601=this.value.json.hasStartISO8601,i.json.startTimeMode=this.value.json.startTimeMode,i.json.startISO8601=this.value.json.startISO8601,i.json.hasEndISO8601=this.value.json.hasEndISO8601,i.json.endTimeMode=this.value.json.endTimeMode,i.json.endISO8601=this.value.json.endISO8601,t[i.id]=i)}}catch(o){a.e(o)}finally{a.f()}console.log("payload",t),ze.UpdateIds(t)}}},{key:"DoPrint",value:function(){var e;ca.Open({name:"ProjectReportDialogue",state:{allLoadedProjects:!1,specificProjects:[null===(e=this.value)||void 0===e?void 0:e.id]}})}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentModel.json.projectId=this.$route.params.id,this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],xg.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xg.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xg.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xg.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],xg.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],xg.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],xg.prototype,"isMakingNew",void 0),xg=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,AssignmentsList:io,ProjectNoteCard:Wr,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,LabeledCompanyEditRowArrayAdapter:Yh,LabeledContactEditRowArrayAdapter:pg,MaterialsList:_g,LabourList:Ro,AddressEditRowArrayAdapter:Wb,NoteList:rl,ProjectList:os,ReloadButton:ms,AddAssignmentDialogue2:Gl,NotificationBellButton:hl}})],xg);var Rg=xg;p["c"].component("ProjectEditor",xg);var Mg=Rg,Ag=Object(ha["a"])(Mg,ah,ih,!1,null,null,null),Tg=Ag.exports;ga()(Ag,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VDatePicker:Do["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VRow:Da["a"],VSelect:Dl["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VTimePicker:Al["a"],VToolbarTitle:wo["a"]});var Vg=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ProjectCombinedDescriptionForId=ze.CombinedDescriptionForId,e.ProjectStartScheduleDescriptionForId=ze.StartScheduleDescriptionForId,e.ProjectEndScheduleDescriptionForId=ze.EndScheduleDescriptionForId,e.ProjectNameForId=ze.NameForId,e.ContactNameForId=un.NameForId,e.CompanyNameForId=tn.NameForId,e.BillingContactForId=he.ForId,e.ProjectStatusForId=kn.ForId,e.MobileDeviceWidth=ma,e.newDialogueVisible=!1,e.newDialogueObject=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){if(null!=this.value&&!y(this.value)){var e=ze.ForId(this.value);if(null==e){var t=this.value;x.Ready((function(){Q.Ready((function(){ze.FetchForId(t)}))}))}}do{var n=this.$refs.input.$slots.default;if(!n)break;var a,i=Object(G["a"])(n);try{for(i.s();!(a=i.n()).done;){var o=a.value;if(o){var s=o.elm;if(s){var r=s.parentElement;r&&(r.style.flexDirection="column",r.style.alignItems="start",r.style.borderBottom="thin solid grey")}}}}catch(l){i.e(l)}finally{i.f()}}while(0)}},{key:"Project",get:function(){if(null===this.value)return null;var e=ze.ForId(this.value);return e||null}},{key:"ParentProject",get:function(){if(null===this.value)return null;if(!this.Project||!this.Project.json||!this.Project.json.parentId)return null;var e=ze.ForId(this.Project.json.parentId);return e||null}},{key:"ParentProjectName",get:function(){return this.Project&&this.Project.json&&ze.CombinedDescriptionForId(this.Project.json.parentId)||null}},{key:"ProjectStatus",get:function(){if(!this.Project||!this.Project.json)return null;var e=this.Project.json.statusId;return e?kn.ForId(e):null}},{key:"ProjectLastModifiedLocalDisplay",get:function(){if(!this.Project||!this.Project.json)return null;var e=this.Project.lastModifiedISO8601;if(!e||y(e))return null;var t=I["DateTime"].fromISO(e);if(!t)return null;var n=t.toLocal();return n&&n.toLocaleString(I["DateTime"].DATETIME_SHORT)||null}},{key:"ProjectLastModifiedWho",get:function(){if(!this.Project||!this.Project.json)return null;var e=this.Project.json.lastModifiedBillingId;return!e||y(e)?null:he.ForId(e)}},{key:"SelectNewProject",value:function(){var e=this;this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(this.selectDialogOpen=!0,requestAnimationFrame((function(){e.$refs.list.SelectFilterField()})))}},{key:"ClearValue",value:function(){this.disabled?console.debug("not opening select because field is disabled"):this.readonly?console.debug("not opening because field is read only"):(this.$emit("input",null),this.selectDialogOpen=!1)}},{key:"OpenProject",value:function(){y(this.value)?console.error("Can't go to the project as value is null"):this.$router.push("/section/projects/".concat(this.value,"?tab=General")).catch((function(e){}))}},{key:"OnClickEntry",value:function(e){console.debug("OnClickEntry",e),this.$emit("input",e),this.selectDialogOpen=!1}},{key:"OpenNewDialogue",value:function(){console.debug("OpenNewDialogue()"),this.newDialogueObject=ze.GetEmpty(),this.newDialogueVisible=!0}},{key:"NewDialogueCancel",value:function(){console.debug("NewDialogueCancel()"),this.$refs.editor.ResetValidation(),this.newDialogueObject=ze.GetEmpty(),this.newDialogueVisible=!1}},{key:"NewDialogueSaveAndAdd",value:function(){if(console.debug("NewDialogueSaveAndAdd()",this.newDialogueObject),this.newDialogueObject&&this.$refs.editor.IsValidated()){var e=this.newDialogueObject;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t={};t[e.id]=e,ze.UpdateIds(t),this.$emit("input",e.id),this.$refs.editor.ResetValidation(),this.newDialogueObject=ze.GetEmpty(),this.newDialogueVisible=!1,this.selectDialogOpen=!1}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Cs);Object(v["a"])([Object(p["b"])({default:"Project"})],Vg.prototype,"label",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Vg.prototype,"excludeIds",void 0),Vg=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ProjectEditor:Tg}})],Vg);var Bg=Vg;p["c"].component("ProjectSelectField",Vg);var Lg=Bg,Ng=(n("0ee5"),Object(ha["a"])(Lg,th,nh,!1,null,"168227cc",null)),Eg=Ng.exports;ga()(Ng,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VChip:Vi["a"],VDialog:Pa["a"],VDivider:Ea["a"],VIcon:ka["a"],VInput:Hs["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var Fg=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return null}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],Fg.prototype,"value",void 0),Fg=Object(v["a"])([Object(p["a"])({components:{ProjectSelectField:Eg}})],Fg);var qg,Gg=Fg,$g=Gg,Ug=Object(ha["a"])($g,Zf,eh,!1,null,null,null),Hg=Ug.exports;ga()(Ug,{VBtn:ya["a"],VDivider:Ea["a"],VIcon:ka["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"]});var Wg=qg=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ProjectCombinedDescriptionForId=ze.CombinedDescriptionForId,e.ProjectStartScheduleDescriptionForId=ze.StartScheduleDescriptionForId,e.ProjectEndScheduleDescriptionForId=ze.EndScheduleDescriptionForId,e.ModelState=qg.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"NULL_SENTINEL",get:function(){return qg.NULL_SENTINEL}},{key:"MaxSteps",get:function(){return 6}},{key:"DialogueName",get:function(){return"MergeProjectsDialogue"}},{key:"ResetAndClose",value:function(){this.ModelState=qg.GenerateEmpty(),ca.Close(this.DialogueName),this.currentStep=1}},{key:"Finalize",value:function(){var e=this;console.log("Finalize()");var t=this.ModelState,n=F.a.filter(t.projectIds,(function(e){return null!=e}));if(console.debug("filteredProjectIds",n),n.length<2)return D.AddNotification({severity:"error",message:"Not enough projects have been selected, we must merge at least 2.",autoClearInSeconds:10}),void(this.currentStep=1);if(t.selectedName===this.NULL_SENTINEL&&this.ProjectNames.length>0)return D.AddNotification({severity:"error",message:"You must select a name.",autoClearInSeconds:10}),void(this.currentStep=2);if(t.selectedName===this.NULL_SENTINEL&&(t.selectedName="No project name.",this.ModelState=t),t.selectedParentProject===this.NULL_SENTINEL&&this.ParentProjects.length>0)return D.AddNotification({severity:"error",message:"You must select a parent project.",autoClearInSeconds:10}),void(this.currentStep=3);if(t.selectedStatus===this.NULL_SENTINEL&&this.Statuses.length>0)return D.AddNotification({severity:"error",message:"You must select a status.",autoClearInSeconds:10}),void(this.currentStep=4);if(t.selectedSchedule===this.NULL_SENTINEL&&this.Schedules.length>0)return D.AddNotification({severity:"error",message:"You must select a schedule.",autoClearInSeconds:10}),void(this.currentStep=5);var a=ze.GetEmpty();if(a.id){a.json.parentId=t.selectedParentProject===this.NULL_SENTINEL?null:t.selectedParentProject,a.json.lastModifiedBillingId=he.CurrentBillingContactId(),a.json.name=t.selectedName===this.NULL_SENTINEL?null:t.selectedName,a.json.statusId=t.selectedStatus===this.NULL_SENTINEL?null:t.selectedStatus,a.json.forceLabourAsExtra=this.ComputedForceLabourAsExtra,a.json.forceAssignmentsToUseProjectSchedule=this.ComputedForceAssignmentsToUseProjectSchedule;var i,o=Object(G["a"])(t.projectIds);try{for(o.s();!(i=o.n()).done;){var s=i.value,r=ze.ForId(s);if(r){var l,c=Object(G["a"])(r.json.addresses);try{for(c.s();!(l=c.n()).done;){var u=l.value;a.json.addresses.push(u)}}catch(T){c.e(T)}finally{c.f()}var d,m=Object(G["a"])(r.json.contacts);try{for(m.s();!(d=m.n()).done;){var v=d.value;a.json.contacts.push(v)}}catch(T){m.e(T)}finally{m.f()}var p,f=Object(G["a"])(r.json.companies);try{for(f.s();!(p=f.n()).done;){var h=p.value;a.json.companies.push(h)}}catch(T){f.e(T)}finally{f.f()}}}}catch(T){o.e(T)}finally{o.f()}if(t.selectedSchedule!==this.NULL_SENTINEL){var b=ze.ForId(t.selectedSchedule);b&&(a.json.hasStartISO8601=b.json.hasStartISO8601,a.json.startTimeMode=b.json.startTimeMode,a.json.startISO8601=b.json.startISO8601,a.json.hasEndISO8601=b.json.hasEndISO8601,a.json.endTimeMode=b.json.endTimeMode,a.json.endISO8601=b.json.endISO8601)}console.debug("newProject",a);var g=[],y=Sn.RequestProjectNotes.Send({sessionId:ce.CurrentSessionId()});y.completeRequestPromise&&g.push(y.completeRequestPromise);var C,j=Object(G["a"])(t.projectIds);try{for(j.s();!(C=j.n()).done;){var S=C.value,P=ze.ForId(S);if(P){var O=Ze.RequestAssignments.Send({sessionId:ce.CurrentSessionId(),limitToProjectId:S});O.completeRequestPromise&&g.push(O.completeRequestPromise)}}}catch(T){j.e(T)}finally{j.f()}var k=gn.RequestMaterials.Send({sessionId:ce.CurrentSessionId()});k.completeRequestPromise&&g.push(k.completeRequestPromise);var _,w=Object(G["a"])(t.projectIds);try{for(w.s();!(_=w.n()).done;){var x=_.value,R=ze.ForId(x);if(R){var M=Ue.RequestLabour.Send({sessionId:ce.CurrentSessionId(),limitToProjectId:x});M.completeRequestPromise&&g.push(M.completeRequestPromise)}}}catch(T){w.e(T)}finally{w.f()}if(g.length>0){var A=Promise.all(g);A.catch((function(e){D.AddNotification({severity:"error",message:"Unable to request all information to start merge, we got the following error: ".concat(e.message),autoClearInSeconds:10})})),A.then((function(){if(a.id){var t=Sn.ForProjectIds(n);console.debug("notesToModify",t);var i=Ze.ForProjectIds(n);console.debug("assignmentsToModify",i);var o=gn.ForProjectIds(n);console.debug("materialsToModify",o);var s=Ue.ForProjectIds(n);console.debug("labourEntriesToModify",s);var r={};r[a.id]=a,ze.UpdateIds(r);var l,c={},u=Object(G["a"])(t);try{for(u.s();!(l=u.n()).done;){var d=l.value,m=F.a.cloneDeep(d);m.id?(m.json.projectId=a.id,m.lastModifiedISO8601=I["DateTime"].utc().toISO(),m.json.lastModifiedBillingId=he.CurrentBillingContactId(),c[m.id]=m):console.error("!clone.id")}}catch(T){u.e(T)}finally{u.f()}Sn.UpdateIds(c);var v,p={},f=Object(G["a"])(i);try{for(f.s();!(v=f.n()).done;){var h=v.value,b=F.a.cloneDeep(h);b.id?(b.json.projectId=a.id,b.lastModifiedISO8601=I["DateTime"].utc().toISO(),b.json.lastModifiedBillingId=he.CurrentBillingContactId(),p[b.id]=b):console.error("!clone.id")}}catch(T){f.e(T)}finally{f.f()}Ze.UpdateIds(p);var g,y={},C=Object(G["a"])(o);try{for(C.s();!(g=C.n()).done;){var j=g.value,S=F.a.cloneDeep(j);S.id?(S.json.projectId=a.id,S.lastModifiedISO8601=I["DateTime"].utc().toISO(),S.json.lastModifiedBillingId=he.CurrentBillingContactId(),y[S.id]=S):console.error("!clone.id")}}catch(T){C.e(T)}finally{C.f()}gn.UpdateIds(y);var P,O={},k=Object(G["a"])(s);try{for(k.s();!(P=k.n()).done;){var _=P.value,w=F.a.cloneDeep(_);w.id?(w.json.projectId=a.id,w.lastModifiedISO8601=I["DateTime"].utc().toISO(),w.json.lastModifiedBillingId=he.CurrentBillingContactId(),O[w.id]=w):console.error("!clone.id")}}catch(T){k.e(T)}finally{k.f()}Ue.UpdateIds(O),ze.DeleteIds(n),e.ResetAndClose()}else D.AddNotification({severity:"error",message:"Error during merge.",autoClearInSeconds:10})}))}}else D.AddNotification({severity:"error",message:"Error during merge.",autoClearInSeconds:10})}},{key:"ProjectIDs",get:function(){var e=this.ModelState;return e?e.projectIds&&0!==e.projectIds.length?e.projectIds:[]:(console.warn("Attempted to get on null state, returning []."),[])},set:function(e){var t=this.ModelState;t?(t.projectIds=e,t.selectedName=this.NULL_SENTINEL,t.selectedStatus=this.NULL_SENTINEL,t.selectedParentProject=this.NULL_SENTINEL,this.ModelState=t):console.warn("Attempted to set on null state, returning.")}},{key:"ProjectIDsValidates",get:function(){var e=this.ModelState,t=F.a.filter(e.projectIds,(function(e){return null!=e}));return t.length>=2}},{key:"SelectedName",get:function(){var e=this.ModelState;return e?y(e.selectedName)?null:e.selectedName:(console.warn("Attempted to get on null state, returning null."),null)},set:function(e){var t=this.ModelState;t?(t.selectedName=e,this.ModelState=t):console.warn("Attempted to set on null state, returning.")}},{key:"SelectedParent",get:function(){var e=this.ModelState;return e?y(e.selectedParentProject)?null:e.selectedParentProject:(console.warn("Attempted to get on null state, returning."),null)},set:function(e){var t=this.ModelState;t?(t.selectedParentProject=e,this.ModelState=t):console.warn("Attempted to set on null state, returning null.")}},{key:"SelectedStatus",get:function(){var e=this.ModelState;return e?y(e.selectedStatus)?null:e.selectedStatus:(console.warn("Attempted to get on null state, returning."),null)},set:function(e){var t=this.ModelState;t?(t.selectedStatus=e,this.ModelState=t):console.warn("Attempted to set on null state, returning.")}},{key:"SelectedSchedule",get:function(){var e=this.ModelState;return e?e.selectedSchedule?e.selectedSchedule:null:(console.warn("Attempted to get on null state, returning."),null)},set:function(e){var t=this.ModelState;t?(t.selectedSchedule=e,this.ModelState=t):console.warn("Attempted to set on null state, returning.")}},{key:"ComputedForceAssignmentsToUseProjectSchedule",get:function(){var e=this.ModelState,t=e.projectIds;if(!t||0===t.length)return!0;var n,a=Object(G["a"])(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=ze.ForId(i);if(o&&!o.json.forceAssignmentsToUseProjectSchedule)return!1}}catch(s){a.e(s)}finally{a.f()}return!0}},{key:"ComputedForceLabourAsExtra",get:function(){var e=this.ModelState,t=e.projectIds;if(!t||0===t.length)return!0;var n,a=Object(G["a"])(t);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=ze.ForId(i);if(o&&!o.json.forceLabourAsExtra)return!1}}catch(s){a.e(s)}finally{a.f()}return!0}},{key:"ProjectNames",get:function(){if(!this.ModelState)return console.warn("Attempted to get on null state, returning []."),[];console.log("this.ModelState.projectIds",this.ModelState.projectIds);var e,t=[],n=Object(G["a"])(this.ModelState.projectIds);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a){var i=ze.NameForId(a);i&&!y(i)&&t.push(i)}}}catch(o){n.e(o)}finally{n.f()}return t}},{key:"ParentProjects",get:function(){var e=this.ModelState;if(!e)return console.warn("Attempted to get on null state, returning []."),[];var t,n=[],a=Object(G["a"])(e.projectIds);try{var i=function(){var a=t.value;if(!a)return"continue";var i=ze.ForId(a);if(!i||!i.json)return"continue";var o=i.json.parentId;if(!o||y(o))return"continue";if(F.a.find(e.projectIds,(function(e){return e===o})))return"continue";var s=ze.ForId(o);if(!s||!s.json)return"continue";var r="";if(s&&s.json&&s.json.addresses)for(var l=0;l<s.json.addresses.length;l++){var c=s.json.addresses[l];r+=c.value,l!==s.json.addresses.length-1&&(r+=", ")}n.push({id:o,parentName:s.json.name,parentAddresses:r})};for(a.s();!(t=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return n}},{key:"Statuses",get:function(){if(!this.ModelState)return console.warn("Attempted to get on null state, returning []."),[];var e,t=[],n=Object(G["a"])(this.ModelState.projectIds);try{var a=function(){var n=e.value;if(!n)return"continue";var a=ze.ForId(n);if(!a||!a.json)return"continue";var i=a.json.statusId;if(!i||y(i))return"continue";var o=kn.ForId(i);if(!o)return"continue";F.a.find(t,(function(e){return e.id===i}))||t.push({id:i,name:o.json.name})};for(n.s();!(e=n.n()).done;)a()}catch(i){n.e(i)}finally{n.f()}return t}},{key:"Schedules",get:function(){if(!this.ModelState)return console.warn("Attempted to get on null state, returning []."),[];var e,t=[],n=Object(G["a"])(this.ModelState.projectIds);try{for(n.s();!(e=n.n()).done;){var a=e.value;if(a){var i=ze.ForId(a);if(i&&i.json){var o={fromProject:a,startDescription:ze.StartScheduleDescriptionForId(a),endDescription:ze.EndScheduleDescriptionForId(a),hasStartISO8601:i.json.hasStartISO8601,startISO8601:i.json.startISO8601,startTimeMode:i.json.startTimeMode,hasEndISO8601:i.json.hasEndISO8601,endTimeMode:i.json.endTimeMode,endISO8601:i.json.endISO8601};t.push(o)}}}}catch(s){n.e(s)}finally{n.f()}return t}},{key:"AreThereProjectsSelected",get:function(){if(!this.ModelState)return console.warn("Attempted to get on null state, returning false."),!1;var e,t=Object(G["a"])(this.ModelState.projectIds);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return!0}}catch(a){t.e(a)}finally{t.f()}return!1}}],[{key:"GenerateEmpty",value:function(){return{projectIds:[null,null],selectedName:qg.NULL_SENTINEL,selectedParentProject:qg.NULL_SENTINEL,selectedStatus:qg.NULL_SENTINEL,selectedSchedule:qg.NULL_SENTINEL}}}]),n}(Mp);Wg.NULL_SENTINEL="__NULL_SENTINEL_".concat(k(),"__"),Wg=qg=Object(v["a"])([Object(p["a"])({components:{ProjectSelectFieldArrayAdapter:Hg}})],Wg);var Kg=Wg,zg=Kg,Jg=Object(ha["a"])(zg,Qf,Xf,!1,null,null,null),Yg=Jg.exports;ga()(Jg,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VSpacer:_a["a"],VStepper:Bp["a"],VStepperContent:Lp["a"],VStepperStep:Np["a"],VSwitch:il["a"]});var Qg,Xg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("New Call Assistant")]),n("v-divider"),n("v-card-text",[n("v-form",{ref:"form",attrs:{autocomplete:"newpassword"}},[n("v-stepper",{staticStyle:{"-webkit-box-shadow":"inherit","box-shadow":"inherit"},attrs:{vertical:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[n("v-stepper-step",{attrs:{complete:e.currentStep>1,editable:"",step:"1"}},[e._v(" Who is involved in this project? "),n("small",[e._v("Add homeowner, designer, architect, decision maker, etc…")])]),n("v-stepper-content",{attrs:{step:"1"}},[n("LabeledContactEditRowArrayAdapter",{staticClass:"e2e-contacts-array",attrs:{reducePadding:!0},model:{value:e.Contacts,callback:function(t){e.Contacts=t},expression:"Contacts"}}),n("v-input",{attrs:{rules:[this.EnsureContactArrayHasAtLeastOneContact]},model:{value:e.Contacts,callback:function(t){e.Contacts=t},expression:"Contacts"}})],1),n("v-stepper-step",{staticClass:"e2e-step-project",attrs:{complete:e.currentStep>2,editable:"",step:"2"}},[e._v(" Project "),n("small",[e._v("Select which project this call is about.")])]),n("v-stepper-content",{attrs:{step:"2"}},[n("ProjectSelectField",{staticClass:"e2e-new-call-dialogue-project-select-field",attrs:{required:!0,rules:[this.EnsureProjectFieldIsFilled]},model:{value:e.ProjectId,callback:function(t){e.ProjectId=t},expression:"ProjectId"}})],1),n("v-stepper-step",{staticClass:"e2e-step-assignments",attrs:{complete:e.currentStep>3,editable:"",step:"3"}},[e._v(" Assignments "),n("small",[e._v("How many people should be assigned to this?")])]),n("v-stepper-content",{attrs:{step:"3"}},[n("p",{staticStyle:{"margin-top":"40px"}},[n("v-slider",{attrs:{max:100,min:1,step:"1",label:"Assignment Count","thumb-label":"",ticks:"",rules:[e.ValidateRequiredField]},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{"hide-details":"","single-line":"",type:"number",step:"1",min:"1",max:"100"},model:{value:e.NumberOfAssignments,callback:function(t){e.NumberOfAssignments=t},expression:"NumberOfAssignments"}})]},proxy:!0}]),model:{value:e.NumberOfAssignments,callback:function(t){e.NumberOfAssignments=t},expression:"NumberOfAssignments"}})],1)]),n("v-stepper-step",{staticClass:"e2e-step-additional-information",attrs:{step:"4",editable:""}},[e._v(" Additional Information ")]),n("v-stepper-content",{attrs:{step:"4"}},[n("v-textarea",{staticClass:"e2e-new-call-dialogue-work-requested",attrs:{label:"Work Requested","auto-grow":""},model:{value:e.WorkRequested,callback:function(t){e.WorkRequested=t},expression:"WorkRequested"}}),n("v-textarea",{staticClass:"e2e-new-call-dialogue-internal-comments",attrs:{label:"Internal Comments (Not to be Shared With Clients)","auto-grow":""},model:{value:e.InternalComments,callback:function(t){e.InternalComments=t},expression:"InternalComments"}})],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.ResetAndClose()}}},[e._v("Close")]),n("v-btn",{staticClass:"e2e-new-call-dialogue-next-button",attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.Next()}}},[e._v("Next")])],1)],1)],1)},Zg=[],ey=function(e){return!y(e)||"You must specify a project."},ty=function(e){var t,n=!1,a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i&&(i.value&&!y(i.value))){n=!0;break}}}catch(o){a.e(o)}finally{a.f()}return!!n||"At least one contact must be entered."},ny=Qg=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ValidateRequiredField=zs,e.EnsureProjectFieldIsFilled=ey,e.EnsureContactArrayHasAtLeastOneContact=ty,e.ModelState=Qg.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"MaxSteps",get:function(){return 4}},{key:"DialogueName",get:function(){return"NewCallDialogue"}},{key:"Next",value:function(){var e=this.EnsureContactArrayHasAtLeastOneContact(this.Contacts);if("string"===typeof e)return D.AddNotification({severity:"error",message:e,autoClearInSeconds:10}),void(this.currentStep=1);var t=this.EnsureProjectFieldIsFilled(this.ProjectId);if("string"===typeof t)return D.AddNotification({severity:"error",message:t,autoClearInSeconds:10}),void(this.currentStep=2);+this.currentStep===+this.MaxSteps?this.Finalize():this.currentStep++}},{key:"Finalize",value:function(){console.log("finalize");var e=ze.ForId(this.ProjectId);if(e&&e.id){var t=e.json.contacts;t||(console.log("!projectContacts so we're setting it to []"),t=[]);var n,a=Object(G["a"])(this.Contacts);try{for(a.s();!(n=a.n()).done;){var i,o=n.value,s=(o.label||"").trim(),r=(o.value||"").trim(),l=!1,c=Object(G["a"])(t);try{for(c.s();!(i=c.n()).done;){var u=i.value,d=(u.label||"").trim(),m=(u.value||"").trim();if(s===d&&r===m){l=!0;break}}}catch(y){c.e(y)}finally{c.f()}!0!==l&&t.push(o)}}catch(y){a.e(y)}finally{a.f()}e.json.contacts=t;var v={};v[e.id]=e,ze.UpdateIds(v);for(var p={},f={},h=0;h<this.ModelState.numberOfAssignments;h++){var b=Ze.GetEmpty();b.id&&(b.json.projectId=this.ProjectId,b.json.workRequested=this.WorkRequested,p[b.id]=b);var g=Sn.GetEmpty();g.id&&(g.lastModifiedISO8601=I["DateTime"].utc().toISO(),g.json.lastModifiedBillingId=he.CurrentBillingContactId(),g.json.originalBillingId=he.CurrentBillingContactId(),g.json.originalISO8601=g.lastModifiedISO8601,g.json.assignmentId=b.id||null,g.json.projectId=e.id||null,g.json.contentType="styled-text",g.json.content=el.GetEmpty(),g.json.content.html=escape(this.InternalComments),g.json.internalOnly=!0,f[g.id]=g)}Ze.UpdateIds(p),Sn.UpdateIds(f),this.$router.push("/section/projects/".concat(this.ProjectId,"?tab=General")).catch((function(e){})),this.ResetAndClose()}else D.AddNotification({severity:"error",message:"There was an error retrieving the project.",autoClearInSeconds:10})}},{key:"ResetAndClose",value:function(){this.ModelState=Qg.GenerateEmpty(),this.$refs.form.resetValidation(),ca.Close(this.DialogueName),this.currentStep=1}},{key:"Confirm",value:function(){ca.Close(this.DialogueName),this.ModelState=Qg.GenerateEmpty()}},{key:"Contacts",get:function(){return this.ModelState&&this.ModelState.contacts?this.ModelState.contacts:[]},set:function(e){if(this.ModelState){var t=this.ModelState;t.contacts=null==e?[]:e,this.ModelState=t}}},{key:"ProjectId",get:function(){return this.ModelState&&this.ModelState.projectId?this.ModelState.projectId:""},set:function(e){if(this.ModelState){var t=this.ModelState;t.projectId=y(e)?"":e,this.ModelState=t}}},{key:"NumberOfAssignments",get:function(){return this.ModelState&&this.ModelState.numberOfAssignments?this.ModelState.numberOfAssignments:0},set:function(e){if(this.ModelState){var t=this.ModelState;t.numberOfAssignments=e?+e:0,this.ModelState=t}}},{key:"WorkRequested",get:function(){return this.ModelState&&this.ModelState.workRequested?this.ModelState.workRequested:""},set:function(e){if(this.ModelState){var t=this.ModelState;t.workRequested=y(e)?"":e,this.ModelState=t}}},{key:"InternalComments",get:function(){return this.ModelState&&this.ModelState.internalComments?this.ModelState.internalComments:""},set:function(e){if(this.ModelState){var t=this.ModelState;t.internalComments=y(e)?"":e,this.ModelState=t}}}],[{key:"GenerateEmpty",value:function(){return{contacts:[pg.GenerateEmptyRow()],projectId:"",numberOfAssignments:1,workRequested:"",internalComments:""}}}]),n}(Mp);ny=Qg=Object(v["a"])([Object(p["a"])({components:{LabeledContactEditRowArrayAdapter:pg}})],ny);var ay=ny,iy=ay,oy=Object(ha["a"])(iy,Xg,Zg,!1,null,null,null),sy=oy.exports;ga()(oy,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VInput:Hs["a"],VSlider:_m["a"],VSpacer:_a["a"],VStepper:Bp["a"],VStepperContent:Lp["a"],VStepperStep:Np["a"],VTextField:wa["a"],VTextarea:ol["a"]});var ry=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Contact")]),n("v-divider"),n("v-card-text",[n("ContactEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},ly=[],cy=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=un.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyContactDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=un.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,un.UpdateIds(t),this.$router.push("/section/contacts/".concat(e.id,"?tab=General")).catch((function(e){})),ca.Close(this.DialogueName),this.ModelState=un.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);cy=Object(v["a"])([Object(p["a"])({components:{ContactEditor:Xb}})],cy);var uy=cy,dy=uy,my=Object(ha["a"])(dy,ry,ly,!1,null,null,null),vy=my.exports;ga()(my,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var py=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Project")]),n("v-divider"),n("v-card-text",[n("ProjectEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},fy=[],hy=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=ze.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"AddProjectDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=ze.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,ze.UpdateIds(t),this.$router.push("/section/projects/".concat(e.id,"?tab=General")).catch((function(e){})),ca.Close(this.DialogueName),this.ModelState=ze.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);hy=Object(v["a"])([Object(p["a"])({components:{ProjectEditor:Tg}})],hy);var by=hy,gy=by,yy=Object(ha["a"])(gy,py,fy,!1,null,null,null),Cy=yy.exports;ga()(yy,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var jy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Company")]),n("v-divider"),n("v-card-text",[n("CompanyEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},Sy=[],Iy=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=tn.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyCompanyDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=tn.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,tn.UpdateIds(t),this.$router.push("/section/companies/".concat(e.id,"?tab=General")).catch((function(e){})),ca.Close(this.DialogueName),this.ModelState=tn.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);Iy=Object(v["a"])([Object(p["a"])({components:{CompanyEditor:Mh}})],Iy);var Py=Iy,Oy=Py,ky=Object(ha["a"])(Oy,jy,Sy,!1,null,null,null),Dy=ky.exports;ga()(ky,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var _y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Global Search")]),n("v-divider"),n("v-card-text",[n("v-stepper",{staticStyle:{"-webkit-box-shadow":"inherit","box-shadow":"inherit"},attrs:{vertical:""},model:{value:e.currentStep,callback:function(t){e.currentStep=t},expression:"currentStep"}},[n("v-stepper-step",{attrs:{complete:e.currentStep>1,editable:"",step:"1"}},[e._v(" Select an app "),n("small",[e._v("Summarize if needed")])]),n("v-stepper-content",{attrs:{step:"1"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=2}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1),n("v-stepper-step",{attrs:{complete:e.currentStep>2,editable:"",step:"2"}},[e._v("Configure analytics for this app")]),n("v-stepper-content",{attrs:{step:"2"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=3}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1),n("v-stepper-step",{attrs:{complete:e.currentStep>3,editable:"",step:"3"}},[e._v("Select an ad format and name ad unit")]),n("v-stepper-content",{attrs:{step:"3"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=4}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1),n("v-stepper-step",{attrs:{step:"4",editable:""}},[e._v("View setup instructions")]),n("v-stepper-content",{attrs:{step:"4"}},[n("v-card",{staticClass:"mb-12",attrs:{color:"grey lighten-1",height:"200px"}}),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.currentStep=1}}},[e._v("Continue")]),n("v-btn",{attrs:{text:""}},[e._v("Cancel")])],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.ResetAndClose()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.Next()}}},[e._v("Next")])],1)],1)],1)},wy=[],xy=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"MaxSteps",get:function(){return 4}},{key:"DialogueName",get:function(){return"GlobalSearchDialogue"}}]),n}(Mp);xy=Object(v["a"])([Object(p["a"])({components:{}})],xy);var Ry=xy,My=Ry,Ay=Object(ha["a"])(My,_y,wy,!1,null,null,null),Ty=Ay.exports;ga()(Ay,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"],VStepper:Bp["a"],VStepperContent:Lp["a"],VStepperStep:Np["a"]});var Vy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Agent")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.Agent?n("span",[e._v(e._s(e.Agent.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},By=[],Ly=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),Ny=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=Ly.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteAgentDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=Ly.GetEmpty()}},{key:"Confirm",value:function(){console.log("confirm",this.ModelState);var e=this.ModelState,t=e.redirectToIndex;e.id&&Pe.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=Ly.GetEmpty(),t&&this.$router.push("/section/agents/").catch((function(e){}))}},{key:"Agent",get:function(){var e=this.ModelState,t=e.id;if(!e.id)return null;var n=Pe.ForId(t);return n}}],[{key:"GenerateEmpty",value:function(){return Ly.GetEmpty()}}]),n}(da);Ny=Object(v["a"])([Object(p["a"])({components:{}})],Ny);var Ey=Ny,Fy=Ey,qy=Object(ha["a"])(Fy,Vy,By,!1,null,null,null),Gy=qy.exports;ga()(qy,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var $y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Add Project Note")]),n("v-divider"),n("v-card-text",[n("ProjectNoteEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},Uy=[],Hy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Project Note")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{attrs:{isDialogue:e.isDialogue,showDetails:!1,disabled:"Connected"!=e.connectionStatus},model:{value:e.ProjectId,callback:function(t){e.ProjectId=t},expression:"ProjectId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("AssignmentSelectField",{attrs:{isDialogue:e.isDialogue,showOnlyProjectId:e.ProjectId,showDetails:!1,disabled:"Connected"!=e.connectionStatus},model:{value:e.AssignmentId,callback:function(t){e.AssignmentId=t},expression:"AssignmentId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Type")])])],1),n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-radio-group",{staticStyle:{"margin-top":"0px"},attrs:{rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.ContentType,callback:function(t){e.ContentType=t},expression:"ContentType"}},[n("v-radio",{attrs:{label:"Text",value:"styled-text",color:"primary"}}),n("v-radio",{attrs:{label:"Checkbox",value:"checkbox",color:"primary"}}),n("v-radio",{attrs:{label:"Image",value:"image",color:"primary"}}),n("v-radio",{attrs:{label:"Video",value:"video",color:"primary"}})],1)],1)],1),n("v-row",[e.ContentType?n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Content")])]):e._e()],1),"styled-text"==e.ContentType?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("vue-editor",{attrs:{editorToolbar:e.customToolbar},model:{value:e.value.json.content.html,callback:function(t){e.$set(e.value.json.content,"html",t)},expression:"value.json.content.html"}})],1)],1):e._e(),"checkbox"==e.ContentType?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Checkbox Text",hint:"Text for the checkbox.",disabled:"Connected"!=e.connectionStatus},model:{value:e.value.json.content.text,callback:function(t){e.$set(e.value.json.content,"text",t)},expression:"value.json.content.text"}}),n("v-checkbox",{attrs:{label:"Checked",disabled:"Connected"!=e.connectionStatus},model:{value:e.value.json.content.checkboxState,callback:function(t){e.$set(e.value.json.content,"checkboxState",t)},expression:"value.json.content.checkboxState"}})],1)],1):e._e(),"image"==e.ContentType?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e.value.json.content.uri.startsWith("data:")?e._e():n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Image Link/URI",hint:"Enter the link/uri to the image.",disabled:e.value.json.content.uri.startsWith("data:")||"Connected"!=e.connectionStatus,rules:[e.ValidateRequiredField]},model:{value:e.value.json.content.uri,callback:function(t){e.$set(e.value.json.content,"uri",t)},expression:"value.json.content.uri"}}),n("v-file-input",{attrs:{"prepend-icon":"mdi-camera",accept:"image/*",label:"Local File",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},on:{change:e.LocalFileChange}}),e.value.json.content.uri?n("v-img",{attrs:{src:e.value.json.content.uri,contain:""}}):e._e()],1)],1):e._e(),"video"==e.ContentType?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Video Link/URI",hint:"Enter the link/uri to the video.",disabled:"Connected"!=e.connectionStatus},model:{value:e.value.json.content.uri,callback:function(t){e.$set(e.value.json.content,"uri",t)},expression:"value.json.content.uri"}}),e.IsYoutube?n("div",[n("iframe",{staticStyle:{width:"100%",height:"480px",border:"none"},attrs:{allowfullscreen:"",src:"https://www.youtube.com/embed/"+e.YouTubeVideoID+"?rel=0"}})]):e.value.json.content.uri.endsWith(".mp4")||e.value.json.content.uri.endsWith(".m4v")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.json.content.uri,type:"video/mp4"}})])]):e.value.json.content.uri.endsWith(".mov")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.json.content.uri,type:"video/quicktime"}})])]):e.value.json.content.uri.endsWith(".ogg")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.json.content.uri,type:"video/ogg"}})])]):e.value.json.content.uri.endsWith(".avi")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.json.content.uri,type:"video/avi"}})])]):e.value.json.content.uri.endsWith(".mkv")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.json.content.uri,type:"video/mkv"}})])]):e.value.json.content.uri.endsWith(".webm")?n("div",[n("video",{staticStyle:{"max-width":"100%","max-height":"480px"},attrs:{controls:"",preload:"none"}},[n("source",{attrs:{src:e.value.json.content.uri,type:"video/webm"}})])]):e._e()],1)],1):e._e(),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Privacy")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Internal Only",disabled:"Connected"!=e.connectionStatus},model:{value:e.InternalOnly,callback:function(t){e.InternalOnly=t},expression:"InternalOnly"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this project note."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Project Note Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The project note no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the project note while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteProjectNoteDialogue",state:{redirectToIndex:!1,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},Wy=[],Ky=n("5873"),zy=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.editortest="asd",e.customToolbar=[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],["bold","italic","underline","strike"],[{script:"sub"},{script:"super"}],[{align:[]}],[{list:"ordered"},{list:"bullet"},{list:"check"}],["code-block","blockquote"],[{color:[]},{background:[]}],["link"],["clean"]],e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0}}},{key:"ProjectId",get:function(){return this.value&&this.value.json&&this.value.json.projectId?this.value.json.projectId:null},set:function(e){if(this.value&&this.value.json){if(this.value.json.projectId=y(e)?null:e,this.AssignmentId&&!y(this.AssignmentId)){var t=Ze.ForId(this.AssignmentId);t&&t.json.projectId!==e&&(this.AssignmentId=null)}this.SignalChanged()}}},{key:"AssignmentId",get:function(){return this.value&&this.value.json&&this.value.json.assignmentId?this.value.json.assignmentId:null},set:function(e){this.value&&this.value.json&&(this.value.json.assignmentId=y(e)?null:e,this.SignalChanged())}},{key:"InternalOnly",get:function(){return!(!this.value||!this.value.json)&&!!this.value.json.internalOnly},set:function(e){this.value&&this.value.json&&(this.value.json.internalOnly=!!e,this.SignalChanged())}},{key:"ContentType",get:function(){return this.value&&this.value.json&&this.value.json.contentType?this.value.json.contentType:null},set:function(e){if(this.value&&this.value.json){switch(this.value.json.contentType=y(e)?null:e,this.value.json.contentType){case"styled-text":this.value.json.content={html:""};break;case"checkbox":this.value.json.content={text:"",checkboxState:!1};break;case"image":this.value.json.content={uri:""};break;case"video":this.value.json.content={uri:""};break}this.SignalChanged()}}},{key:"LocalFileChange",value:function(e){var t=this;if(this.value&&this.value.json&&this.value.json.content&&"image"===this.value.json.contentType)if(e){var n=new FileReader;n.onloadend=function(){var a=e.type;if(n.result){var i=""+n.result,o=document.createElement("img");o.addEventListener("load",(function(){if(t.value&&t.value.json&&t.value.json.content&&"image"===t.value.json.contentType){var e=800,n=1e3,i=o.height,s=o.width,r=e/i,l=n/s,c=Math.min(r,l),u=i*c,d=s*c,m=document.createElement("canvas"),v=m.getContext("2d");if(v){m.width=d,m.height=u,v.drawImage(o,0,0,d,u);var p=m.toDataURL(a,.92);t.value.json.content.uri=p}}})),o.src=i}},n.readAsDataURL(e)}else this.value.json.content.uri=""}},{key:"IsYoutube",get:function(){return!(!(this.value&&this.value.json&&this.value.json.content&&"video"===this.value.json.contentType&&this.value.json.content.uri)||y(this.value.json.content.uri))&&-1!==this.value.json.content.uri.indexOf("youtube")}},{key:"YouTubeVideoID",get:function(){if(!this.value||!this.value.json||!this.value.json.content||"video"!==this.value.json.contentType||!this.value.json.content.uri||y(this.value.json.content.uri))return null;var e=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/,t=this.value.json.content.uri.match(e);return t&&11===t[2].length?t[2]:null}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],zy.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zy.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zy.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zy.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],zy.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],zy.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],zy.prototype,"isMakingNew",void 0),zy=Object(v["a"])([Object(p["a"])({components:{OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,VueEditor:Ky["a"],ReloadButton:ms,NotificationBellButton:hl}})],zy);var Jy=zy,Yy=Jy,Qy=Object(ha["a"])(Yy,Hy,Wy,!1,null,"14941681",null),Xy=Qy.exports;ga()(Qy,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCheckbox:gr["a"],VCol:Sa["a"],VContainer:Ia["a"],VFileInput:Qd["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VImg:Fa["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var Zy=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=Sn.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"AddProjectNoteDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=Sn.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),e.json.originalBillingId=he.CurrentBillingContactId(),e.json.originalISO8601=e.lastModifiedISO8601,this.ModelState=e;var t={};t[e.id]=e,Sn.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=Sn.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);Zy=Object(v["a"])([Object(p["a"])({components:{ProjectNoteEditor:Xy}})],Zy);var eC=Zy,tC=eC,nC=Object(ha["a"])(tC,$y,Uy,!1,null,null,null),aC=nC.exports;ga()(nC,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var iC=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Confim Deleting Project Note")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(" Are you sure you want to delete this note? ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v("Confirm")])],1)],1)],1)},oC=[],sC=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),rC=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=sC.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteProjectNoteDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=sC.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&Sn.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=sC.GetEmpty(),t&&this.$router.push("/section/projects").catch((function(e){}))}}],[{key:"GenerateEmpty",value:function(){return sC.GetEmpty()}}]),n}(da);rC=Object(v["a"])([Object(p["a"])({components:{}})],rC);var lC=rC,cC=lC,uC=Object(ha["a"])(cC,iC,oC,!1,null,null,null),dC=uC.exports;ga()(uC,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var mC=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Product")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.Product?n("span",[e._v(e._s(e.Product.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-product-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},vC=[],pC=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),fC=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=pC.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteProductDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=pC.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&xn.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=pC.GetEmpty(),t&&this.$router.push("/section/product-definitions").catch((function(e){}))}},{key:"Product",get:function(){var e=this.ModelState;return e.id?xn.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return pC.GetEmpty()}}]),n}(da);fC=Object(v["a"])([Object(p["a"])({components:{}})],fC);var hC=fC,bC=hC,gC=Object(ha["a"])(bC,mC,vC,!1,null,null,null),yC=gC.exports;ga()(gC,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var CC=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Product")]),n("v-divider"),n("v-card-text",[n("ProductEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},jC=[],SC=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=xn.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyProductDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=xn.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,xn.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=xn.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);SC=Object(v["a"])([Object(p["a"])({components:{ProductEditor:Gd}})],SC);var IC=SC,PC=IC,OC=Object(ha["a"])(PC,CC,jC,!1,null,null,null),kC=OC.exports;ga()(OC,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var DC=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Assignment Status")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.AssignmentStatus?n("span",[e._v(e._s(e.AssignmentStatus.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-assignment-status-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},_C=[],wC=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),xC=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=wC.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteAssignmentStatusDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=wC.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&Qt.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=wC.GetEmpty(),t&&this.$router.push("/section/assignment-status-definitions").catch((function(e){}))}},{key:"AssignmentStatus",get:function(){var e=this.ModelState;return e.id?Qt.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return wC.GetEmpty()}}]),n}(da);xC=Object(v["a"])([Object(p["a"])({components:{}})],xC);var RC=xC,MC=RC,AC=Object(ha["a"])(MC,DC,_C,!1,null,null,null),TC=AC.exports;ga()(AC,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var VC=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Assignment Status")]),n("v-divider"),n("v-card-text",[n("AssignmentStatusEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},BC=[],LC=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Assignment Status")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"name",staticClass:"e2e-assignment-status-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"Name of the Assignment Status",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{staticClass:"e2e-assignment-status-editor-is-open",attrs:{label:"Is Open",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Re-opened",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsReOpened,callback:function(t){e.IsReOpened=t},expression:"IsReOpened"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Assigned",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsAssigned,callback:function(t){e.IsAssigned=t},expression:"IsAssigned"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Waiting On Client",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsWaitingOnClient,callback:function(t){e.IsWaitingOnClient=t},expression:"IsWaitingOnClient"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Waiting On Vendor",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsWaitingOnVendor,callback:function(t){e.IsWaitingOnVendor=t},expression:"IsWaitingOnVendor"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Billable",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsBillable,callback:function(t){e.IsBillable=t},expression:"IsBillable"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Billable Review",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsBillableReview,callback:function(t){e.IsBillableReview=t},expression:"IsBillableReview"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is In Progress",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsInProgress,callback:function(t){e.IsInProgress=t},expression:"IsInProgress"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Non Billable",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsNonBillable,callback:function(t){e.IsNonBillable=t},expression:"IsNonBillable"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Scheduled",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsScheduled,callback:function(t){e.IsScheduled=t},expression:"IsScheduled"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Default",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsDefault,callback:function(t){e.IsDefault=t},expression:"IsDefault"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this assignment status."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Assignment Status Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The assignment status no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the assignment status while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteAssignmentStatusDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},NC=[],EC=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.PermCRMExportAssignmentStatusCSV=Qt.PermCRMExportAssignmentStatusCSV,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?"":e,this.SignalChanged())}},{key:"IsOpen",get:function(){return!!(this.value&&this.value.json&&this.value.json.isOpen)&&this.value.json.isOpen},set:function(e){this.value&&this.value.json&&(this.value.json.isOpen=!!e,this.SignalChanged())}},{key:"IsReOpened",get:function(){return!!(this.value&&this.value.json&&this.value.json.isReOpened)&&this.value.json.isReOpened},set:function(e){this.value&&this.value.json&&(this.value.json.isReOpened=!!e,this.SignalChanged())}},{key:"IsAssigned",get:function(){return!!(this.value&&this.value.json&&this.value.json.isAssigned)&&this.value.json.isAssigned},set:function(e){this.value&&this.value.json&&(this.value.json.isAssigned=!!e,this.SignalChanged())}},{key:"IsWaitingOnClient",get:function(){return!!(this.value&&this.value.json&&this.value.json.isWaitingOnClient)&&this.value.json.isWaitingOnClient},set:function(e){this.value&&this.value.json&&(this.value.json.isWaitingOnClient=!!e,this.SignalChanged())}},{key:"IsWaitingOnVendor",get:function(){return!!(this.value&&this.value.json&&this.value.json.isWaitingOnVendor)&&this.value.json.isWaitingOnVendor},set:function(e){this.value&&this.value.json&&(this.value.json.isWaitingOnVendor=!!e,this.SignalChanged())}},{key:"IsBillable",get:function(){return!!(this.value&&this.value.json&&this.value.json.isBillable)&&this.value.json.isBillable},set:function(e){this.value&&this.value.json&&(this.value.json.isBillable=!!e,this.SignalChanged())}},{key:"IsBillableReview",get:function(){return!!(this.value&&this.value.json&&this.value.json.isBillableReview)&&this.value.json.isBillableReview},set:function(e){this.value&&this.value.json&&(this.value.json.isBillableReview=!!e,this.SignalChanged())}},{key:"IsInProgress",get:function(){return!!(this.value&&this.value.json&&this.value.json.isInProgress)&&this.value.json.isInProgress},set:function(e){this.value&&this.value.json&&(this.value.json.isInProgress=!!e,this.SignalChanged())}},{key:"IsNonBillable",get:function(){return!!(this.value&&this.value.json&&this.value.json.isNonBillable)&&this.value.json.isNonBillable},set:function(e){this.value&&this.value.json&&(this.value.json.isNonBillable=!!e,this.SignalChanged())}},{key:"IsScheduled",get:function(){return!!(this.value&&this.value.json&&this.value.json.isScheduled)&&this.value.json.isScheduled},set:function(e){this.value&&this.value.json&&(this.value.json.isScheduled=!!e,this.SignalChanged())}},{key:"IsDefault",get:function(){return!!(this.value&&this.value.json&&this.value.json.isDefault)&&this.value.json.isDefault},set:function(e){this.value&&this.value.json&&(this.value.json.isDefault=!!e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],EC.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],EC.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],EC.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],EC.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],EC.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],EC.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],EC.prototype,"isMakingNew",void 0),EC=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ProductSelectField:Kd,ReloadButton:ms,NotificationBellButton:hl}})],EC);var FC=EC,qC=FC,GC=Object(ha["a"])(qC,LC,NC,!1,null,"3ed7fd9d",null),$C=GC.exports;ga()(GC,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCheckbox:gr["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var UC=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=Qt.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyAssignmentStatusDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=Qt.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,Qt.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=Qt.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);UC=Object(v["a"])([Object(p["a"])({components:{AssignmentStatusEditor:$C}})],UC);var HC=UC,WC=HC,KC=Object(ha["a"])(WC,VC,BC,!1,null,null,null),zC=KC.exports;ga()(KC,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var JC=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Man Hours Entry")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.EstimatingManHours?n("span",[e._v(e._s(e.EstimatingManHours.json.item))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-man-hours-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},YC=[],QC=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),XC=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=QC.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteManHourDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=QC.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&pn.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=QC.GetEmpty(),t&&this.$router.push("/section/man-hours-definitions").catch((function(e){}))}},{key:"EstimatingManHours",get:function(){var e=this.ModelState;return e.id?pn.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return QC.GetEmpty()}}]),n}(da);XC=Object(v["a"])([Object(p["a"])({components:{}})],XC);var ZC=XC,ej=ZC,tj=Object(ha["a"])(ej,JC,YC,!1,null,null,null),nj=tj.exports;ga()(tj,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var aj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Man Hour Entry")]),n("v-divider"),n("v-card-text",[n("ManHourEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},ij=[],oj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Man Hour")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"item",staticClass:"e2e-man-hour-editor-task-name",attrs:{autocomplete:"newpassword",label:"Task Name",hint:"The name of the task, for example: Installing a carpet.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Item,callback:function(t){e.Item=t},expression:"Item"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"manHours",staticClass:"e2e-man-hour-editor-hours",attrs:{type:"number",step:"0.01",autocomplete:"newpassword",label:"Hours",hint:"How long it would take someone to do the above task.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.ManHours,callback:function(t){e.ManHours=t},expression:"ManHours"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"measurement",staticClass:"e2e-man-hour-editor-measurement",attrs:{autocomplete:"newpassword",label:"Measurement",hint:"What task unit is considered for the amount of hours, for example: 0.05 hours per carpet.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Measurement,callback:function(t){e.Measurement=t},expression:"Measurement"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this man hour entry."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Man Hour Entry Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The man hour entry no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the man hour entry while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteManHourDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},sj=[],rj=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Item",get:function(){return this.value&&this.value.json&&this.value.json.item?this.value.json.item:null},set:function(e){this.value&&this.value.json&&(this.value.json.item=y(e)?"":e,this.SignalChanged())}},{key:"ManHours",get:function(){return this.value&&this.value.json&&this.value.json.manHours?this.value.json.manHours:0},set:function(e){this.value&&this.value.json&&(this.value.json.manHours=e||0,this.SignalChanged())}},{key:"Measurement",get:function(){return this.value&&this.value.json&&this.value.json.measurement?this.value.json.measurement:null},set:function(e){this.value&&this.value.json&&(this.value.json.measurement=y(e)?"":e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],rj.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],rj.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],rj.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],rj.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],rj.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],rj.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],rj.prototype,"isMakingNew",void 0),rj=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],rj);var lj=rj,cj=lj,uj=Object(ha["a"])(cj,oj,sj,!1,null,"1285c034",null),dj=uj.exports;ga()(uj,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var mj=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=pn.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyManHourDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=pn.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,pn.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=pn.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);mj=Object(v["a"])([Object(p["a"])({components:{ManHourEditor:dj}})],mj);var vj=mj,pj=vj,fj=Object(ha["a"])(pj,aj,ij,!1,null,null,null),hj=fj.exports;ga()(fj,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var bj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Project Status")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.ProjectStatus?n("span",[e._v(e._s(e.ProjectStatus.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-project-status-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},gj=[],yj=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=sf.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteProjectStatusDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=sf.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&kn.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=sf.GetEmpty(),t&&this.$router.push("/section/project-status-definitions").catch((function(e){}))}},{key:"ProjectStatus",get:function(){var e=this.ModelState;return e.id?kn.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return sf.GetEmpty()}}]),n}(da);yj=Object(v["a"])([Object(p["a"])({components:{}})],yj);var Cj=yj,jj=Cj,Sj=Object(ha["a"])(jj,bj,gj,!1,null,null,null),Ij=Sj.exports;ga()(Sj,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Pj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Project Status")]),n("v-divider"),n("v-card-text",[n("ProjectStatusEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},Oj=[],kj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Project Status")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"name",staticClass:"e2e-project-status-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"Name of the Project Status",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Open",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Awaiting Payment",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsAwaitingPayment,callback:function(t){e.IsAwaitingPayment=t},expression:"IsAwaitingPayment"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is Closed",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsClosed,callback:function(t){e.IsClosed=t},expression:"IsClosed"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-checkbox",{attrs:{label:"Is New Project Status",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsNewProjectStatus,callback:function(t){e.IsNewProjectStatus=t},expression:"IsNewProjectStatus"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this project status."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Project Status Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The project status no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the project status while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteProjectStatusDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},Dj=[],_j=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?"":e,this.SignalChanged())}},{key:"IsOpen",get:function(){return!!(this.value&&this.value.json&&this.value.json.isOpen)&&this.value.json.isOpen},set:function(e){this.value&&this.value.json&&(this.value.json.isOpen=!!e,this.SignalChanged())}},{key:"IsAwaitingPayment",get:function(){return!!(this.value&&this.value.json&&this.value.json.isAwaitingPayment)&&this.value.json.isAwaitingPayment},set:function(e){this.value&&this.value.json&&(this.value.json.isAwaitingPayment=!!e,this.SignalChanged())}},{key:"IsClosed",get:function(){return!!(this.value&&this.value.json&&this.value.json.isClosed)&&this.value.json.isClosed},set:function(e){this.value&&this.value.json&&(this.value.json.isClosed=!!e,this.SignalChanged())}},{key:"IsNewProjectStatus",get:function(){return!!(this.value&&this.value.json&&this.value.json.isNewProjectStatus)&&this.value.json.isNewProjectStatus},set:function(e){this.value&&this.value.json&&(this.value.json.isNewProjectStatus=!!e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],_j.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_j.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_j.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_j.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],_j.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_j.prototype,"isMakingNew",void 0),_j=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],_j);var wj=_j,xj=wj,Rj=Object(ha["a"])(xj,kj,Dj,!1,null,"6d423a9c",null),Mj=Rj.exports;ga()(Rj,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCheckbox:gr["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var Aj=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=kn.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyProjectStatusDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=kn.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,kn.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=kn.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);Aj=Object(v["a"])([Object(p["a"])({components:{ProjectStatusEditor:Mj}})],Aj);var Tj=Aj,Vj=Tj,Bj=Object(ha["a"])(Vj,Pj,Oj,!1,null,null,null),Lj=Bj.exports;ga()(Bj,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Nj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Employment Status")]),n("v-divider"),n("v-card-text",[n("EmploymentStatusEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},Ej=[],Fj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Employment Status")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"name",staticClass:"e2e-employment-status-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"Name of the Employment Status",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Should be Listed in Scheduler"},model:{value:e.ShouldBeListedInScheduler,callback:function(t){e.ShouldBeListedInScheduler=t},expression:"ShouldBeListedInScheduler"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this employment status."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Employment Status Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The employment status no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the employment status while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteEmploymentStatusDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},qj=[],Gj=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?"":e,this.SignalChanged())}},{key:"ShouldBeListedInScheduler",get:function(){return!!(this.value&&this.value.json&&this.value.json.name)&&this.value.json.shouldBeListedInScheduler},set:function(e){this.value&&this.value.json&&(this.value.json.shouldBeListedInScheduler=e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],Gj.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Gj.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Gj.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Gj.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],Gj.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],Gj.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],Gj.prototype,"isMakingNew",void 0),Gj=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],Gj);var $j=Gj,Uj=$j,Hj=Object(ha["a"])(Uj,Fj,qj,!1,null,"51e56483",null),Wj=Hj.exports;ga()(Hj,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var Kj=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=sn.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyEmploymentStatusDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=sn.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,sn.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=sn.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);Kj=Object(v["a"])([Object(p["a"])({components:{EmploymentStatusEditor:Wj}})],Kj);var zj=Kj,Jj=zj,Yj=Object(ha["a"])(Jj,Nj,Ej,!1,null,null,null),Qj=Yj.exports;ga()(Yj,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var Xj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Employment Status")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.EmploymentStatus?n("span",[e._v(e._s(e.EmploymentStatus.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-employment-status-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},Zj=[],eS=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),tS=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=eS.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteEmploymentStatusDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=eS.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&sn.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=eS.GetEmpty(),t&&this.$router.push("/section/employment-status-definitions").catch((function(e){}))}},{key:"EmploymentStatus",get:function(){var e=this.ModelState;return e.id?sn.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return eS.GetEmpty()}}]),n}(da);tS=Object(v["a"])([Object(p["a"])({components:{}})],tS);var nS=tS,aS=nS,iS=Object(ha["a"])(aS,Xj,Zj,!1,null,null,null),oS=iS.exports;ga()(iS,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var sS=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Labour Exception")]),n("v-divider"),n("v-card-text",[n("LabourExceptionEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},rS=[],lS=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Labour Exception")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"name",staticClass:"e2e-labour-exception-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"Exception Name",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"description",staticClass:"e2e-labour-exception-editor-description",attrs:{autocomplete:"newpassword",label:"Description",hint:"Exception Description",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Description,callback:function(t){e.Description=t},expression:"Description"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"icon",attrs:{autocomplete:"newpassword",label:"Icon",hint:"Exception Icon",disabled:"Connected"!=e.connectionStatus},model:{value:e.Icon,callback:function(t){e.Icon=t},expression:"Icon"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this labour exception type."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Labour Exception Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The labour exception no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the labour exception while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteLabourExceptionDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},cS=[],uS=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?"":e,this.SignalChanged())}},{key:"Description",get:function(){return this.value&&this.value.json&&this.value.json.description?this.value.json.description:null},set:function(e){this.value&&this.value.json&&(this.value.json.description=y(e)?"":e,this.SignalChanged())}},{key:"Icon",get:function(){return this.value&&this.value.json&&this.value.json.icon?this.value.json.icon:null},set:function(e){this.value&&this.value.json&&(this.value.json.icon=y(e)?"":e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],uS.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],uS.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],uS.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],uS.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],uS.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],uS.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],uS.prototype,"isMakingNew",void 0),uS=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],uS);var dS=uS,mS=dS,vS=Object(ha["a"])(mS,lS,cS,!1,null,"eca9bebc",null),pS=vS.exports;ga()(vS,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var fS=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=Me.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyLabourExceptionDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=Me.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,Me.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=Me.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);fS=Object(v["a"])([Object(p["a"])({components:{LabourExceptionEditor:pS}})],fS);var hS=fS,bS=hS,gS=Object(ha["a"])(bS,sS,rS,!1,null,null,null),yS=gS.exports;ga()(gS,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var CS=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Exception Entry")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.LabourException?n("span",[e._v(e._s(e.LabourException.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-labour-exception-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},jS=[],SS=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),IS=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=SS.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteLabourExceptionDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=SS.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&Me.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=SS.GetEmpty(),t&&this.$router.push("/section/labour-exception-definitions").catch((function(e){}))}},{key:"LabourException",get:function(){var e=this.ModelState;return e.id?Me.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return SS.GetEmpty()}}]),n}(da);IS=Object(v["a"])([Object(p["a"])({components:{}})],IS);var PS=IS,OS=PS,kS=Object(ha["a"])(OS,CS,jS,!1,null,null,null),DS=kS.exports;ga()(kS,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var _S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Labour Holiday")]),n("v-divider"),n("v-card-text",[n("LabourHolidayEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},wS=[],xS=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Product")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"name",staticClass:"e2e-labour-holiday-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"Exception Name",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"description",staticClass:"e2e-labour-holiday-editor-description",attrs:{autocomplete:"newpassword",label:"Description",hint:"Exception Description",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Description,callback:function(t){e.Description=t},expression:"Description"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"icon",attrs:{autocomplete:"newpassword",label:"Icon",hint:"Exception Icon",disabled:"Connected"!=e.connectionStatus},model:{value:e.Icon,callback:function(t){e.Icon=t},expression:"Icon"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Rules")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Static Date",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsStaticDate,callback:function(t){e.IsStaticDate=t},expression:"IsStaticDate"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Static Date Month",hint:"Static Date Month",disabled:"Connected"!=e.connectionStatus},model:{value:e.StaticDateMonth,callback:function(t){e.StaticDateMonth=t},expression:"StaticDateMonth"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Static Date Day",hint:"Static Date Day",disabled:"Connected"!=e.connectionStatus},model:{value:e.StaticDateDay,callback:function(t){e.StaticDateDay=t},expression:"StaticDateDay"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Observation Day",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsObservationDay,callback:function(t){e.IsObservationDay=t},expression:"IsObservationDay"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Observation Day Static",disabled:"Connected"!=e.connectionStatus},model:{value:e.ObservationDayStatic,callback:function(t){e.ObservationDayStatic=t},expression:"ObservationDayStatic"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Observation Day Static Month",hint:"Observation Day Static Month",disabled:"Connected"!=e.connectionStatus},model:{value:e.ObservationDayStaticMonth,callback:function(t){e.ObservationDayStaticMonth=t},expression:"ObservationDayStaticMonth"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Observation Day Static Day",hint:"Observation Day Static Day",disabled:"Connected"!=e.connectionStatus},model:{value:e.ObservationDayStaticDay,callback:function(t){e.ObservationDayStaticDay=t},expression:"ObservationDayStaticDay"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Observation Day Activate If Weekend",disabled:"Connected"!=e.connectionStatus},model:{value:e.ObservationDayActivateIfWeekend,callback:function(t){e.ObservationDayActivateIfWeekend=t},expression:"ObservationDayActivateIfWeekend"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"First Monday In Month Date",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsFirstMondayInMonthDate,callback:function(t){e.IsFirstMondayInMonthDate=t},expression:"IsFirstMondayInMonthDate"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"First Monday Month",hint:"First Monday Month",disabled:"Connected"!=e.connectionStatus},model:{value:e.FirstMondayMonth,callback:function(t){e.FirstMondayMonth=t},expression:"FirstMondayMonth"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Good Friday",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsGoodFriday,callback:function(t){e.IsGoodFriday=t},expression:"IsGoodFriday"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Third Monday In Month Date",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsThirdMondayInMonthDate,callback:function(t){e.IsThirdMondayInMonthDate=t},expression:"IsThirdMondayInMonthDate"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Third Monday Month",hint:"Third Monday Month",disabled:"Connected"!=e.connectionStatus},model:{value:e.ThirdMondayMonth,callback:function(t){e.ThirdMondayMonth=t},expression:"ThirdMondayMonth"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Second Monday In Month Date",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsSecondMondayInMonthDate,callback:function(t){e.IsSecondMondayInMonthDate=t},expression:"IsSecondMondayInMonthDate"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Second Monday Month",hint:"Second Monday Month",disabled:"Connected"!=e.connectionStatus},model:{value:e.SecondMondayMonth,callback:function(t){e.SecondMondayMonth=t},expression:"SecondMondayMonth"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Monday Before Date",disabled:"Connected"!=e.connectionStatus},model:{value:e.IsMondayBeforeDate,callback:function(t){e.IsMondayBeforeDate=t},expression:"IsMondayBeforeDate"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Monday Before Date Month",hint:"Monday Before Date Month",disabled:"Connected"!=e.connectionStatus},model:{value:e.MondayBeforeDateMonth,callback:function(t){e.MondayBeforeDateMonth=t},expression:"MondayBeforeDateMonth"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{type:"number",step:"1",autocomplete:"newpassword",label:"Monday Before Date Day",hint:"Monday Before Date Day",disabled:"Connected"!=e.connectionStatus},model:{value:e.MondayBeforeDateDay,callback:function(t){e.MondayBeforeDateDay=t},expression:"MondayBeforeDateDay"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this labour holiday."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Labour Holiday Type Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The labour holiday type no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the labour holiday type while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteLabourHolidayDialogue",state:{redirectToIndex:!0,id:e.value.id}})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},RS=[],MS=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?"":e,this.SignalChanged())}},{key:"Description",get:function(){return this.value&&this.value.json&&this.value.json.description?this.value.json.description:null},set:function(e){this.value&&this.value.json&&(this.value.json.description=y(e)?"":e,this.SignalChanged())}},{key:"Icon",get:function(){return this.value&&this.value.json&&this.value.json.icon?this.value.json.icon:null},set:function(e){this.value&&this.value.json&&(this.value.json.icon=y(e)?"":e,this.SignalChanged())}},{key:"IsStaticDate",get:function(){return!!(this.value&&this.value.json&&this.value.json.isStaticDate)&&this.value.json.isStaticDate},set:function(e){this.value&&this.value.json&&(this.value.json.isStaticDate=!!e,this.SignalChanged())}},{key:"StaticDateMonth",get:function(){return this.value&&this.value.json&&this.value.json.staticDateMonth?this.value.json.staticDateMonth:null},set:function(e){this.value&&this.value.json&&(this.value.json.staticDateMonth=e,this.SignalChanged())}},{key:"StaticDateDay",get:function(){return this.value&&this.value.json&&this.value.json.staticDateDay?this.value.json.staticDateDay:null},set:function(e){this.value&&this.value.json&&(this.value.json.staticDateDay=e,this.SignalChanged())}},{key:"IsObservationDay",get:function(){return!!(this.value&&this.value.json&&this.value.json.isObservationDay)&&this.value.json.isObservationDay},set:function(e){this.value&&this.value.json&&(this.value.json.isObservationDay=!!e,this.SignalChanged())}},{key:"ObservationDayStatic",get:function(){return!!(this.value&&this.value.json&&this.value.json.observationDayStatic)&&this.value.json.observationDayStatic},set:function(e){this.value&&this.value.json&&(this.value.json.observationDayStatic=!!e,this.SignalChanged())}},{key:"ObservationDayStaticMonth",get:function(){return this.value&&this.value.json&&this.value.json.observationDayStaticMonth?this.value.json.observationDayStaticMonth:null},set:function(e){this.value&&this.value.json&&(this.value.json.observationDayStaticMonth=e,this.SignalChanged())}},{key:"ObservationDayStaticDay",get:function(){return this.value&&this.value.json&&this.value.json.observationDayStaticDay?this.value.json.observationDayStaticDay:null},set:function(e){this.value&&this.value.json&&(this.value.json.observationDayStaticDay=e,this.SignalChanged())}},{key:"ObservationDayActivateIfWeekend",get:function(){return!!(this.value&&this.value.json&&this.value.json.observationDayActivateIfWeekend)&&this.value.json.observationDayActivateIfWeekend},set:function(e){this.value&&this.value.json&&(this.value.json.observationDayActivateIfWeekend=!!e,this.SignalChanged())}},{key:"IsFirstMondayInMonthDate",get:function(){return!!(this.value&&this.value.json&&this.value.json.isFirstMondayInMonthDate)&&this.value.json.isFirstMondayInMonthDate},set:function(e){this.value&&this.value.json&&(this.value.json.isFirstMondayInMonthDate=!!e,this.SignalChanged())}},{key:"FirstMondayMonth",get:function(){return this.value&&this.value.json&&this.value.json.firstMondayMonth?this.value.json.firstMondayMonth:null},set:function(e){this.value&&this.value.json&&(this.value.json.firstMondayMonth=e,this.SignalChanged())}},{key:"IsGoodFriday",get:function(){return!!(this.value&&this.value.json&&this.value.json.isGoodFriday)&&this.value.json.isGoodFriday},set:function(e){this.value&&this.value.json&&(this.value.json.isGoodFriday=!!e,this.SignalChanged())}},{key:"IsThirdMondayInMonthDate",get:function(){return!!(this.value&&this.value.json&&this.value.json.isThirdMondayInMonthDate)&&this.value.json.isThirdMondayInMonthDate},set:function(e){this.value&&this.value.json&&(this.value.json.isThirdMondayInMonthDate=!!e,this.SignalChanged())}},{key:"ThirdMondayMonth",get:function(){return this.value&&this.value.json&&this.value.json.thirdMondayMonth?this.value.json.thirdMondayMonth:null},set:function(e){this.value&&this.value.json&&(this.value.json.thirdMondayMonth=e,this.SignalChanged())}},{key:"IsSecondMondayInMonthDate",get:function(){return!!(this.value&&this.value.json&&this.value.json.isSecondMondayInMonthDate)&&this.value.json.isSecondMondayInMonthDate},set:function(e){this.value&&this.value.json&&(this.value.json.isSecondMondayInMonthDate=!!e,this.SignalChanged())}},{key:"SecondMondayMonth",get:function(){return this.value&&this.value.json&&this.value.json.secondMondayMonth?this.value.json.secondMondayMonth:null},set:function(e){this.value&&this.value.json&&(this.value.json.secondMondayMonth=e,this.SignalChanged())}},{key:"IsMondayBeforeDate",get:function(){return!!(this.value&&this.value.json&&this.value.json.isMondayBeforeDate)&&this.value.json.isMondayBeforeDate},set:function(e){this.value&&this.value.json&&(this.value.json.isMondayBeforeDate=!!e,this.SignalChanged())}},{key:"MondayBeforeDateMonth",get:function(){return this.value&&this.value.json&&this.value.json.mondayBeforeDateMonth?this.value.json.mondayBeforeDateMonth:null},set:function(e){this.value&&this.value.json&&(this.value.json.mondayBeforeDateMonth=e,this.SignalChanged())}},{key:"MondayBeforeDateDay",get:function(){return this.value&&this.value.json&&this.value.json.mondayBeforeDateDay?this.value.json.mondayBeforeDateDay:null},set:function(e){this.value&&this.value.json&&(this.value.json.mondayBeforeDateDay=e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],MS.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],MS.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],MS.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],MS.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],MS.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],MS.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],MS.prototype,"isMakingNew",void 0),MS=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],MS);var AS=MS,TS=AS,VS=Object(ha["a"])(TS,xS,RS,!1,null,"2ee27f21",null),BS=VS.exports;ga()(VS,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var LS=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=Be.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyLabourHolidayDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=Be.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,Be.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=Be.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);LS=Object(v["a"])([Object(p["a"])({components:{LabourHolidayEditor:BS}})],LS);var NS=LS,ES=NS,FS=Object(ha["a"])(ES,_S,wS,!1,null,null,null),qS=FS.exports;ga()(FS,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var GS=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Labour Holiday Status")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' Are you sure you want to delete "'),e.LabourHoliday?n("span",[e._v(e._s(e.LabourHoliday.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-labour-holiday-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},$S=[],US=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),HS=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=US.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteLabourHolidayDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=US.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&Be.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=US.GetEmpty(),t&&this.$router.push("/section/labour-holiday-definitions").catch((function(e){}))}},{key:"LabourHoliday",get:function(){var e=this.ModelState;return e.id?Be.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return US.GetEmpty()}}]),n}(da);HS=Object(v["a"])([Object(p["a"])({components:{}})],HS);var WS=HS,KS=WS,zS=Object(ha["a"])(KS,GS,$S,!1,null,null,null),JS=zS.exports;ga()(zS,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var YS=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Modify Labour Non Billable")]),n("v-divider"),n("v-card-text",[n("LabourNonBillableEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:!0,isDialogue:!0},model:{value:e.ModelState,callback:function(t){e.ModelState=t},expression:"ModelState"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},QS=[],XS=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Labour Non Billable")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{visibility:"none",height:"0px"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"name",staticClass:"e2e-labour-non-billable-editor-name",attrs:{autocomplete:"newpassword",label:"Name",hint:"Non Billable Name",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Name,callback:function(t){e.Name=t},expression:"Name"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"description",staticClass:"e2e-labour-non-billable-editor-description",attrs:{autocomplete:"newpassword",label:"Description",hint:"Non Billable Description",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Description,callback:function(t){e.Description=t},expression:"Description"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{ref:"icon",attrs:{autocomplete:"newpassword",label:"Icon",hint:"Non Billable Icon",disabled:"Connected"!=e.connectionStatus},model:{value:e.Icon,callback:function(t){e.Icon=t},expression:"Icon"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this labour non billable type."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Labour Non Billable Type Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The labour non billable type no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the labour non billable type while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DialoguesOpen({name:"DeleteNonBillableDialogue",state:e.value})}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},ZS=[],eI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.DialoguesOpen=ca.Open,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Projects:1,projects:1}}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"Name",get:function(){return this.value&&this.value.json&&this.value.json.name?this.value.json.name:null},set:function(e){this.value&&this.value.json&&(this.value.json.name=y(e)?"":e,this.SignalChanged())}},{key:"Description",get:function(){return this.value&&this.value.json&&this.value.json.description?this.value.json.description:null},set:function(e){this.value&&this.value.json&&(this.value.json.description=y(e)?"":e,this.SignalChanged())}},{key:"Icon",get:function(){return this.value&&this.value.json&&this.value.json.icon?this.value.json.icon:null},set:function(e){this.value&&this.value.json&&(this.value.json.icon=y(e)?"":e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],eI.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],eI.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],eI.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],eI.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],eI.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],eI.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],eI.prototype,"isMakingNew",void 0),eI=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],eI);var tI=eI,nI=tI,aI=Object(ha["a"])(nI,XS,ZS,!1,null,"2b295bf1",null),iI=aI.exports;ga()(aI,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var oI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=Fe.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ModifyLabourNonBillableDialogue"}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),ca.Close(this.DialogueName),this.ModelState=Fe.GetEmpty(),this.$refs.editor.SelectFirstTab()}},{key:"Save",value:function(){if(this.$refs.editor.IsValidated()){var e=this.ModelState;if(e.id){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.ModelState=e;var t={};t[e.id]=e,Fe.UpdateIds(t),ca.Close(this.DialogueName),this.ModelState=Fe.GetEmpty(),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab()}}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(da);oI=Object(v["a"])([Object(p["a"])({components:{LabourNonBillableEditor:iI}})],oI);var sI=oI,rI=sI,lI=Object(ha["a"])(rI,YS,QS,!1,null,null,null),cI=lI.exports;ga()(lI,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var uI=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:""},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete Non Billable Entry")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[e._v(' AAre you sure you want to delete "'),e.LabourNonBillable?n("span",[e._v(e._s(e.LabourNonBillable.json.name))]):e._e(),e._v('"? ')]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{staticClass:"e2e-delete-labour-non-billable-confirm-button",attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Confirm()}}},[e._v(" Confirm ")])],1)],1)],1)},dI=[],mI=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={redirectToIndex:!1,id:null};return e}}]),e}(),vI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ModelState=mI.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DeleteLabourNonBillableDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=mI.GetEmpty()}},{key:"Confirm",value:function(){var e=this.ModelState,t=e.redirectToIndex;console.log("confirm",this.ModelState),e.id&&Fe.DeleteIds([e.id]),ca.Close(this.DialogueName),this.ModelState=mI.GetEmpty(),t&&this.$router.push("/section/labour-non-billable-definitions/").catch((function(e){}))}},{key:"LabourNonBillable",get:function(){var e=this.ModelState;return e.id?Fe.ForId(e.id):null}}],[{key:"GenerateEmpty",value:function(){return mI.GetEmpty()}}]),n}(da);vI=Object(v["a"])([Object(p["a"])({components:{}})],vI);var pI=vI,fI=pI,hI=Object(ha["a"])(fI,uI,dI,!1,null,null,null),bI=hI.exports;ga()(hI,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var gI=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Assignment Report")]),n("v-divider"),n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"form"},[n("v-container",[0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Assignment")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticClass:"e2e-assignment-report-dialogue-all-loaded",staticStyle:{"margin-top":"0px"},attrs:{label:"All Loaded Assignments"},model:{value:e.AllLoadedAssignments,callback:function(t){e.AllLoadedAssignments=t},expression:"AllLoadedAssignments"}})],1)],1):e._e(),e.AllLoadedAssignments||0!=e._RenderingActive||0!=e._RenderingComplete?e._e():n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("AssignmentSelectFieldArrayAdapter",{staticClass:"e2e-assignment-report-dialogue-array-adapter",model:{value:e.SpecificAssignments,callback:function(t){e.SpecificAssignments=t},expression:"SpecificAssignments"}})],1)],1),e._ErrorMessage?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{type:"error","colored-border":"",border:"bottom",elevation:"2"}},[e._v(" "+e._s(e._ErrorMessage)+" ")])],1)],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Processing…")])])],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-linear",{attrs:{indeterminate:"",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value;return[n("strong",[e._v(e._s(a))])]}}],null,!1,3055762101),model:{value:e._RenderingProgressMessage,callback:function(t){e._RenderingProgressMessage=t},expression:"_RenderingProgressMessage"}})],1)],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Complete")])])],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.DownloadAgain()}}},[e._v("Download Again")])],1)],1):e._e()],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.StartOver()}}},[e._v("Start Over")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e._RenderingComplete},on:{click:function(t){return e.Run()}}},[e._v("Run")])],1)],1)],1)},yI=[],CI=function(e){var t=document.createElement("a");void 0!==t.download&&(window.Cypress||(t.setAttribute("href",e),t.setAttribute("download",""),t.style.visibility="hidden",document.body.appendChild(t),t.click(),document.body.removeChild(t)))},jI=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t,a){return n("AssignmentSelectField",{key:a,staticClass:"e2e-assignment-select-field",attrs:{excludeIds:e.value,isDialogue:e.isDialogue,disabled:e.disabled,readonly:e.readonly},on:{input:function(t){return e.PostChanged()}},scopedSlots:e._u([{key:"custom-menu-options",fn:function(){return[n("v-divider"),n("v-list-item",{attrs:{disabled:0===a||e.disabled||e.readonly},on:{click:function(t){return e.OnMoveUp(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_upward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Up")])],1)],1),n("v-list-item",{attrs:{disabled:a===e.value.length-1||e.disabled||e.readonly},on:{click:function(t){return e.OnMoveDown(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("arrow_downward")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Move Down")])],1)],1),n("v-divider"),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Above")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(a+1)}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Add Row Below")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.readonly},on:{click:function(t){return e.OnRemoveRowAtIndex(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("remove")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Remove This Row")])],1)],1)]},proxy:!0}],null,!0),model:{value:e.value[a],callback:function(t){e.$set(e.value,a,t)},expression:"value[index]"}})})),n("v-btn",{attrs:{text:"",large:"",disabled:e.disabled||e.readonly||e.readonly},on:{click:function(t){return e.OnInsertNewRowAtIndex(e.value.length)}}},[n("v-icon",{attrs:{left:""}},[e._v("add")]),e._v(" Add Assignment ")],1)],2)},SI=[],II=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"GenerateEmptyRow",value:function(){return null}}]),n}(er);Object(v["a"])([Object(p["b"])({default:null})],II.prototype,"value",void 0),II=Object(v["a"])([Object(p["a"])({components:{AssignmentSelectField:Lv}})],II);var PI=II,OI=PI,kI=Object(ha["a"])(OI,jI,SI,!1,null,null,null),DI=kI.exports;ga()(kI,{VBtn:ya["a"],VDivider:Ea["a"],VIcon:ka["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"]});var _I,wI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"GetPDFLaTeXTask"}},{key:"GetClientCallbackMethodName",value:function(){return"GetPDFLaTeXTaskCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),xI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RunReportAssignments"}},{key:"GetClientCallbackMethodName",value:function(){return"RunReportAssignmentsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),RI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RunReportCompanies"}},{key:"GetClientCallbackMethodName",value:function(){return"RunReportCompaniesCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),MI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RunReportContacts"}},{key:"GetClientCallbackMethodName",value:function(){return"RunReportContactsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),AI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RunReportLabour"}},{key:"GetClientCallbackMethodName",value:function(){return"RunReportLabourCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),TI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RunReportMaterials"}},{key:"GetClientCallbackMethodName",value:function(){return"RunReportMaterialsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),VI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RunReportProjects"}},{key:"GetClientCallbackMethodName",value:function(){return"RunReportProjectsCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),BI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"Send",value:function(e){return Object(R["a"])(Object(M["a"])(n.prototype),"Send",this).call(this,e)}},{key:"GetServerMethodName",value:function(){return"RunReportOnCallResponder30Day"}},{key:"GetClientCallbackMethodName",value:function(){return"RunReportOnCallResponder30DayCB"}},{key:"RecieveDefaultAction",value:function(e,t){return!0}}]),n}(T),LI=function e(){Object(c["a"])(this,e)};LI.GetPDFLaTeXTask=T.Register(new wI),LI.RunReportAssignments=T.Register(new xI),LI.RunReportCompanies=T.Register(new RI),LI.RunReportContacts=T.Register(new MI),LI.RunReportLabour=T.Register(new AI),LI.RunReportMaterials=T.Register(new TI),LI.RunReportProjects=T.Register(new VI),LI.RunReportOnCallResponder30Day=T.Register(new BI),window.DEBUG_Reports=LI;var NI=_I=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=_I.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"AllLoadedAssignments",get:function(){return this.ModelState?this.ModelState.allLoadedAssignments:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.allLoadedAssignments=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"SpecificAssignments",get:function(){var e=this.ModelState;return e?e.specificAssignments:(console.warn("Attempted get on null ModelState"),[])},set:function(e){var t=this.ModelState;t?(t.specificAssignments=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingActive",get:function(){return this.ModelState?this.ModelState._renderingActive:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingActive=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingProgressMessage",get:function(){return this.ModelState?this.ModelState._renderingProgressMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._renderingProgressMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ErrorMessage",get:function(){return this.ModelState?this.ModelState._errorMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._errorMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ShowProgress",get:function(){return this.ModelState?this.ModelState._showProgress:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._showProgress=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingComplete",get:function(){return this.ModelState?this.ModelState._renderingComplete:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingComplete=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_DownloadLink",get:function(){return this.ModelState?this.ModelState._downloadLink:(console.warn("Attempted get on null ModelState"),null)},set:function(e){var t=this.ModelState;t?(t._downloadLink=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"DialogueName",get:function(){return"AssignmentReportDialogue"}},{key:"Close",value:function(){console.log("Close"),ca.Close(this.DialogueName),this.ModelState=_I.GenerateEmpty()}},{key:"DownloadAgain",value:function(){null!=this._DownloadLink&&CI(this._DownloadLink)}},{key:"StartOver",value:function(){this.ModelState=_I.GenerateEmpty()}},{key:"Run",value:function(){var e=this;do{if(this._ErrorMessage="",!this.$refs.form.validate()){D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});break}var t=this.SpecificAssignments,n=[];if(!1===this.AllLoadedAssignments){var a,i=Object(G["a"])(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;o&&!y(o)&&n.push(o)}}catch(r){i.e(r)}finally{i.f()}}if(!1===this.AllLoadedAssignments&&0===n.length){D.AddNotification({severity:"error",message:"No assignments selected.",autoClearInSeconds:10});break}var s=LI.RunReportAssignments.Send({sessionId:ce.CurrentSessionId(),runOnAllAssignments:this.AllLoadedAssignments,assignmentIds:n});s.completeRequestPromise&&(this._RenderingActive=!0,this._ShowProgress=!0,this._RenderingProgressMessage="Sending Request…",s.completeRequestPromise.catch((function(t){throw e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingProgressMessage="",e._ErrorMessage=t.message,t})),s.completeRequestPromise.then((function(t){if(console.log("RunReportAssignments returned",t),t.isError)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage=t.errorMessage);var n=t.taskId;if(!n)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Did not get task ID from server.");e._RenderingProgressMessage="Waiting…";var a=function t(){var a=LI.GetPDFLaTeXTask.Send({sessionId:ce.CurrentSessionId(),taskId:n});a.completeRequestPromise&&(a.completeRequestPromise.catch((function(t){e._RenderingActive=!1,e._ShowProgress=!1,e._ErrorMessage="Error during processing."})),a.completeRequestPromise.then((function(n){return!1===n.isCompleted?(e._RenderingProgressMessage="Processing (".concat(n.status,")…"),"Error"===n.status&&(e._ErrorMessage=n.errorMessage),void("Error"!==n.status&&setTimeout(t,250))):null===n.tempLink||y(n.tempLink)?(e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Completed, but didn't get a link to download.")):(e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingComplete=!0,e._DownloadLink=n.tempLink,void CI(e._DownloadLink))})))};setTimeout(a,250)})))}while(0)}}],[{key:"GenerateEmpty",value:function(){return{allLoadedAssignments:!0,specificAssignments:[null],_renderingActive:!1,_showProgress:!1,_renderingComplete:!1,_downloadLink:null,_renderingProgressMessage:"",_errorMessage:""}}}]),n}(da);NI=_I=Object(v["a"])([Object(p["a"])({components:{AssignmentSelectFieldArrayAdapter:DI}})],NI);var EI=NI,FI=EI,qI=Object(ha["a"])(FI,gI,yI,!1,null,null,null),GI=qI.exports;ga()(qI,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"]});var $I,UI=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Company Report")]),n("v-divider"),n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"form"},[n("v-container",[0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Companies")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"All Loaded Companies"},model:{value:e.AllLoadedCompanies,callback:function(t){e.AllLoadedCompanies=t},expression:"AllLoadedCompanies"}})],1)],1):e._e(),e.AllLoadedCompanies||0!=e._RenderingActive||0!=e._RenderingComplete?e._e():n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("LabeledCompanyEditRowArrayAdapter",{attrs:{hideLabel:!0},model:{value:e.SpecificCompanies,callback:function(t){e.SpecificCompanies=t},expression:"SpecificCompanies"}})],1)],1),e._ErrorMessage?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{type:"error","colored-border":"",border:"bottom",elevation:"2"}},[e._v(" "+e._s(e._ErrorMessage)+" ")])],1)],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Processing…")])])],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-linear",{attrs:{indeterminate:"",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value;return[n("strong",[e._v(e._s(a))])]}}],null,!1,3055762101),model:{value:e._RenderingProgressMessage,callback:function(t){e._RenderingProgressMessage=t},expression:"_RenderingProgressMessage"}})],1)],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Complete")])])],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.DownloadAgain()}}},[e._v("Download Again")])],1)],1):e._e()],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.StartOver()}}},[e._v("Start Over")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e._RenderingComplete},on:{click:function(t){return e.Run()}}},[e._v("Run")])],1)],1)],1)},HI=[],WI=$I=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=$I.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"AllLoadedCompanies",get:function(){return this.ModelState?this.ModelState.allLoadedCompanies:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.allLoadedCompanies=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"SpecificCompanies",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),[];var e=this.ModelState;return e.specificCompanies},set:function(e){var t=this.ModelState;t?(t.specificCompanies=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingActive",get:function(){return this.ModelState?this.ModelState._renderingActive:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingActive=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingProgressMessage",get:function(){return this.ModelState?this.ModelState._renderingProgressMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._renderingProgressMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ErrorMessage",get:function(){return this.ModelState?this.ModelState._errorMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._errorMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ShowProgress",get:function(){return this.ModelState?this.ModelState._showProgress:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._showProgress=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingComplete",get:function(){return this.ModelState?this.ModelState._renderingComplete:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingComplete=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_DownloadLink",get:function(){return this.ModelState?this.ModelState._downloadLink:(console.warn("Attempted get on null ModelState"),null)},set:function(e){var t=this.ModelState;t?(t._downloadLink=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"DialogueName",get:function(){return"CompanyReportDialogue"}},{key:"Close",value:function(){console.log("Close"),ca.Close(this.DialogueName),this.ModelState=$I.GenerateEmpty()}},{key:"DownloadAgain",value:function(){null!=this._DownloadLink&&CI(this._DownloadLink)}},{key:"StartOver",value:function(){this.ModelState=$I.GenerateEmpty()}},{key:"Run",value:function(){var e=this;do{if(this._ErrorMessage="",!this.$refs.form.validate()){D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});break}var t=this.SpecificCompanies,n=[];if(!1===this.AllLoadedCompanies){var a,i=Object(G["a"])(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;o&&o.value&&!y(o.value)&&n.push(o.value)}}catch(r){i.e(r)}finally{i.f()}}if(!1===this.AllLoadedCompanies&&0===n.length){D.AddNotification({severity:"error",message:"No companies selected.",autoClearInSeconds:10});break}var s=LI.RunReportCompanies.Send({sessionId:ce.CurrentSessionId(),runOnAllCompanies:this.AllLoadedCompanies,companyIds:n});s.completeRequestPromise&&(this._RenderingActive=!0,this._ShowProgress=!0,this._RenderingProgressMessage="Sending Request…",s.completeRequestPromise.catch((function(t){throw e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingProgressMessage="",e._ErrorMessage=t.message,t})),s.completeRequestPromise.then((function(t){if(console.log("RunReportCompanies returned",t),t.isError)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage=t.errorMessage);var n=t.taskId;if(!n)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Did not get task ID from server.");e._RenderingProgressMessage="Waiting…";var a=function t(){var a=LI.GetPDFLaTeXTask.Send({sessionId:ce.CurrentSessionId(),taskId:n});a.completeRequestPromise&&(a.completeRequestPromise.catch((function(t){e._RenderingActive=!1,e._ShowProgress=!1,e._ErrorMessage="Error during processing."})),a.completeRequestPromise.then((function(n){return!1===n.isCompleted?(e._RenderingProgressMessage="Processing (".concat(n.status,")…"),"Error"===n.status&&(e._ErrorMessage=n.errorMessage),void("Error"!==n.status&&setTimeout(t,250))):null===n.tempLink||y(n.tempLink)?(e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Completed, but didn't get a link to download.")):(e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingComplete=!0,e._DownloadLink=n.tempLink,void CI(e._DownloadLink))})))};setTimeout(a,250)})))}while(0)}}],[{key:"GenerateEmpty",value:function(){return{allLoadedCompanies:!0,specificCompanies:[{id:k(),value:"",label:""}],_renderingActive:!1,_showProgress:!1,_renderingComplete:!1,_downloadLink:null,_renderingProgressMessage:"",_errorMessage:""}}}]),n}(da);WI=$I=Object(v["a"])([Object(p["a"])({components:{LabeledCompanyEditRowArrayAdapter:Yh}})],WI);var KI=WI,zI=KI,JI=Object(ha["a"])(zI,UI,HI,!1,null,null,null),YI=JI.exports;ga()(JI,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"]});var QI,XI=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Contacts Report")]),n("v-divider"),n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"form"},[n("v-container",[0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Contacts")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"All Loaded Contacts"},model:{value:e.AllLoadedContacts,callback:function(t){e.AllLoadedContacts=t},expression:"AllLoadedContacts"}})],1)],1):e._e(),e.AllLoadedContacts||0!=e._RenderingActive||0!=e._RenderingComplete?e._e():n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("LabeledContactEditRowArrayAdapter",{attrs:{hideLabel:!0},model:{value:e.SpecificContacts,callback:function(t){e.SpecificContacts=t},expression:"SpecificContacts"}})],1)],1),e._ErrorMessage?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{type:"error","colored-border":"",border:"bottom",elevation:"2"}},[e._v(" "+e._s(e._ErrorMessage)+" ")])],1)],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Processing…")])])],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-linear",{attrs:{indeterminate:"",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value;return[n("strong",[e._v(e._s(a))])]}}],null,!1,3055762101),model:{value:e._RenderingProgressMessage,callback:function(t){e._RenderingProgressMessage=t},expression:"_RenderingProgressMessage"}})],1)],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Complete")])])],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.DownloadAgain()}}},[e._v("Download Again")])],1)],1):e._e()],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.StartOver()}}},[e._v("Start Over")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e._RenderingComplete},on:{click:function(t){return e.Run()}}},[e._v("Run")])],1)],1)],1)},ZI=[],eP=QI=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=QI.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"ContactsReportDialogue"}},{key:"Close",value:function(){console.log("Close"),ca.Close(this.DialogueName),this.ModelState=QI.GenerateEmpty()}},{key:"DownloadAgain",value:function(){null!=this._DownloadLink&&CI(this._DownloadLink)}},{key:"StartOver",value:function(){this.ModelState=QI.GenerateEmpty()}},{key:"_RenderingActive",get:function(){return this.ModelState?this.ModelState._renderingActive:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingActive=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingProgressMessage",get:function(){return this.ModelState?this.ModelState._renderingProgressMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._renderingProgressMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ErrorMessage",get:function(){return this.ModelState?this.ModelState._errorMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._errorMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ShowProgress",get:function(){return this.ModelState?this.ModelState._showProgress:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._showProgress=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingComplete",get:function(){return this.ModelState?this.ModelState._renderingComplete:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingComplete=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_DownloadLink",get:function(){return this.ModelState?this.ModelState._downloadLink:(console.warn("Attempted get on null ModelState"),null)},set:function(e){var t=this.ModelState;t?(t._downloadLink=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"AllLoadedContacts",get:function(){return this.ModelState?this.ModelState.allLoadedContacts:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.allLoadedContacts=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"SpecificContacts",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),[];var e=this.ModelState;return e.specificContacts},set:function(e){var t=this.ModelState;t?(t.specificContacts=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"Run",value:function(){var e=this;do{if(this._ErrorMessage="",!this.$refs.form.validate()){D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});break}var t=this.SpecificContacts,n=[];if(!1===this.AllLoadedContacts){var a,i=Object(G["a"])(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;o&&o.value&&!y(o.value)&&n.push(o.value)}}catch(r){i.e(r)}finally{i.f()}}if(!1===this.AllLoadedContacts&&0===n.length){D.AddNotification({severity:"error",message:"No contacts selected.",autoClearInSeconds:10});break}var s=LI.RunReportContacts.Send({sessionId:ce.CurrentSessionId(),runOnAllContacts:this.AllLoadedContacts,contactIds:n});s.completeRequestPromise&&(this._RenderingActive=!0,this._ShowProgress=!0,this._RenderingProgressMessage="Sending Request…",s.completeRequestPromise.catch((function(t){throw e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingProgressMessage="",e._ErrorMessage=t.message,t})),s.completeRequestPromise.then((function(t){if(console.log("RunReportContacts returned",t),t.isError)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage=t.errorMessage);var n=t.taskId;if(!n)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Did not get task ID from server.");e._RenderingProgressMessage="Waiting…";var a=function t(){var a=LI.GetPDFLaTeXTask.Send({sessionId:ce.CurrentSessionId(),taskId:n});a.completeRequestPromise&&(a.completeRequestPromise.catch((function(t){e._RenderingActive=!1,e._ShowProgress=!1,e._ErrorMessage="Error during processing."})),a.completeRequestPromise.then((function(n){return!1===n.isCompleted?(e._RenderingProgressMessage="Processing (".concat(n.status,")…"),"Error"===n.status&&(e._ErrorMessage=n.errorMessage),void("Error"!==n.status&&setTimeout(t,250))):null===n.tempLink||y(n.tempLink)?(e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Completed, but didn't get a link to download.")):(e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingComplete=!0,e._DownloadLink=n.tempLink,void CI(e._DownloadLink))})))};setTimeout(a,250)})))}while(0)}}],[{key:"GenerateEmpty",value:function(){return{allLoadedContacts:!0,specificContacts:[{id:k(),value:"",label:""}],_renderingActive:!1,_showProgress:!1,_renderingComplete:!1,_downloadLink:null,_renderingProgressMessage:"",_errorMessage:""}}}]),n}(da);eP=QI=Object(v["a"])([Object(p["a"])({components:{LabeledContactEditRowArrayAdapter:pg}})],eP);var tP=eP,nP=tP,aP=Object(ha["a"])(nP,XI,ZI,!1,null,null,null),iP=aP.exports;ga()(aP,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"]});var oP,sP=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Labour Report")]),n("v-divider"),n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"form"},[n("v-container",[0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Labour")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"All Loaded Labour",disabled:""},model:{value:e.AllLoadedLabour,callback:function(t){e.AllLoadedLabour=t},expression:"AllLoadedLabour"}})],1)],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Filter By")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("AgentSelectField",{staticClass:"e2e-labour-report-dialogue-agent",model:{value:e.FilterByAgentId,callback:function(t){e.FilterByAgentId=t},expression:"FilterByAgentId"}})],1)],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{model:{value:e.FilterByProjectId,callback:function(t){e.FilterByProjectId=t},expression:"FilterByProjectId"}})],1)],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"3","offset-sm":"2"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"From","prepend-inner-icon":"event",readonly:"","hide-details":""},model:{value:e.FilterDateStart,callback:function(t){e.FilterDateStart=t},expression:"FilterDateStart"}},a))]}}],null,!1,4248170661),model:{value:e.filterDateStartMenu,callback:function(t){e.filterDateStartMenu=t},expression:"filterDateStartMenu"}},[n("v-date-picker",{attrs:{"allowed-dates":e.FilterDateStartAllowedDates,elevation:1},on:{input:function(t){e.filterDateStartMenu=!1}},model:{value:e.FilterDateStart,callback:function(t){e.FilterDateStart=t},expression:"FilterDateStart"}},[n("div",{staticStyle:{"text-align":"center",width:"100%"}},[e._v("From Date")])])],1)],1),n("v-col",{attrs:{cols:"12",sm:"3"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({attrs:{label:"To","prepend-inner-icon":"event",readonly:"","hide-details":""},model:{value:e.FilterDateEnd,callback:function(t){e.FilterDateEnd=t},expression:"FilterDateEnd"}},a))]}}],null,!1,3423554759),model:{value:e.filterDateEndMenu,callback:function(t){e.filterDateEndMenu=t},expression:"filterDateEndMenu"}},[n("v-date-picker",{attrs:{"allowed-dates":e.FilterDateEndAllowedDates,elevation:1},on:{input:function(t){e.filterDateEndMenu=!1}},model:{value:e.FilterDateEnd,callback:function(t){e.FilterDateEnd=t},expression:"FilterDateEnd"}},[n("div",{staticStyle:{"text-align":"center",width:"100%"}},[e._v("To Date")])])],1)],1),n("v-col",{attrs:{cols:"12",sm:"2"}},[n("v-menu",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticStyle:{width:"100%",height:"100%"},attrs:{color:"primary",dark:""}},a),[n("v-icon",[e._v("date_range")])],1)]}}],null,!1,1474966180)},[n("v-list",[n("v-list-item",{on:{click:function(t){return e.SetFilterDateRange(e.payPeriods.lastPeriodStart,e.payPeriods.lastPeriodEnd)}}},[n("v-list-item-title",[e._v("Last Pay Period")])],1),n("v-list-item",{on:{click:function(t){return e.SetFilterDateRange(e.payPeriods.currentPeriodStart,e.payPeriods.currentPeriodEnd)}}},[n("v-list-item-title",[e._v("Current Pay Period")])],1),n("v-list-item",{on:{click:function(t){return e.SetFilterDateRange(e.payPeriods.nextPeriodStart,e.payPeriods.nextPeriodEnd)}}},[n("v-list-item-title",[e._v("Next Pay Period")])],1),e.payPeriods?n("div",[n("v-divider"),e._l(e.payPeriods.historicPeriods,(function(t,a){return n("v-list-item",{key:a,on:{click:function(n){return e.SetFilterDateRange(t.start,t.end)}}},[n("v-list-item-title",[e._v(e._s(e.DateTimeToDateShortPrefixed(t.start))+" to "+e._s(e.DateTimeToDateShortPrefixed(t.end)))])],1)}))],2):e._e()],1)],1)],1)],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Include")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Labour for Other Projects with Matching Addresses",disabled:!e.FilterByProjectId},model:{value:e.IncludeLabourForOtherProjectsThatMatchAddresses,callback:function(t){e.IncludeLabourForOtherProjectsThatMatchAddresses=t},expression:"IncludeLabourForOtherProjectsThatMatchAddresses"}})],1)],1):e._e(),e._ErrorMessage?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{type:"error","colored-border":"",border:"bottom",elevation:"2"}},[e._v(" "+e._s(e._ErrorMessage)+" ")])],1)],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Processing…")])])],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-linear",{attrs:{indeterminate:"",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value;return[n("strong",[e._v(e._s(a))])]}}],null,!1,3055762101),model:{value:e._RenderingProgressMessage,callback:function(t){e._RenderingProgressMessage=t},expression:"_RenderingProgressMessage"}})],1)],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Complete")])])],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.DownloadAgain()}}},[e._v("Download Again")])],1)],1):e._e()],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.StartOver()}}},[e._v("Start Over")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e._RenderingComplete},on:{click:function(t){return e.Run()}}},[e._v("Run")])],1)],1)],1)},rP=[],lP=oP=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.DateTimeToDateShortPrefixed=Io,e.payPeriods=null,e.filterDateStartMenu=!1,e.filterDateEndMenu=!1,e.ModelState=oP.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.payPeriods=So()}},{key:"AllLoadedLabour",get:function(){return this.ModelState?this.ModelState.allLoadedLabour:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.allLoadedLabour=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"SetFilterDateRange",value:function(e,t){this.FilterDateStart=e.toFormat("yyyy-LL-dd"),this.FilterDateEnd=t.toFormat("yyyy-LL-dd")}},{key:"FilterDateStartAllowedDates",value:function(e){var t=I["DateTime"].fromFormat(e,"yyyy-LL-dd",{zone:"local"});if(!this.FilterDateEnd)return!0;var n=I["DateTime"].fromFormat(this.FilterDateEnd,"yyyy-LL-dd",{zone:"local"});return t<=n}},{key:"FilterDateEndAllowedDates",value:function(e){var t=I["DateTime"].fromFormat(e,"yyyy-LL-dd",{zone:"local"});if(!this.FilterDateStart)return!0;var n=I["DateTime"].fromFormat(this.FilterDateStart,"yyyy-LL-dd",{zone:"local"});return t>=n}},{key:"FilterByProjectId",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),null;var e=this.ModelState;return e.filterByProjectId},set:function(e){var t=this.ModelState;t?(t.filterByProjectId=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"FilterByAgentId",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),null;var e=this.ModelState;return e.filterByAgentId},set:function(e){var t=this.ModelState;t?(t.filterByAgentId=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"FilterDateStart",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),null;var e=this.ModelState;return e.filterDateStart},set:function(e){var t=this.ModelState;t?(t.filterDateStart=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"FilterDateEnd",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),null;var e=this.ModelState;return e.filterDateEnd},set:function(e){var t=this.ModelState;t?(t.filterDateEnd=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"IncludeLabourForOtherProjectsThatMatchAddresses",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),!1;if(!this.FilterByProjectId)return!1;var e=this.ModelState;return e.includeLabourForOtherProjectsThatMatchAddresses},set:function(e){var t=this.ModelState;t?(t.includeLabourForOtherProjectsThatMatchAddresses=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"SpecificLabour",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),[];var e=this.ModelState;return e.specificLabour},set:function(e){var t=this.ModelState;t?(t.specificLabour=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingActive",get:function(){return this.ModelState?this.ModelState._renderingActive:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingActive=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingProgressMessage",get:function(){return this.ModelState?this.ModelState._renderingProgressMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._renderingProgressMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ErrorMessage",get:function(){return this.ModelState?this.ModelState._errorMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._errorMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ShowProgress",get:function(){return this.ModelState?this.ModelState._showProgress:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._showProgress=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingComplete",get:function(){return this.ModelState?this.ModelState._renderingComplete:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingComplete=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_DownloadLink",get:function(){return this.ModelState?this.ModelState._downloadLink:(console.warn("Attempted get on null ModelState"),null)},set:function(e){var t=this.ModelState;t?(t._downloadLink=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"DialogueName",get:function(){return"LabourReportDialogue"}},{key:"Close",value:function(){console.log("Close"),ca.Close(this.DialogueName),this.ModelState=oP.GenerateEmpty()}},{key:"DownloadAgain",value:function(){null!=this._DownloadLink&&CI(this._DownloadLink)}},{key:"StartOver",value:function(){this.ModelState=oP.GenerateEmpty()}},{key:"Run",value:function(){var e=this;do{if(this._ErrorMessage="",!this.$refs.form.validate()){D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});break}var t=this.SpecificLabour,n=[];if(!1===this.AllLoadedLabour){var a,i=Object(G["a"])(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;o&&!y(o)&&n.push(o)}}catch(d){i.e(d)}finally{i.f()}}if(!1===this.AllLoadedLabour&&0===n.length){D.AddNotification({severity:"error",message:"No labour selected.",autoClearInSeconds:10});break}var s=null,r=null,l=null,c=null;null!=this.FilterDateStart&&(s=I["DateTime"].fromFormat(this.FilterDateStart,"yyyy-LL-dd",{zone:"local"}),r=s.toISO()),null!=this.FilterDateEnd&&(l=I["DateTime"].fromFormat(this.FilterDateEnd,"yyyy-LL-dd",{zone:"local"}),l=l.set({hour:23,minute:59,second:59}),c=l.toISO());var u=LI.RunReportLabour.Send({sessionId:ce.CurrentSessionId(),runOnAllLabour:this.AllLoadedLabour,agentId:this.FilterByAgentId,projectId:this.FilterByProjectId,startISO8601:r,endISO8601:c,includeLabourForOtherProjectsWithMatchingAddresses:this.IncludeLabourForOtherProjectsThatMatchAddresses});u.completeRequestPromise&&(this._RenderingActive=!0,this._ShowProgress=!0,this._RenderingProgressMessage="Sending Request…",u.completeRequestPromise.catch((function(t){throw e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingProgressMessage="",e._ErrorMessage=t.message,t})),u.completeRequestPromise.then((function(t){if(console.log("RunReportLabour returned",t),t.isError)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage=t.errorMessage);var n=t.taskId;if(!n)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Did not get task ID from server.");e._RenderingProgressMessage="Waiting…";var a=function t(){var a=LI.GetPDFLaTeXTask.Send({sessionId:ce.CurrentSessionId(),taskId:n});a.completeRequestPromise&&(a.completeRequestPromise.catch((function(t){e._RenderingActive=!1,e._ShowProgress=!1,e._ErrorMessage="Error during processing."})),a.completeRequestPromise.then((function(n){return!1===n.isCompleted?(e._RenderingProgressMessage="Processing (".concat(n.status,")…"),"Error"===n.status&&(e._ErrorMessage=n.errorMessage),void("Error"!==n.status&&setTimeout(t,250))):null===n.tempLink||y(n.tempLink)?(e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Completed, but didn't get a link to download.")):(e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingComplete=!0,e._DownloadLink=n.tempLink,void CI(e._DownloadLink))})))};setTimeout(a,250)})))}while(0)}}],[{key:"GenerateEmpty",value:function(){return{allLoadedLabour:!0,specificLabour:[null],filterByProjectId:null,filterByAgentId:null,filterDateStart:I["DateTime"].local().minus({years:50}).toFormat("yyyy-LL-dd"),filterDateEnd:I["DateTime"].local().plus({years:50}).toFormat("yyyy-LL-dd"),includeLabourForOtherProjectsThatMatchAddresses:!0,_renderingActive:!1,_showProgress:!1,_renderingComplete:!1,_downloadLink:null,_renderingProgressMessage:"",_errorMessage:""}}}]),n}(da);lP=oP=Object(v["a"])([Object(p["a"])({components:{AgentSelectField:Ks}})],lP);var cP=lP,uP=cP,dP=Object(ha["a"])(uP,sP,rP,!1,null,null,null),mP=dP.exports;ga()(dP,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDatePicker:Do["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTextField:wa["a"]});var vP,pP=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Materials Report")]),n("v-divider"),n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"form"},[n("v-container",[0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Materials")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"All Loaded Materials",disabled:""},model:{value:e.AllLoadedMaterials,callback:function(t){e.AllLoadedMaterials=t},expression:"AllLoadedMaterials"}})],1)],1):e._e(),e.AllLoadedMaterials||0!=e._RenderingActive||0!=e._RenderingComplete?e._e():n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}})],1),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Filter By")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectField",{model:{value:e.FilterByProjectId,callback:function(t){e.FilterByProjectId=t},expression:"FilterByProjectId"}})],1)],1):e._e(),e._ErrorMessage?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{type:"error","colored-border":"",border:"bottom",elevation:"2"}},[e._v(" "+e._s(e._ErrorMessage)+" ")])],1)],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Processing…")])])],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-linear",{attrs:{indeterminate:"",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value;return[n("strong",[e._v(e._s(a))])]}}],null,!1,3055762101),model:{value:e._RenderingProgressMessage,callback:function(t){e._RenderingProgressMessage=t},expression:"_RenderingProgressMessage"}})],1)],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Complete")])])],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.DownloadAgain()}}},[e._v("Download Again")])],1)],1):e._e()],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.StartOver()}}},[e._v("Start Over")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e._RenderingComplete},on:{click:function(t){return e.Run()}}},[e._v("Run")])],1)],1)],1)},fP=[],hP=vP=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=vP.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"FilterByProjectId",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),null;var e=this.ModelState;return e.filterByProjectId},set:function(e){var t=this.ModelState;t?(t.filterByProjectId=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"AllLoadedMaterials",get:function(){return this.ModelState?this.ModelState.allLoadedMaterials:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.allLoadedMaterials=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"SpecificMaterials",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),[];var e=this.ModelState;return e.specificMaterials},set:function(e){var t=this.ModelState;t?(t.specificMaterials=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingActive",get:function(){return this.ModelState?this.ModelState._renderingActive:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingActive=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingProgressMessage",get:function(){return this.ModelState?this.ModelState._renderingProgressMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._renderingProgressMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ErrorMessage",get:function(){return this.ModelState?this.ModelState._errorMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._errorMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ShowProgress",get:function(){return this.ModelState?this.ModelState._showProgress:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._showProgress=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingComplete",get:function(){return this.ModelState?this.ModelState._renderingComplete:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingComplete=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_DownloadLink",get:function(){return this.ModelState?this.ModelState._downloadLink:(console.warn("Attempted get on null ModelState"),null)},set:function(e){var t=this.ModelState;t?(t._downloadLink=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"DialogueName",get:function(){return"MaterialsReportDialogue"}},{key:"Close",value:function(){console.log("Close"),ca.Close(this.DialogueName),this.ModelState=vP.GenerateEmpty()}},{key:"DownloadAgain",value:function(){null!=this._DownloadLink&&CI(this._DownloadLink)}},{key:"StartOver",value:function(){this.ModelState=vP.GenerateEmpty()}},{key:"Run",value:function(){var e=this;do{if(this._ErrorMessage="",!this.$refs.form.validate()){D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});break}var t=this.SpecificMaterials,n=[];if(!1===this.AllLoadedMaterials){var a,i=Object(G["a"])(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;o&&!y(o)&&n.push(o)}}catch(r){i.e(r)}finally{i.f()}}if(!1===this.AllLoadedMaterials&&0===n.length){D.AddNotification({severity:"error",message:"No materials selected.",autoClearInSeconds:10});break}var s=LI.RunReportMaterials.Send({sessionId:ce.CurrentSessionId(),runOnAllMaterials:this.AllLoadedMaterials,projectId:this.FilterByProjectId});s.completeRequestPromise&&(this._RenderingActive=!0,this._ShowProgress=!0,this._RenderingProgressMessage="Sending Request…",s.completeRequestPromise.catch((function(t){throw e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingProgressMessage="",e._ErrorMessage=t.message,t})),s.completeRequestPromise.then((function(t){if(console.log("RunReportMaterials returned",t),t.isError)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage=t.errorMessage);var n=t.taskId;if(!n)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Did not get task ID from server.");e._RenderingProgressMessage="Waiting…";var a=function t(){var a=LI.GetPDFLaTeXTask.Send({sessionId:ce.CurrentSessionId(),taskId:n});a.completeRequestPromise&&(a.completeRequestPromise.catch((function(t){e._RenderingActive=!1,e._ShowProgress=!1,e._ErrorMessage="Error during processing."})),a.completeRequestPromise.then((function(n){return!1===n.isCompleted?(e._RenderingProgressMessage="Processing (".concat(n.status,")…"),"Error"===n.status&&(e._ErrorMessage=n.errorMessage),void("Error"!==n.status&&setTimeout(t,250))):null===n.tempLink||y(n.tempLink)?(e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Completed, but didn't get a link to download.")):(e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingComplete=!0,e._DownloadLink=n.tempLink,void CI(e._DownloadLink))})))};setTimeout(a,250)})))}while(0)}}],[{key:"GenerateEmpty",value:function(){return{allLoadedMaterials:!0,specificMaterials:[null],filterByProjectId:null,_renderingActive:!1,_showProgress:!1,_renderingComplete:!1,_downloadLink:null,_renderingProgressMessage:"",_errorMessage:""}}}]),n}(da);hP=vP=Object(v["a"])([Object(p["a"])({components:{}})],hP);var bP=hP,gP=bP,yP=Object(ha["a"])(gP,pP,fP,!1,null,null,null),CP=yP.exports;ga()(yP,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"]});var jP,SP=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Project Report")]),n("v-divider"),n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"form"},[n("v-container",[0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Projects")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticClass:"e2e-project-report-dialogue-all-loaded-projects",staticStyle:{"margin-top":"0px"},attrs:{label:"All Loaded Projects",disabled:!0},model:{value:e.AllLoadedProjects,callback:function(t){e.AllLoadedProjects=t},expression:"AllLoadedProjects"}})],1)],1):e._e(),e.AllLoadedProjects||0!=e._RenderingActive||0!=e._RenderingComplete?e._e():n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ProjectSelectFieldArrayAdapter",{model:{value:e.SpecificProjects,callback:function(t){e.SpecificProjects=t},expression:"SpecificProjects"}})],1)],1),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Include")])])],1):e._e(),0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Companies"},model:{value:e.IncludeCompanies,callback:function(t){e.IncludeCompanies=t},expression:"IncludeCompanies"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Contacts"},model:{value:e.IncludeContacts,callback:function(t){e.IncludeContacts=t},expression:"IncludeContacts"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Schedule"},model:{value:e.IncludeSchedule,callback:function(t){e.IncludeSchedule=t},expression:"IncludeSchedule"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Notes"},model:{value:e.IncludeNotes,callback:function(t){e.IncludeNotes=t},expression:"IncludeNotes"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Labour"},model:{value:e.IncludeLabour,callback:function(t){e.IncludeLabour=t},expression:"IncludeLabour"}}),n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Materials"},model:{value:e.IncludeMaterials,callback:function(t){e.IncludeMaterials=t},expression:"IncludeMaterials"}})],1)],1):e._e(),e._ErrorMessage?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{type:"error","colored-border":"",border:"bottom",elevation:"2"}},[e._v(" "+e._s(e._ErrorMessage)+" ")])],1)],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Processing…")])])],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-linear",{attrs:{indeterminate:"",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value;return[n("strong",[e._v(e._s(a))])]}}],null,!1,3055762101),model:{value:e._RenderingProgressMessage,callback:function(t){e._RenderingProgressMessage=t},expression:"_RenderingProgressMessage"}})],1)],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Complete")])])],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.DownloadAgain()}}},[e._v("Download Again")])],1)],1):e._e()],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.StartOver()}}},[e._v("Start Over")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e._RenderingComplete},on:{click:function(t){return e.Run()}}},[e._v("Run")])],1)],1)],1)},IP=[],PP=jP=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=jP.GenerateEmpty(),e}return Object(u["a"])(n,[{key:"AllLoadedProjects",get:function(){return this.ModelState?this.ModelState.allLoadedProjects:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.allLoadedProjects=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"IncludeCompanies",get:function(){return this.ModelState?this.ModelState.includeCompanies:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.includeCompanies=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"IncludeContacts",get:function(){return this.ModelState?this.ModelState.includeContacts:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.includeContacts=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"IncludeSchedule",get:function(){return this.ModelState?this.ModelState.includeSchedule:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.includeSchedule=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"IncludeNotes",get:function(){return this.ModelState?this.ModelState.includeNotes:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.includeNotes=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"IncludeLabour",get:function(){return this.ModelState?this.ModelState.includeLabour:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.includeLabour=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"IncludeMaterials",get:function(){return this.ModelState?this.ModelState.includeMaterials:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t.includeMaterials=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"SpecificProjects",get:function(){if(!this.ModelState)return console.warn("Attempted get on null ModelState"),[];var e=this.ModelState;return e.specificProjects},set:function(e){var t=this.ModelState;t?(t.specificProjects=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingActive",get:function(){return this.ModelState?this.ModelState._renderingActive:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingActive=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingProgressMessage",get:function(){return this.ModelState?this.ModelState._renderingProgressMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._renderingProgressMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ErrorMessage",get:function(){return this.ModelState?this.ModelState._errorMessage:(console.warn("Attempted get on null ModelState"),"")},set:function(e){var t=this.ModelState;t?(t._errorMessage=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_ShowProgress",get:function(){return this.ModelState?this.ModelState._showProgress:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._showProgress=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_RenderingComplete",get:function(){return this.ModelState?this.ModelState._renderingComplete:(console.warn("Attempted get on null ModelState"),!1)},set:function(e){var t=this.ModelState;t?(t._renderingComplete=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"_DownloadLink",get:function(){return this.ModelState?this.ModelState._downloadLink:(console.warn("Attempted get on null ModelState"),null)},set:function(e){var t=this.ModelState;t?(t._downloadLink=e,this.ModelState=t):console.warn("Attempted set on null ModelState")}},{key:"DialogueName",get:function(){return"ProjectReportDialogue"}},{key:"Close",value:function(){console.log("Close"),ca.Close(this.DialogueName),this.ModelState=jP.GenerateEmpty()}},{key:"DownloadAgain",value:function(){null!=this._DownloadLink&&CI(this._DownloadLink)}},{key:"StartOver",value:function(){this.ModelState=jP.GenerateEmpty()}},{key:"Run",value:function(){var e=this;do{if(this._ErrorMessage="",!this.$refs.form.validate()){D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});break}var t=this.SpecificProjects,n=[];if(!1===this.AllLoadedProjects){var a,i=Object(G["a"])(t);try{for(i.s();!(a=i.n()).done;){var o=a.value;o&&!y(o)&&n.push(o)}}catch(r){i.e(r)}finally{i.f()}}if(!1===this.AllLoadedProjects&&0===n.length){D.AddNotification({severity:"error",message:"No projects selected.",autoClearInSeconds:10});break}var s=LI.RunReportProjects.Send({sessionId:ce.CurrentSessionId(),projectIds:this.SpecificProjects,includeCompanies:this.IncludeCompanies,includeContacts:this.IncludeContacts,includeSchedule:this.IncludeSchedule,includeNotes:this.IncludeNotes,includeLabour:this.IncludeLabour,includeMaterials:this.IncludeMaterials});s.completeRequestPromise&&(this._RenderingActive=!0,this._ShowProgress=!0,this._RenderingProgressMessage="Sending Request…",s.completeRequestPromise.catch((function(t){throw e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingProgressMessage="",e._ErrorMessage=t.message,t})),s.completeRequestPromise.then((function(t){if(console.log("RunReportProjects returned",t),t.isError)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage=t.errorMessage);var n=t.taskId;if(!n)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Did not get task ID from server.");e._RenderingProgressMessage="Waiting…";var a=function t(){var a=LI.GetPDFLaTeXTask.Send({sessionId:ce.CurrentSessionId(),taskId:n});a.completeRequestPromise&&(a.completeRequestPromise.catch((function(t){e._RenderingActive=!1,e._ShowProgress=!1,e._ErrorMessage="Error during processing."})),a.completeRequestPromise.then((function(n){return!1===n.isCompleted?(e._RenderingProgressMessage="Processing (".concat(n.status,")…"),"Error"===n.status&&(e._ErrorMessage=n.errorMessage),void("Error"!==n.status&&setTimeout(t,250))):null===n.tempLink||y(n.tempLink)?(e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Completed, but didn't get a link to download.")):(e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingComplete=!0,e._DownloadLink=n.tempLink,void CI(e._DownloadLink))})))};setTimeout(a,250)})))}while(0)}}],[{key:"GenerateEmpty",value:function(){return{allLoadedProjects:!1,specificProjects:[null],includeCompanies:!0,includeContacts:!0,includeSchedule:!0,includeNotes:!0,includeLabour:!0,includeMaterials:!0,_renderingActive:!1,_showProgress:!1,_renderingComplete:!1,_downloadLink:null,_renderingProgressMessage:"",_errorMessage:""}}}]),n}(da);PP=jP=Object(v["a"])([Object(p["a"])({components:{ProjectSelectFieldArrayAdapter:Hg}})],PP);var OP=PP,kP=OP,DP=Object(ha["a"])(kP,SP,IP,!1,null,null,null),_P=DP.exports;ga()(DP,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"]});var wP=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Dispatch Pulse Demo")]),n("v-divider"),n("v-card-text",[n("p",{staticStyle:{"margin-top":"12px"}},[e._v("Thank you for giving our demo a try, a few notes before we begin:")]),n("ul",[n("li",[e._v("The content of the demo is re-done every time you open it.")]),n("li",[e._v("Any changes you put in are lost when it is closed.")]),n("li",[e._v("You can export anything you put into the demo in settings, but you won't be able to import it until you have a activated account.")])]),n("p",{staticStyle:{"margin-top":"12px"}},[e._v("With that said, click Launch Demo to begin!")])]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Back to Login")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.LaunchDemo()}}},[e._v("Launch Demo")])],1)],1)],1)},xP=[],RP=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={};return e}}]),e}(),MP=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.MobileDeviceWidth=ma,e.ModelState=RP.GetEmpty(),e}return Object(u["a"])(n,[{key:"DialogueName",get:function(){return"DemoIntroductionDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=RP.GetEmpty(),this.$store.commit("SetDemoMode",!1)}},{key:"LaunchDemo",value:function(){console.log("Launch Demo"),this.$store.commit("SetDemoMode",!0),this.BuildFakeDatabase(),ca.Close(this.DialogueName),this.ModelState=RP.GetEmpty()}},{key:"BuildFakeDatabase",value:function(){var e=k(),t=k(),n={},a={},i={},o={},s={},r={},l={},c={},u={},d={},m={},v={},p={},f={},h={},b={},g={},y={},C={},j={},S={},P={},O={},D={},_={},w={},x={},R={},M={},A={},T={},V={},B={},L={},N={},E={},q={},G={},U=Pe.GetEmpty();U.id&&(y[U.id]=U);var H=un.GetEmpty();H.id&&(O[H.id]=H);var W=tn.GetEmpty();W.id&&(S[W.id]=W);var z={fullName:"James Mackenzie",email:"jmackenzie@example.com",emailListMarketing:!1,emailListTutorials:!1,marketingCampaign:"N/A",phone:"(204) 555-5555",uuid:e,companyId:t,applicationData:{dispatchPulseContactId:H.id||null,dispatchPulseAgentId:U.id||null},json:{}};a[z.uuid]=z;var J=at.GetEmpty();J.id=k(),J.name="Demo Group",J.json={hidden:!1},p[J.id]=J;var Y=K.GetEmpty();Y.id=k(),Y.groupId=J.id,Y.contactId=z.uuid,Y.json={},f[Y.id]=Y;var X=Q.GetEmpty();X.uuid=k(),X.key="billing.permissions-groups.read-company",X.contactId=null,X.value=!0,X.json={},X.groupId=J.id,v[X.uuid]=X;var Z=Q.GetEmpty();Z.uuid=k(),Z.key="billing.permissions-groups-memberships.read-company",Z.contactId=null,Z.value=!0,Z.json={},Z.groupId=J.id,v[Z.uuid]=Z;var ee=Q.GetEmpty();ee.uuid=k(),ee.key="crm.employment-status.push-company",ee.contactId=null,ee.value=!0,ee.json={},ee.groupId=J.id,v[ee.uuid]=ee;var te=Q.GetEmpty();te.uuid=k(),te.key="crm.assignments.delete-company",te.contactId=null,te.value=!0,te.json={},te.groupId=J.id,v[te.uuid]=te;var ne=Q.GetEmpty();ne.uuid=k(),ne.key="crm.assignments.push-company",ne.contactId=null,ne.value=!0,ne.json={},ne.groupId=J.id,v[ne.uuid]=ne;var ae=Q.GetEmpty();ae.uuid=k(),ae.key="crm.assignments-status.delete-company",ae.contactId=null,ae.value=!0,ae.json={},ae.groupId=J.id,v[ae.uuid]=ae;var ie=Q.GetEmpty();ie.uuid=k(),ie.key="crm.assignments-status.push-company",ie.contactId=null,ie.value=!0,ie.json={},ie.groupId=J.id,v[ie.uuid]=ie;var oe=Q.GetEmpty();oe.uuid=k(),oe.key="crm.assignments-status.request-company",oe.contactId=null,oe.value=!0,oe.json={},oe.groupId=J.id,v[oe.uuid]=oe;var se=Q.GetEmpty();se.uuid=k(),se.key="crm.companies.delete-company",se.contactId=null,se.value=!0,se.json={},se.groupId=J.id,v[se.uuid]=se;var re=Q.GetEmpty();re.uuid=k(),re.key="crm.companies.push-company",re.contactId=null,re.value=!0,re.json={},re.groupId=J.id,v[re.uuid]=re;var le=Q.GetEmpty();le.uuid=k(),le.key="crm.contacts.delete-company",le.contactId=null,le.value=!0,le.json={},le.groupId=J.id,v[le.uuid]=le;var ce=Q.GetEmpty();ce.uuid=k(),ce.key="crm.contacts.push-company",ce.contactId=null,ce.value=!0,ce.json={},ce.groupId=J.id,v[ce.uuid]=ce;var ue=Q.GetEmpty();ue.uuid=k(),ue.key="crm.contacts.request-company",ue.contactId=null,ue.value=!0,ue.json={},ue.groupId=J.id,v[ue.uuid]=ue;var de=Q.GetEmpty();de.uuid=k(),de.key="crm.estimating-man-hours.delete-company",de.contactId=null,de.value=!0,de.json={},de.groupId=J.id,v[de.uuid]=de;var me=Q.GetEmpty();me.uuid=k(),me.key="crm.estimating-man-hours.request-company",me.contactId=null,me.value=!0,me.json={},me.groupId=J.id,v[me.uuid]=me;var ve=Q.GetEmpty();ve.uuid=k(),ve.key="crm.labour.delete-company",ve.contactId=null,ve.value=!0,ve.json={},ve.groupId=J.id,v[ve.uuid]=ve;var pe=Q.GetEmpty();pe.uuid=k(),pe.key="crm.labour.push-company",pe.contactId=null,pe.value=!0,pe.json={},pe.groupId=J.id,v[pe.uuid]=pe;var fe=Q.GetEmpty();fe.uuid=k(),fe.key="crm.labour.request-company",fe.contactId=null,fe.value=!0,fe.json={},fe.groupId=J.id,v[fe.uuid]=fe;var he=Q.GetEmpty();he.uuid=k(),he.key="crm.labour-subtype-exception.push-company",he.contactId=null,he.value=!0,he.json={},he.groupId=J.id,v[he.uuid]=he;var be=Q.GetEmpty();be.uuid=k(),be.key="crm.labour-subtype-exception.request-company",be.contactId=null,be.value=!0,be.json={},be.groupId=J.id,v[be.uuid]=be;var ge=Q.GetEmpty();ge.uuid=k(),ge.key="crm.labour-subtype-holidays.delete-company",ge.contactId=null,ge.value=!0,ge.json={},ge.groupId=J.id,v[ge.uuid]=ge;var ye=Q.GetEmpty();ye.uuid=k(),ye.key="crm.labour-subtype-holidays.push-company",ye.contactId=null,ye.value=!0,ye.json={},ye.groupId=J.id,v[ye.uuid]=ye;var Ce=Q.GetEmpty();Ce.uuid=k(),Ce.key="crm.labour-subtype-non-billable.delete-company",Ce.contactId=null,Ce.value=!0,Ce.json={},Ce.groupId=J.id,v[Ce.uuid]=Ce;var je=Q.GetEmpty();je.uuid=k(),je.key="crm.labour-subtype-non-billable.push-company",je.contactId=null,je.value=!0,je.json={},je.groupId=J.id,v[je.uuid]=je;var Se=Q.GetEmpty();Se.uuid=k(),Se.key="crm.labour-subtype-non-billable.request-company",Se.contactId=null,Se.value=!0,Se.json={},Se.groupId=J.id,v[Se.uuid]=Se;var Ie=Q.GetEmpty();Ie.uuid=k(),Ie.key="crm.labour-types.delete-company",Ie.contactId=null,Ie.value=!0,Ie.json={},Ie.groupId=J.id,v[Ie.uuid]=Ie;var Oe=Q.GetEmpty();Oe.uuid=k(),Oe.key="crm.labour-types.push-company",Oe.contactId=null,Oe.value=!0,Oe.json={},Oe.groupId=J.id,v[Oe.uuid]=Oe;var ke=Q.GetEmpty();ke.uuid=k(),ke.key="crm.materials.delete-company",ke.contactId=null,ke.value=!0,ke.json={},ke.groupId=J.id,v[ke.uuid]=ke;var De=Q.GetEmpty();De.uuid=k(),De.key="crm.materials.push-company",De.contactId=null,De.value=!0,De.json={},De.groupId=J.id,v[De.uuid]=De;var we=Q.GetEmpty();we.uuid=k(),we.key="crm.materials.request-company",we.contactId=null,we.value=!0,we.json={},we.groupId=J.id,v[we.uuid]=we;var xe=Q.GetEmpty();xe.uuid=k(),xe.key="crm.products.delete-company",xe.contactId=null,xe.value=!0,xe.json={},xe.groupId=J.id,v[xe.uuid]=xe;var Re=Q.GetEmpty();Re.uuid=k(),Re.key="crm.products.push-company",Re.contactId=null,Re.value=!0,Re.json={},Re.groupId=J.id,v[Re.uuid]=Re;var Ae=Q.GetEmpty();Ae.uuid=k(),Ae.key="crm.project-notes.delete-company",Ae.contactId=null,Ae.value=!0,Ae.json={},Ae.groupId=J.id,v[Ae.uuid]=Ae;var Te=Q.GetEmpty();Te.uuid=k(),Te.key="crm.project-notes.push-company",Te.contactId=null,Te.value=!0,Te.json={},Te.groupId=J.id,v[Te.uuid]=Te;var Ve=Q.GetEmpty();Ve.uuid=k(),Ve.key="crm.project-notes.request-company",Ve.contactId=null,Ve.value=!0,Ve.json={},Ve.groupId=J.id,v[Ve.uuid]=Ve;var Le=Q.GetEmpty();Le.uuid=k(),Le.key="crm.projects.push-company",Le.contactId=null,Le.value=!0,Le.json={},Le.groupId=J.id,v[Le.uuid]=Le;var Ne=Q.GetEmpty();Ne.uuid=k(),Ne.key="crm.projects.request-company",Ne.contactId=null,Ne.value=!0,Ne.json={},Ne.groupId=J.id,v[Ne.uuid]=Ne;var Ee=Q.GetEmpty();Ee.uuid=k(),Ee.key="crm.project-status.delete-company",Ee.contactId=null,Ee.value=!0,Ee.json={},Ee.groupId=J.id,v[Ee.uuid]=Ee;var qe=Q.GetEmpty();qe.uuid=k(),qe.key="crm.project-status.push-company",qe.contactId=null,qe.value=!0,qe.json={},qe.groupId=J.id,v[qe.uuid]=qe;var Ge=Q.GetEmpty();Ge.uuid=k(),Ge.key="crm.settings-default.delete-company",Ge.contactId=null,Ge.value=!0,Ge.json={},Ge.groupId=J.id,v[Ge.uuid]=Ge;var $e=Q.GetEmpty();$e.uuid=k(),$e.key="crm.settings-default.push-company",$e.contactId=null,$e.value=!0,$e.json={},$e.groupId=J.id,v[$e.uuid]=$e;var He=Q.GetEmpty();He.uuid=k(),He.key="crm.settings-default.request-company",He.contactId=null,He.value=!0,He.json={},He.groupId=J.id,v[He.uuid]=He;var We=Q.GetEmpty();We.uuid=k(),We.key="crm.settings-provisioning.push-company",We.contactId=null,We.value=!0,We.json={},We.groupId=J.id;var Ke=Q.GetEmpty();Ke.uuid=k(),Ke.key="crm.settings-provisioning.request-company",Ke.contactId=null,Ke.value=!0,Ke.json={},Ke.groupId=J.id;var Je=Q.GetEmpty();Je.uuid=k(),Je.key="crm.settings-user.delete-company",Je.contactId=null,Je.value=!0,Je.json={},Je.groupId=J.id,v[Je.uuid]=Je;var Ye=Q.GetEmpty();Ye.uuid=k(),Ye.key="crm.settings-user.request-company",Ye.contactId=null,Ye.value=!0,Ye.json={},Ye.groupId=J.id,v[Ye.uuid]=Ye;var Qe=Q.GetEmpty();Qe.uuid=k(),Qe.key="crm.skills.push-company",Qe.contactId=null,Qe.value=!0,Qe.json={},Qe.groupId=J.id,v[Qe.uuid]=Qe;var Xe=Q.GetEmpty();Xe.uuid=k(),Xe.key="crm.skills.request-company",Xe.contactId=null,Xe.value=!0,Xe.json={},Xe.groupId=J.id,v[Xe.uuid]=Xe;var et=Q.GetEmpty();et.uuid=k(),et.key="crm.employment-status.delete-company",et.contactId=null,et.value=!0,et.json={},et.groupId=J.id,v[et.uuid]=et;var tt=Q.GetEmpty();tt.uuid=k(),tt.key="crm.employment-status.request-company",tt.contactId=null,tt.value=!0,tt.json={},tt.groupId=J.id,v[tt.uuid]=tt;var nt=Q.GetEmpty();nt.uuid=k(),nt.key="crm.agents.push-company",nt.contactId=null,nt.value=!0,nt.json={},nt.groupId=J.id,v[nt.uuid]=nt;var it=Q.GetEmpty();it.uuid=k(),it.key="crm.settings-user.push-company",it.contactId=null,it.value=!0,it.json={},it.groupId=J.id,v[it.uuid]=it;var ot=Q.GetEmpty();ot.uuid=k(),ot.key="billing.permissions.add-company",ot.contactId=null,ot.value=!0,ot.json={},ot.groupId=J.id,v[ot.uuid]=ot;var st=Q.GetEmpty();st.uuid=k(),st.key="billing.permissions.modify-company",st.contactId=null,st.value=!0,st.json={},st.groupId=J.id,v[st.uuid]=st;var rt=Q.GetEmpty();rt.uuid=k(),rt.key="billing.contacts.read-company",rt.contactId=null,rt.value=!0,rt.json={},rt.groupId=J.id,v[rt.uuid]=rt;var lt=Q.GetEmpty();lt.uuid=k(),lt.key="billing.contacts.modify-company",lt.contactId=null,lt.value=!0,lt.json={},lt.groupId=J.id,v[lt.uuid]=lt;var ct=Q.GetEmpty();ct.uuid=k(),ct.key="billing.currency.read-company",ct.contactId=null,ct.value=!0,ct.json={},ct.groupId=J.id,v[ct.uuid]=ct;var ut=Q.GetEmpty();ut.uuid=k(),ut.key="billing.industries.read-company",ut.contactId=null,ut.value=!0,ut.json={},ut.groupId=J.id,v[ut.uuid]=ut;var dt=Q.GetEmpty();dt.uuid=k(),dt.key="billing.invoices.read-company",dt.contactId=null,dt.value=!0,dt.json={},dt.groupId=J.id,v[dt.uuid]=dt;var mt=Q.GetEmpty();mt.uuid=k(),mt.key="billing.journal-entries.read-company",mt.contactId=null,mt.value=!0,mt.json={},mt.groupId=J.id,v[mt.uuid]=mt;var vt=Q.GetEmpty();vt.uuid=k(),vt.key="billing.contacts.delete-company",vt.contactId=null,vt.value=!0,vt.json={},vt.groupId=J.id,v[vt.uuid]=vt;var pt=Q.GetEmpty();pt.uuid=k(),pt.key="billing.packages-type.read-company",pt.contactId=null,pt.value=!0,pt.json={},pt.groupId=J.id,v[pt.uuid]=pt;var ft=Q.GetEmpty();ft.uuid=k(),ft.key="billing.payment-method.read-company",ft.contactId=null,ft.value=!0,ft.json={},ft.groupId=J.id,v[ft.uuid]=ft;var ht=Q.GetEmpty();ht.uuid=k(),ht.key="billing.permissions-bool.read-company",ht.contactId=null,ht.value=!0,ht.json={},ht.groupId=J.id,v[ht.uuid]=ht;var bt=Q.GetEmpty();bt.uuid=k(),bt.key="billing.permissions-bool.add-company",bt.contactId=null,bt.value=!0,bt.json={},bt.groupId=J.id,v[bt.uuid]=bt;var gt=Q.GetEmpty();gt.uuid=k(),gt.key="billing.permissions-bool.modify-company",gt.contactId=null,gt.value=!0,gt.json={},gt.groupId=J.id,v[gt.uuid]=gt;var yt=Q.GetEmpty();yt.uuid=k(),yt.key="billing.sessions.read-company",yt.contactId=null,yt.value=!0,yt.json={},yt.groupId=J.id,v[yt.uuid]=yt;var Ct=Q.GetEmpty();Ct.uuid=k(),Ct.key="billing.sessions.add-company",Ct.contactId=null,Ct.value=!0,Ct.json={},Ct.groupId=J.id,v[Ct.uuid]=Ct;var jt=Q.GetEmpty();jt.uuid=k(),jt.key="billing.sessions.modify-company",jt.contactId=null,jt.value=!0,jt.json={},jt.groupId=J.id,v[jt.uuid]=jt;var St=Q.GetEmpty();St.uuid=k(),St.key="billing.sessions.delete-company",St.contactId=null,St.value=!0,St.json={},St.groupId=J.id,v[St.uuid]=St;var It=Q.GetEmpty();It.uuid=k(),It.key="billing.subscription.read-company",It.contactId=null,It.value=!0,It.json={},It.groupId=J.id,v[It.uuid]=It;var Pt=Q.GetEmpty();Pt.uuid=k(),Pt.key="billing.permissions-groups-memberships.modify-company",Pt.contactId=null,Pt.value=!0,Pt.json={},Pt.groupId=J.id,v[Pt.uuid]=Pt;var Ot=Q.GetEmpty();Ot.uuid=k(),Ot.key="billing.permissions-groups-memberships.delete-company",Ot.contactId=null,Ot.value=!0,Ot.json={},Ot.groupId=J.id,v[Ot.uuid]=Ot;var kt=Q.GetEmpty();kt.uuid=k(),kt.key="billing.packages.read-company",kt.contactId=null,kt.value=!0,kt.json={},kt.groupId=J.id,v[kt.uuid]=kt;var Dt=Q.GetEmpty();Dt.uuid=k(),Dt.key="crm.agents.delete-company",Dt.contactId=null,Dt.value=!0,Dt.json={},Dt.groupId=J.id,v[Dt.uuid]=Dt;var _t=Q.GetEmpty();_t.uuid=k(),_t.key="crm.agents.request-company",_t.contactId=null,_t.value=!0,_t.json={},_t.groupId=J.id,v[_t.uuid]=_t;var wt=Q.GetEmpty();wt.uuid=k(),wt.key="crm.assignments.request-company",wt.contactId=null,wt.value=!0,wt.json={},wt.groupId=J.id,v[wt.uuid]=wt;var xt=Q.GetEmpty();xt.uuid=k(),xt.key="crm.companies.request-company",xt.contactId=null,xt.value=!0,xt.json={},xt.groupId=J.id,v[xt.uuid]=xt;var Rt=Q.GetEmpty();Rt.uuid=k(),Rt.key="crm.estimating-man-hours.push-company",Rt.contactId=null,Rt.value=!0,Rt.json={},Rt.groupId=J.id,v[Rt.uuid]=Rt;var Mt=Q.GetEmpty();Mt.uuid=k(),Mt.key="crm.labour-subtype-exception.delete-company",Mt.contactId=null,Mt.value=!0,Mt.json={},Mt.groupId=J.id,v[Mt.uuid]=Mt;var At=Q.GetEmpty();At.uuid=k(),At.key="crm.labour-subtype-holidays.request-company",At.contactId=null,At.value=!0,At.json={},At.groupId=J.id,v[At.uuid]=At;var Tt=Q.GetEmpty();Tt.uuid=k(),Tt.key="crm.labour-types.request-company",Tt.contactId=null,Tt.value=!0,Tt.json={},Tt.groupId=J.id,v[Tt.uuid]=Tt;var Vt=Q.GetEmpty();Vt.uuid=k(),Vt.key="crm.products.request-company",Vt.contactId=null,Vt.value=!0,Vt.json={},Vt.groupId=J.id,v[Vt.uuid]=Vt;var Bt=Q.GetEmpty();Bt.uuid=k(),Bt.key="crm.projects.delete-company",Bt.contactId=null,Bt.value=!0,Bt.json={},Bt.groupId=J.id,v[Bt.uuid]=Bt;var Lt=Q.GetEmpty();Lt.uuid=k(),Lt.key="crm.project-status.request-company",Lt.contactId=null,Lt.value=!0,Lt.json={},Lt.groupId=J.id,v[Lt.uuid]=Lt;var Nt=Q.GetEmpty();Nt.uuid=k(),Nt.key="crm.settings-provisioning.delete-company",Nt.contactId=null,Nt.value=!0,Nt.json={},Nt.groupId=J.id,v[Nt.uuid]=Nt;var Et=Q.GetEmpty();Et.uuid=k(),Et.key="crm.skills.delete-company",Et.contactId=null,Et.value=!0,Et.json={},Et.groupId=J.id,v[Et.uuid]=Et;var Ft=Q.GetEmpty();Ft.uuid=k(),Ft.key="billing.permissions.delete-company",Ft.contactId=null,Ft.value=!0,Ft.json={},Ft.groupId=J.id,v[Ft.uuid]=Ft;var qt=Q.GetEmpty();qt.uuid=k(),qt.key="billing.coupon-codes.read-company",qt.contactId=null,qt.value=!0,qt.json={},qt.groupId=J.id,v[qt.uuid]=qt;var Gt=Q.GetEmpty();Gt.uuid=k(),Gt.key="billing.journal-entries-type.read-company",Gt.contactId=null,Gt.value=!0,Gt.json={},Gt.groupId=J.id,v[Gt.uuid]=Gt;var $t=Q.GetEmpty();$t.uuid=k(),$t.key="billing.payment-frequencies.read-company",$t.contactId=null,$t.value=!0,$t.json={},$t.groupId=J.id,v[$t.uuid]=$t;var Ut=Q.GetEmpty();Ut.uuid=k(),Ut.key="billing.permissions-bool.delete-company",Ut.contactId=null,Ut.value=!0,Ut.json={},Ut.groupId=J.id,v[Ut.uuid]=Ut;var Ht=Q.GetEmpty();Ht.uuid=k(),Ht.key="crm.export.companies-csv",Ht.contactId=null,Ht.value=!0,Ht.json={},Ht.groupId=J.id,v[Ht.uuid]=Ht;var Wt=Q.GetEmpty();Wt.uuid=k(),Wt.key="crm.report.projects-pdf",Wt.contactId=null,Wt.value=!0,Wt.json={},Wt.groupId=J.id,v[Wt.uuid]=Wt;var Kt=Q.GetEmpty();Kt.uuid=k(),Kt.key="crm.report.assignments-pdf",Kt.contactId=null,Kt.value=!0,Kt.json={},Kt.groupId=J.id,v[Kt.uuid]=Kt;var zt=Q.GetEmpty();zt.uuid=k(),zt.key="crm.agents.display-own",zt.contactId=null,zt.value=!0,zt.json={},zt.groupId=J.id,v[zt.uuid]=zt;var Jt=Q.GetEmpty();Jt.uuid=k(),Jt.key="crm.view.dashboard.dispatch-tab",Jt.contactId=null,Jt.value=!0,Jt.json={},Jt.groupId=J.id,v[Jt.uuid]=Jt;var Yt=Q.GetEmpty();Yt.uuid=k(),Yt.key="crm.view.dashboard.billing-tab",Yt.contactId=null,Yt.value=!0,Yt.json={},Yt.groupId=J.id,v[Yt.uuid]=Yt;var Xt=Q.GetEmpty();Xt.uuid=k(),Xt.key="crm-view.dashboard.management-tab",Xt.contactId=null,Xt.value=!0,Xt.json={},Xt.groupId=J.id,v[Xt.uuid]=Xt;var Zt=Q.GetEmpty();Zt.uuid=k(),Zt.key="crm.labour.manual-entries",Zt.contactId=null,Zt.value=!0,Zt.json={},Zt.groupId=J.id,v[Zt.uuid]=Zt;var en=Q.GetEmpty();en.uuid=k(),en.key="crm.navigation.show.address-book",en.contactId=null,en.value=!0,en.json={},en.groupId=J.id,v[en.uuid]=en;var nn=Q.GetEmpty();nn.uuid=k(),nn.key="crm.navigation.show.all-contacts",nn.contactId=null,nn.value=!0,nn.json={},nn.groupId=J.id,v[nn.uuid]=nn;var an=Q.GetEmpty();an.uuid=k(),an.key="crm.navigation.show.all-companies",an.contactId=null,an.value=!0,an.json={},an.groupId=J.id,v[an.uuid]=an;var on=Q.GetEmpty();on.uuid=k(),on.key="crm.navigation.show.projects",on.contactId=null,on.value=!0,on.json={},on.groupId=J.id,v[on.uuid]=on;var rn=Q.GetEmpty();rn.uuid=k(),rn.key="crm.navigation.show.all-projects",rn.contactId=null,rn.value=!0,rn.json={},rn.groupId=J.id,v[rn.uuid]=rn;var ln=Q.GetEmpty();ln.uuid=k(),ln.key="crm.navigation.show.all-assignments",ln.contactId=null,ln.value=!0,ln.json={},ln.groupId=J.id,v[ln.uuid]=ln;var cn=Q.GetEmpty();cn.uuid=k(),cn.key="crm.navigation.show.all-material-entries",cn.contactId=null,cn.value=!0,cn.json={},cn.groupId=J.id,v[cn.uuid]=cn;var dn=Q.GetEmpty();dn.uuid=k(),dn.key="crm.navigation.show.project-definitions",dn.contactId=null,dn.value=!0,dn.json={},dn.groupId=J.id,v[dn.uuid]=dn;var mn=Q.GetEmpty();mn.uuid=k(),mn.key="crm.navigation.show.product-definitions",mn.contactId=null,mn.value=!0,mn.json={},mn.groupId=J.id,v[mn.uuid]=mn;var vn=Q.GetEmpty();vn.uuid=k(),vn.key="crm.navigation.show.assignment-status-definitions",vn.contactId=null,vn.value=!0,vn.json={},vn.groupId=J.id,v[vn.uuid]=vn;var pn=Q.GetEmpty();pn.uuid=k(),pn.key="crm.navigation.show.man-hours-definitions",pn.contactId=null,pn.value=!0,pn.json={},pn.groupId=J.id,v[pn.uuid]=pn;var fn=Q.GetEmpty();fn.uuid=k(),fn.key="crm.navigation.show.project-status-definitions",fn.contactId=null,fn.value=!0,fn.json={},fn.groupId=J.id,v[fn.uuid]=fn;var hn=Q.GetEmpty();hn.uuid=k(),hn.key="crm.navigation.show.agents",hn.contactId=null,hn.value=!0,hn.json={},hn.groupId=J.id,v[hn.uuid]=hn;var bn=Q.GetEmpty();bn.uuid=k(),bn.key="crm.navigation.show.all-agents",bn.contactId=null,bn.value=!0,bn.json={},bn.groupId=J.id,v[bn.uuid]=bn;var gn=Q.GetEmpty();gn.uuid=k(),gn.key="crm.navigation.show.all-labour-entries",gn.contactId=null,gn.value=!0,gn.json={},gn.groupId=J.id,v[gn.uuid]=gn;var yn=Q.GetEmpty();yn.uuid=k(),yn.key="crm.navigation.show.agents-definitions",yn.contactId=null,yn.value=!0,yn.json={},yn.groupId=J.id,v[yn.uuid]=yn;var Cn=Q.GetEmpty();Cn.uuid=k(),Cn.key="crm.navigation.show.employment-status-definitions",Cn.contactId=null,Cn.value=!0,Cn.json={},Cn.groupId=J.id,v[Cn.uuid]=Cn;var jn=Q.GetEmpty();jn.uuid=k(),jn.key="crm.navigation.show.labour-exception-definitions",jn.contactId=null,jn.value=!0,jn.json={},jn.groupId=J.id,v[jn.uuid]=jn;var In=Q.GetEmpty();In.uuid=k(),In.key="crm.navigation.show.labour-holidays-definitions",In.contactId=null,In.value=!0,In.json={},In.groupId=J.id,v[In.uuid]=In;var Pn=Q.GetEmpty();Pn.uuid=k(),Pn.key="crm.navigation.show.labour-non-billable-definitions",Pn.contactId=null,Pn.value=!0,Pn.json={},Pn.groupId=J.id,v[Pn.uuid]=Pn;var On=Q.GetEmpty();On.uuid=k(),On.key="crm.navigation.show.reports",On.contactId=null,On.value=!0,On.json={},On.groupId=J.id,v[On.uuid]=On;var Dn=Q.GetEmpty();Dn.uuid=k(),Dn.key="crm.navigation.show.all-reports",Dn.contactId=null,Dn.value=!0,Dn.json={},Dn.groupId=J.id,v[Dn.uuid]=Dn;var _n=Q.GetEmpty();_n.uuid=k(),_n.key="crm.navigation.show.settings",_n.contactId=null,_n.value=!0,_n.json={},_n.groupId=J.id,v[_n.uuid]=_n;var wn=Q.GetEmpty();wn.uuid=k(),wn.key="crm.report.contacts-pdf",wn.contactId=null,wn.value=!0,wn.json={},wn.groupId=J.id,v[wn.uuid]=wn;var xn=Q.GetEmpty();xn.uuid=k(),xn.key="crm.export.contacts-csv",xn.contactId=null,xn.value=!0,xn.json={},xn.groupId=J.id,v[xn.uuid]=xn;var Rn=Q.GetEmpty();Rn.uuid=k(),Rn.key="crm.report.companies-pdf",Rn.contactId=null,Rn.value=!0,Rn.json={},Rn.groupId=J.id,v[Rn.uuid]=Rn;var Mn=Q.GetEmpty();Mn.uuid=k(),Mn.key="crm.export.assignments-csv",Mn.contactId=null,Mn.value=!0,Mn.json={},Mn.groupId=J.id,v[Mn.uuid]=Mn;var An=Q.GetEmpty();An.uuid=k(),An.key="crm.report.materials-pdf",An.contactId=null,An.value=!0,An.json={},An.groupId=J.id,v[An.uuid]=An;var Tn=Q.GetEmpty();Tn.uuid=k(),Tn.key="crm.export.materials-csv",Tn.contactId=null,Tn.value=!0,Tn.json={},Tn.groupId=J.id,v[Tn.uuid]=Tn;var Vn=Q.GetEmpty();Vn.uuid=k(),Vn.key="crm.export.product-definitions-csv",Vn.contactId=null,Vn.value=!0,Vn.json={},Vn.groupId=J.id,v[Vn.uuid]=Vn;var Bn=Q.GetEmpty();Bn.uuid=k(),Bn.key="crm.export.assignment-status-definitions-csv",Bn.contactId=null,Bn.value=!0,Bn.json={},Bn.groupId=J.id,v[Bn.uuid]=Bn;var Ln=Q.GetEmpty();Ln.uuid=k(),Ln.key="crm.export.man-hours-definitions-csv",Ln.contactId=null,Ln.value=!0,Ln.json={},Ln.groupId=J.id,v[Ln.uuid]=Ln;var Nn=Q.GetEmpty();Nn.uuid=k(),Nn.key="crm.export.project-status-definitions-csv",Nn.contactId=null,Nn.value=!0,Nn.json={},Nn.groupId=J.id,v[Nn.uuid]=Nn;var En=Q.GetEmpty();En.uuid=k(),En.key="crm.report.labour-pdf",En.contactId=null,En.value=!0,En.json={},En.groupId=J.id,v[En.uuid]=En;var Fn=Q.GetEmpty();Fn.uuid=k(),Fn.key="crm.export.labour-csv",Fn.contactId=null,Fn.value=!0,Fn.json={},Fn.groupId=J.id,v[Fn.uuid]=Fn;var qn=Q.GetEmpty();qn.uuid=k(),qn.key="crm.export.employment-status-definitions-csv",qn.contactId=null,qn.value=!0,qn.json={},qn.groupId=J.id,v[qn.uuid]=qn;var Gn=Q.GetEmpty();Gn.uuid=k(),Gn.key="crm.export.labour-exception-definitions-csv",Gn.contactId=null,Gn.value=!0,Gn.json={},Gn.groupId=J.id,v[Gn.uuid]=Gn;var $n=Q.GetEmpty();$n.uuid=k(),$n.key="crm.export.labour-holidays-definitions-csv",$n.contactId=null,$n.value=!0,$n.json={},$n.groupId=J.id,v[$n.uuid]=$n;var Un=Q.GetEmpty();Un.uuid=k(),Un.key="crm.export.labour-non-billable-definitions-csv",Un.contactId=null,Un.value=!0,Un.json={},Un.groupId=J.id,v[Un.uuid]=Un;var Hn=Q.GetEmpty();Hn.uuid=k(),Hn.key="crm.view.billing-index.merge-projects",Hn.contactId=null,Hn.value=!0,Hn.json={},Hn.groupId=J.id,v[Hn.uuid]=Hn;var Wn=Q.GetEmpty();Wn.uuid=k(),Wn.key="crm.labour.push-self",Wn.contactId=null,Wn.value=!0,Wn.json={},Wn.groupId=J.id,v[Wn.uuid]=Wn;var Kn=Q.GetEmpty();Kn.uuid=k(),Kn.key="crm.assignments.request-self",Kn.contactId=null,Kn.value=!0,Kn.json={},Kn.groupId=J.id,v[Kn.uuid]=Kn;var zn=Q.GetEmpty();zn.uuid=k(),zn.key="crm.export.projects-csv",zn.contactId=null,zn.value=!0,zn.json={},zn.groupId=J.id,v[zn.uuid]=zn;var Jn=Q.GetEmpty();Jn.uuid=k(),Jn.key="crm.backups.run-local",Jn.contactId=null,Jn.value=!0,Jn.json={},Jn.groupId=J.id,v[Jn.uuid]=Jn;var Yn=Q.GetEmpty();Yn.uuid=k(),Yn.key="crm.backups.run-server",Yn.contactId=null,Yn.value=!0,Yn.json={},Yn.groupId=J.id,v[Yn.uuid]=Yn;var Qn=Q.GetEmpty();Qn.uuid=k(),Qn.key="billing.companies.modify-company-phone-id",Qn.contactId=null,Qn.value=!0,Qn.json={},Qn.groupId=J.id,v[Qn.uuid]=Qn;var Xn={uuid:t,fullName:"A/C Electrical",abbreviation:"ACE",industry:"Electrical Contractors",marketingCampaign:"N/A",addressCity:"Winnipeg",addressCountry:"Canada",addressLine1:"123 Industrial Road",addressLine2:"",addressPostalCode:"R2M 2N1",addressProvince:"MB",stripeCustomerId:"",paymentMethod:"Square Pre-Authorized",invoiceContactId:e,paymentFrequency:"yearly",json:{phoneId:null}};n[Xn.uuid]=Xn,U.json.name=z.fullName,U.json.title="Company Owner",U.json.hourlyWage=36.5,U.json.notificationSMSNumber="5555555555",H.json.name=z.fullName,H.json.title=U.json.title,H.json.companyId=W.id||null,H.json.notes="",H.json.phoneNumbers=[{id:k(),label:"Mobile",value:z.phone}],H.json.emails=[{id:k(),label:"Work",value:z.email}],H.json.addresses=[{id:k(),label:"Home",value:"123 Smith Street"}],W.json.name=Xn.fullName;var Zn={uuid:k(),currency:"CAD",json:{}};o[Zn.uuid]=Zn;var ea={uuid:k(),currency:"USD",json:{}};o[ea.uuid]=ea;var ta={uuid:k(),value:"Electrical",json:{}};s[ta.uuid]=ta;var na,aa,ia={uuid:k(),contactId:z.uuid,agentDescription:"Fake Demo Sesion",ipAddress:"127.0.0.1",createdUtc:I["DateTime"].utc().toISO(),lastAccessUtc:I["DateTime"].utc().toISO(),json:{}};h[ia.uuid]=ia,this.$store.commit("SetSession",ia.uuid);var oa=Qt.GetEmpty();oa&&oa.id&&(oa.json.name="Billable",oa.json.isBillable=!0,oa.json.isDefault=!0,j[oa.id]=oa),na=Qt.GetEmpty(),na&&na.id&&(na.json.isOpen=!0,na.json.name="Assigned",na.json.isAssigned=!0,na.json.isDefault=!0,j[na.id]=na);var sa=Qt.GetEmpty();sa&&sa.id&&(sa.json.isOpen=!0,sa.json.name="Waiting on Vendor",sa.json.isWaitingOnVendor=!0,sa.json.isDefault=!0,j[sa.id]=sa);var ra=Qt.GetEmpty();ra&&ra.id&&(ra.json.name="In Progress",ra.json.isOpen=!0,ra.json.isAssigned=!0,ra.json.isDefault=!0,ra.json.isInProgress=!0,j[ra.id]=ra);var la=Qt.GetEmpty();la&&la.id&&(la.json.name="Billable Review",la.json.isBillableReview=!0,la.json.isDefault=!0,j[la.id]=la);var ca=Qt.GetEmpty();ca&&ca.id&&(ca.json.name="Waiting on Client",ca.json.isOpen=!0,ca.json.isWaitingOnClient=!0,ca.json.isDefault=!0,j[ca.id]=ca);var ua=Qt.GetEmpty();ua&&ua.id&&(ua.json.name="To Be Picked",ua.json.isOpen=!0,ua.json.isDefault=!0,j[ua.id]=ua);var da=Qt.GetEmpty();da&&da.id&&(da.json.name="Re-opened",da.json.isOpen=!0,da.json.isReOpened=!0,da.json.isAssigned=!0,da.json.isDefault=!0,j[da.id]=da);var ma=Qt.GetEmpty();ma&&ma.id&&(ma.json.name="Non Billable",ma.json.isNonBillable=!0,ma.json.isDefault=!0,j[ma.id]=ma);var va=Qt.GetEmpty();va&&va.id&&(va.json.name="Scheduled",va.json.isOpen=!0,va.json.isScheduled=!0,va.json.isDefault=!0,j[va.id]=va);var pa,fa=Qt.GetEmpty();fa&&fa.id&&(fa.json.name="Closed",fa.json.isDefault=!0,j[fa.id]=fa),aa=Qt.GetEmpty(),aa&&aa.id&&(aa.json.name="To Be Scheduled",aa.json.isOpen=!0,aa.json.isToBeScheduled=!0,aa.json.isDefault=!0,j[aa.id]=aa);var ha=sn.GetEmpty();ha&&ha.id&&(ha.json.name="Non Employee",P[ha.id]=ha);var ba=sn.GetEmpty();ba&&ba.id&&(ba.json.name="Current Contractor",P[ba.id]=ba);var ga=sn.GetEmpty();ga&&ga.id&&(ga.json.name="Former Employee",P[ga.id]=ga),pa=sn.GetEmpty(),pa&&pa.id&&(pa.json.name="Current Employee",P[pa.id]=pa);var ya=sn.GetEmpty();ya&&ya.id&&(ya.json.name="Former Contractor",P[ya.id]=ya);var Ca=Be.GetEmpty();Ca.id&&(F.a.merge(Ca,{json:{name:"Christmas",icon:"fa-calendar-day",description:"Stat Holiday, held on December 25.",isStaticDate:!0,staticDateMonth:12,staticDateDay:25,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[Ca.id]=Ca);var ja=Be.GetEmpty();ja.id&&(F.a.merge(ja,{json:{name:"Good Friday",icon:"fa-calendar-day",description:"Stat Holiday, 2 days before Easter Sunday.",isStaticDate:!1,staticDateMonth:null,staticDateDay:null,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!0,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[ja.id]=ja);var Sa=Be.GetEmpty();Sa.id&&(F.a.merge(Sa,{json:{name:"Victoria Day",icon:"fa-calendar-day",description:"Federal Holiday, held on last Monday preceding May 25.",isStaticDate:!1,staticDateMonth:null,staticDateDay:null,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!0,mondayBeforeDateMonth:5,mondayBeforeDateDay:25}}),_[Sa.id]=Sa);var Ia=Be.GetEmpty();Ia.id&&(F.a.merge(Ia,{json:{name:"Rememberance Day",icon:"fa-calendar-day",description:"Stat Holiday, except NS MB ON QC, held on November 11th.",isStaticDate:!0,staticDateMonth:11,staticDateDay:11,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[Ia.id]=Ia);var Pa=Be.GetEmpty();Pa.id&&(F.a.merge(Pa,{json:{name:"New Year's Day",icon:"fa-calendar-day",description:"Stat Holiday, held on January 1.",isStaticDate:!0,staticDateMonth:1,staticDateDay:1,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[Pa.id]=Pa);var Oa=Be.GetEmpty();Oa.id&&(F.a.merge(Oa,{json:{name:"Boxing Day",icon:"fa-calendar-day",description:"Boxing Day, held on December 26.",isStaticDate:!0,staticDateMonth:12,staticDateDay:26,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[Oa.id]=Oa);var ka=Be.GetEmpty();ka.id&&(F.a.merge(ka,{json:{name:"Louis Riel Day (MB) Family Day (BC, AB, ON, NB, SK) Heritage Day (NS) Islander Day (PE)",icon:"fa-calendar-day",description:"Stat Holiday, except QC, NL, and Territories, held on the 3rd Monday in Feburary.",isStaticDate:!1,staticDateMonth:null,staticDateDay:null,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!0,thirdMondayMonth:2,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[ka.id]=ka);var Da=Be.GetEmpty();Da.id&&(F.a.merge(Da,{json:{name:"Canada Day",icon:"fa-calendar-day",description:"Federal Holiday, held on July 1.",isStaticDate:!0,staticDateMonth:7,staticDateDay:1,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[Da.id]=Da);var _a=Be.GetEmpty();_a.id&&(F.a.merge(_a,{json:{name:"Labour Day",icon:"fa-calendar-day",description:"Stat Holiday, held on the 1st Monday in September.",isStaticDate:!1,staticDateMonth:null,staticDateDay:null,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!0,firstMondayMonth:9,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[_a.id]=_a);var wa=Be.GetEmpty();wa.id&&(F.a.merge(wa,{json:{name:"Civic Holiday",icon:"fa-calendar-day",description:"Stat Holiday, except NS MB and PEI, held on the 1st Monday in August.",isStaticDate:!1,staticDateMonth:null,staticDateDay:null,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!0,firstMondayMonth:8,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!1,secondMondayMonth:null,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[wa.id]=wa);var xa=Be.GetEmpty();xa.id&&(F.a.merge(xa,{json:{name:"Thanksgiving",icon:"fa-calendar-day",description:"Stat Holiday, except Atlantic Provinces, held on the 2nd Monday in October.",isStaticDate:!1,staticDateMonth:null,staticDateDay:null,isObservationDay:!1,observationDayStatic:!1,observationDayStaticMonth:null,observationDayStaticDay:null,observationDayActivateIfWeekend:!1,isFirstMondayInMonthDate:!1,firstMondayMonth:null,isGoodFriday:!1,isThirdMondayInMonthDate:!1,thirdMondayMonth:null,isSecondMondayInMonthDate:!0,secondMondayMonth:10,isMondayBeforeDate:!1,mondayBeforeDateMonth:null,mondayBeforeDateDay:null}}),_[xa.id]=xa);var Ra=Me.GetEmpty();Ra.id&&(F.a.merge(Ra,{json:{name:"Bereavement",description:"Time off when someone has died.",icon:"nature_people"}}),w[Ra.id]=Ra);var Ma=Me.GetEmpty();Ma.id&&(F.a.merge(Ma,{json:{name:"Sick",description:"Time off due to sickness.",icon:"local_hospital"}}),w[Ma.id]=Ma);var Aa=Me.GetEmpty();Aa.id&&(F.a.merge(Aa,{json:{name:"Personal Day",description:"Time off for unspecified reasons.",icon:"bathtub"}}),w[Aa.id]=Aa);var Ta=Me.GetEmpty();Ta.id&&(F.a.merge(Ta,{json:{name:"Family Leave",description:"Time off to deal with family issues, such as children being sick, etc...",icon:"child_friendly"}}),w[Ta.id]=Ta);var Va=Me.GetEmpty();Va.id&&(F.a.merge(Va,{json:{name:"Weather",description:"Time off due to bad weather.",icon:"ac_unit"}}),w[Va.id]=Va);var Ba=Fe.GetEmpty();Ba.id&&(F.a.merge(Ba,{json:{name:"Other",description:"Some other non billable task.",icon:"info"}}),x[Ba.id]=Ba);var La=Fe.GetEmpty();La.id&&(F.a.merge(La,{json:{name:"Training",description:"Time spent learning something.",icon:"info"}}),x[La.id]=La);var Na=Fe.GetEmpty();Na.id&&(F.a.merge(Na,{json:{name:"Programming",description:"The writing of computer programs or other technical work.",icon:"info"}}),x[Na.id]=Na);var Ea=Fe.GetEmpty();Ea.id&&(F.a.merge(Ea,{json:{name:"Meeting",description:"A company meeting that cannot be billed to a 3rd party.",icon:"people"}}),x[Ea.id]=Ea);var Fa,qa=Fe.GetEmpty();qa.id&&(F.a.merge(qa,{json:{name:"Administration",description:"Clerical tasks, including drafting documents, telephones, scheduling, project management.",icon:""}}),x[qa.id]=qa),Fa=_e.GetEmpty(),Fa.id&&(F.a.merge(Fa,{json:{name:"Billable",icon:"attach_money",description:"Time that will be billed to a client.",default:!0,isBillable:!0,isHoliday:!1,isNonBillable:!1,isException:!1,isPayOutBanked:!1}}),M[Fa.id]=Fa);var Ga=_e.GetEmpty();Ga.id&&(F.a.merge(Ga,{json:{name:"Exception",icon:"info",description:"Non planned events.",default:!0,isBillable:!1,isHoliday:!1,isNonBillable:!1,isException:!0,isPayOutBanked:!1}}),M[Ga.id]=Ga);var $a=_e.GetEmpty();$a.id&&(F.a.merge($a,{json:{name:"Holiday",icon:"beach_access",description:"Re-occuring standard days off, paid and not paid.",default:!0,isBillable:!1,isHoliday:!0,isNonBillable:!1,isException:!1,isPayOutBanked:!1}}),M[$a.id]=$a);var Ua=_e.GetEmpty();Ua.id&&(F.a.merge(Ua,{json:{name:"Pay Out Banked",icon:"360",description:"",default:!0,isBillable:!1,isHoliday:!1,isNonBillable:!1,isException:!1,isPayOutBanked:!0}}),M[Ua.id]=Ua);var Ha,Wa,Ka,za,Ja=_e.GetEmpty();Ja.id&&(F.a.merge(Ja,{json:{name:"Non Billable",icon:"money_off",description:"Time that will be billed to your company.",default:!0,isBillable:!1,isHoliday:!1,isNonBillable:!0,isException:!1,isPayOutBanked:!1}}),M[Ja.id]=Ja);var Ya=kn.GetEmpty();Ya.id&&(F.a.merge(Ya,{json:{name:"Written Off",isOpen:!1,isAwaitingPayment:!1,isClosed:!0,isNewProjectStatus:!1}}),B[Ya.id]=Ya);var Qa=kn.GetEmpty();Qa.id&&(F.a.merge(Qa,{json:{name:"Arears",isOpen:!1,isAwaitingPayment:!0,isClosed:!1,isNewProjectStatus:!1}}),B[Qa.id]=Qa);var Xa=kn.GetEmpty();Xa.id&&(F.a.merge(Xa,{json:{name:"Terminated",isOpen:!1,isAwaitingPayment:!1,isClosed:!0,isNewProjectStatus:!1}}),B[Xa.id]=Xa),Wa=kn.GetEmpty(),Wa.id&&(F.a.merge(Wa,{json:{name:"Awaiting Payment",isOpen:!1,isAwaitingPayment:!0,isClosed:!1,isNewProjectStatus:!1}}),B[Wa.id]=Wa);var Za=kn.GetEmpty();Za.id&&(F.a.merge(Za,{json:{name:"Complete",isOpen:!1,isAwaitingPayment:!1,isClosed:!0,isNewProjectStatus:!1}}),B[Za.id]=Za),Ka=kn.GetEmpty(),Ka.id&&(F.a.merge(Ka,{json:{name:"In Progress",isOpen:!0,isAwaitingPayment:!1,isClosed:!1,isNewProjectStatus:!1}}),B[Ka.id]=Ka),Ha=kn.GetEmpty(),Ha.id&&(F.a.merge(Ha,{json:{name:"Quoting",isOpen:!0,isAwaitingPayment:!1,isClosed:!1,isNewProjectStatus:!1}}),B[Ha.id]=Ha);var ei=kn.GetEmpty();ei.id&&(F.a.merge(ei,{json:{name:"Rough In",isOpen:!0,isAwaitingPayment:!1,isClosed:!1,isNewProjectStatus:!1}}),B[ei.id]=ei);var ti,ni,ai,ii,oi,si,ri,li,ci,ui,di,mi,vi,pi,fi,hi,bi,gi,yi,Ci,ji,Si,Ii,Pi,Oi,ki,Di,_i,wi,xi,Ri,Mi,Ai,Ti,Vi,Bi,Li=kn.GetEmpty();Li.id&&(F.a.merge(Li,{json:{name:"Finishing",isOpen:!0,isAwaitingPayment:!1,isClosed:!1,isNewProjectStatus:!1}}),B[Li.id]=Li),za=kn.GetEmpty(),za.id&&(F.a.merge(za,{json:{name:"Created",isOpen:!0,isAwaitingPayment:!1,isClosed:!1,isNewProjectStatus:!0}}),B[za.id]=za),ti=Pe.GetEmpty(),ti.id&&(ti.json.name="Sean D. Martin",ti.json.title="Electrician",ti.json.employmentStatusId=pa.id||null,ti.json.hourlyWage=32,ti.json.notificationSMSNumber="(337) 519-6737",y[ti.id]=ti),ni=Pe.GetEmpty(),ni.id&&(ni.json.name="Stanley C. Riley",ni.json.title="Electrician Apprentice",ni.json.employmentStatusId=pa.id||null,ni.json.hourlyWage=22,ni.json.notificationSMSNumber="(337) 519-6875",y[ni.id]=ni),ai=tn.GetEmpty(),ai.id&&(ai.json.name="Kitchen Contractors",S[ai.id]=ai),ii=tn.GetEmpty(),ii.id&&(ii.json.name="Honest Dave's Construction",S[ii.id]=ii),oi=tn.GetEmpty(),oi.id&&(oi.json.name="RAISE THE ROOF Builders",S[oi.id]=oi),si=tn.GetEmpty(),si.id&&(si.json.name="Bob and his Builders",S[si.id]=si),ri=tn.GetEmpty(),ri.id&&(ri.json.name="Oh Crap Plumbing",S[ri.id]=ri),li=tn.GetEmpty(),li.id&&(li.json.name="Throne Masters",S[li.id]=li),ci=tn.GetEmpty(),ci.id&&(ci.json.name="Get Framed Incorporated",S[ci.id]=ci),ui=tn.GetEmpty(),ui.id&&(ui.json.name="Think inside the Box Co.",S[ui.id]=ui),di=tn.GetEmpty(),di.id&&(di.json.name="Ducts Unlimited",S[di.id]=di),mi=tn.GetEmpty(),mi.id&&(mi.json.name="Get Vented",S[mi.id]=mi),vi=tn.GetEmpty(),vi.id&&(vi.json.name="Just Fine Design",S[vi.id]=vi),pi=un.GetEmpty(),pi.id&&(pi.json.name=ti.json.name,pi.json.title=ti.json.title,pi.json.companyId=W.id||null,pi.json.notes="",pi.json.phoneNumbers=[{id:k(),label:"Mobile",value:ti.json.notificationSMSNumber}],O[pi.id]=pi),fi=un.GetEmpty(),fi.id&&(fi.json.name=ni.json.name,fi.json.title=ni.json.title,fi.json.companyId=W.id||null,fi.json.notes="",fi.json.phoneNumbers=[{id:k(),label:"Mobile",value:ni.json.notificationSMSNumber}],O[fi.id]=fi),hi=un.GetEmpty(),hi.id&&(hi.json.name="James M. Malone",hi.json.title="Project Manager",hi.json.companyId=ai.id||null,hi.json.notes="",hi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(970) 638-7249"}],O[hi.id]=hi),bi=un.GetEmpty(),bi.id&&(bi.json.name="Cody Talty",bi.json.title="Carpenter",bi.json.companyId=ai.id||null,bi.json.notes="",bi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(867) 897-2903"}],O[bi.id]=bi),gi=un.GetEmpty(),gi.id&&(gi.json.name="Ray S. Ware",gi.json.title="Carpenter",gi.json.companyId=ai.id||null,gi.json.notes="",gi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(613) 722-0578"}],O[gi.id]=gi),yi=un.GetEmpty(),yi.id&&(yi.json.name="Dave Wheeler",yi.json.title="Project Manager",yi.json.companyId=ii.id||null,yi.json.notes="",yi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(423) 965-0374"}],O[yi.id]=yi),Ci=un.GetEmpty(),Ci.id&&(Ci.json.name="Benny D. Heidelberg",Ci.json.title="Project Manager",Ci.json.companyId=oi.id||null,Ci.json.notes="",Ci.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(530) 430-3458"}],O[Ci.id]=Ci),ji=un.GetEmpty(),ji.id&&(ji.json.name="Fredric B. Keller",ji.json.title="Project Manager",ji.json.companyId=si.id||null,ji.json.notes="",ji.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(705) 447-2299"}],O[ji.id]=ji),Si=un.GetEmpty(),Si.id&&(Si.json.name="Christopher M. Murray",Si.json.title="Project Manager",Si.json.companyId=ri.id||null,Si.json.notes="",Si.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(902) 530-0522"}],O[Si.id]=Si),Ii=un.GetEmpty(),Ii.id&&(Ii.json.name="Clifford P. Felix",Ii.json.title="Project Manager",Ii.json.companyId=li.id||null,Ii.json.notes="",Ii.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(613) 622-2296"}],O[Ii.id]=Ii),Pi=un.GetEmpty(),Pi.id&&(Pi.json.name="Charla E. Foley",Pi.json.title="Plumber",Pi.json.companyId=li.id||null,Pi.json.notes="",Pi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(905) 354-1337"}],O[Pi.id]=Pi),Oi=un.GetEmpty(),Oi.id&&(Oi.json.name="James Y. Garcia",Oi.json.title="Plumber",Oi.json.companyId=li.id||null,Oi.json.notes="",Oi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(418) 314-8577"}],O[Oi.id]=Oi),ki=un.GetEmpty(),ki.id&&(ki.json.name="Harold M. McDonald",ki.json.title="Project Manager",ki.json.companyId=ci.id||null,ki.json.notes="",ki.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(416) 861-2543"}],O[ki.id]=ki),Di=un.GetEmpty(),Di.id&&(Di.json.name="Guy S. Grounds",Di.json.title="Carpenter",Di.json.companyId=ci.id||null,Di.json.notes="",Di.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(514) 241-1489"}],O[Di.id]=Di),_i=un.GetEmpty(),_i.id&&(_i.json.name="John L. Krieger",_i.json.title="Project Manager",_i.json.companyId=ui.id||null,_i.json.notes="",_i.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(416) 861-2543"}],O[_i.id]=_i),wi=un.GetEmpty(),wi.id&&(wi.json.name="Christopher A. Sims",wi.json.title="Project Manager",wi.json.companyId=di.id||null,wi.json.notes="",wi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(416) 291-6585"}],O[wi.id]=wi),xi=un.GetEmpty(),xi.id&&(xi.json.name="Rudolph R. Morris",xi.json.title="Project Manager",xi.json.companyId=mi.id||null,xi.json.notes="",xi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(250) 221-6992"}],O[xi.id]=xi),Ri=un.GetEmpty(),Ri.id&&(Ri.json.name="William J. Woodford",Ri.json.title="Project Manager",Ri.json.companyId=vi.id||null,Ri.json.notes="",Ri.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(416) 744-7676"}],O[Ri.id]=Ri),Mi=un.GetEmpty(),Mi.id&&(Mi.json.name="Harold Curry",Mi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(819) 689-9701"}],O[Mi.id]=Mi),Ai=un.GetEmpty(),Ai.id&&(Ai.json.name="Georgiana Atkinson",Ai.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(780) 525-1779"}],O[Ai.id]=Ai),Ti=un.GetEmpty(),Ti.id&&(Ti.json.name="Linda Phaneuf",Ti.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(514) 773-7358"}],O[Ti.id]=Ti),Vi=un.GetEmpty(),Vi.id&&(Vi.json.name="Robin Bergman",Vi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(781) 261-4366"}],O[Vi.id]=Vi),Bi=un.GetEmpty(),Bi.id&&(Bi.json.name="Jordan McPeak",Bi.json.phoneNumbers=[{id:k(),label:"Mobile",value:"(698) 261-4366"}],O[Bi.id]=Bi);var Ni=I["DateTime"].local(),Ei=I["DateTime"].fromObject({weekNumber:Ni.weekNumber+1,weekday:1,hour:8,minute:30},{zone:"local"}),Fi=ze.GetEmpty();if(Fi.id){Fi.json.name="Kitchen Reno",Fi.json.statusId=Ha.id||null,Fi.json.addresses=[{id:k(),label:"Jobsite",value:"4506 Islington Ave"}],Fi.json.companies=[{id:k(),label:"General Contractor",value:ai.id||null},{id:k(),label:"Plumbing",value:li.id||null}],Fi.json.contacts=[{id:k(),label:"Manager",value:hi.id||null},{id:k(),label:"Homeowner",value:Mi.id||null},{id:k(),label:"Plumber",value:Ii.id||null},{id:k(),label:"Finishing Carpenter",value:bi.id||null}],Fi.json.hasStartISO8601=!0,Fi.json.startISO8601=Ei.toISO(),Fi.json.startTimeMode="time";var qi=I["DateTime"].fromObject({weekNumber:Ni.weekNumber+1,weekday:5,hour:16,minute:30},{zone:"local"});Fi.json.hasEndISO8601=!0,Fi.json.endISO8601=qi.toISO(),Fi.json.endTimeMode="time",V[Fi.id]=Fi}var Gi=Sn.GetEmpty();Gi.id&&(Gi.lastModifiedISO8601=Ni.minus({weeks:2}).toISO(),Gi.json.lastModifiedBillingId=e,Gi.json.projectId=Fi.id||null,Gi.json.content={html:"Client gave the OK to begin on schedule."},Gi.json.contentType="styled-text",T[Gi.id]=Gi);var $i=Ze.GetEmpty();$i.id&&($i.json.hasStartISO8601=!0,$i.json.startISO8601=Fi.json.startISO8601,$i.json.startTimeMode=Fi.json.startTimeMode,$i.json.hasEndISO8601=!0,$i.json.endISO8601=Fi.json.endISO8601,$i.json.endTimeMode=Fi.json.endTimeMode,$i.json.statusId=na.id||null,$i.json.projectId=Fi.id||null,$i.json.agentIds=[ti.id||null],$i.json.workRequested="Standard kitchen reno, plans on site.",C[$i.id]=$i);var Ui=Ze.GetEmpty();Ui.id&&(Ui.json.hasStartISO8601=!0,Ui.json.startISO8601=Fi.json.startISO8601,Ui.json.startTimeMode=Fi.json.startTimeMode,Ui.json.hasEndISO8601=!0,Ui.json.endISO8601=Fi.json.endISO8601,Ui.json.endTimeMode=Fi.json.endTimeMode,Ui.json.statusId=na.id||null,Ui.json.projectId=Fi.id||null,Ui.json.agentIds=[ni.id||null],Ui.json.workRequested="Standard kitchen reno, plans on site.",C[Ui.id]=Ui);var Hi=I["DateTime"].local(),Wi=I["DateTime"].fromObject({weekNumber:Hi.weekNumber+2,weekday:1,hour:8,minute:30},{zone:"local"}),Ki=ze.GetEmpty();if(Ki.id){Ki.json.name="Basement Reno",Ki.json.statusId=Ha.id||null,Ki.json.addresses=[{id:k(),label:"Jobsite",value:"4046 137th Avenue"}],Ki.json.companies=[{id:k(),label:"General Contractor",value:ci.id||null},{id:k(),label:"Plumbing",value:ri.id||null}],Ki.json.contacts=[{id:k(),label:"Manager",value:ki.id||null},{id:k(),label:"Homeowner",value:Ai.id||null},{id:k(),label:"Plumber",value:Si.id||null},{id:k(),label:"Carpenter",value:Di.id||null}],Ki.json.hasStartISO8601=!0,Ki.json.startISO8601=Wi.toISO(),Ki.json.startTimeMode="time";var zi=I["DateTime"].fromObject({weekNumber:Hi.weekNumber+2,weekday:5,hour:16,minute:30},{zone:"local"});Ki.json.hasEndISO8601=!0,Ki.json.endISO8601=zi.toISO(),Ki.json.endTimeMode="time",V[Ki.id]=Ki}var Ji=Sn.GetEmpty();Ji.id&&(Ji.lastModifiedISO8601=Hi.minus({weeks:2}).toISO(),Ji.json.lastModifiedBillingId=e,Ji.json.projectId=Ki.id||null,Ji.json.content={html:"Client gave the OK to begin on schedule."},Ji.json.contentType="styled-text",T[Ji.id]=Ji);var Yi=Ze.GetEmpty();Yi.id&&(Yi.json.hasStartISO8601=!0,Yi.json.startISO8601=Ki.json.startISO8601,Yi.json.startTimeMode=Ki.json.startTimeMode,Yi.json.hasEndISO8601=!0,Yi.json.endISO8601=Ki.json.endISO8601,Yi.json.endTimeMode=Ki.json.endTimeMode,Yi.json.statusId=na.id||null,Yi.json.projectId=Ki.id||null,Yi.json.agentIds=[ti.id||null],Yi.json.workRequested="Standard basement reno, plans at shop.",C[Yi.id]=Yi);var Qi,Xi,Zi=Ze.GetEmpty();Zi.id&&(Zi.json.hasStartISO8601=!0,Zi.json.startISO8601=Ki.json.startISO8601,Zi.json.startTimeMode=Ki.json.startTimeMode,Zi.json.hasEndISO8601=!0,Zi.json.endISO8601=Ki.json.endISO8601,Zi.json.endTimeMode=Ki.json.endTimeMode,Zi.json.statusId=na.id||null,Zi.json.projectId=Ki.id||null,Zi.json.agentIds=[ni.id||null],Zi.json.workRequested="Standard basement reno, plans at shop.",C[Zi.id]=Zi);var eo=I["DateTime"].local(),to=I["DateTime"].fromObject({weekNumber:eo.weekNumber-2,weekday:1,hour:8,minute:30},{zone:"local"});if(Qi=ze.GetEmpty(),Qi.id){Qi.json.name="Bathroom Rewire",Qi.json.statusId=Wa.id||null,Qi.json.addresses=[{id:k(),label:"Jobsite",value:"1368 Eglinton Avenue"}],Qi.json.companies=[{id:k(),label:"General Contractor",value:ci.id||null},{id:k(),label:"Plumbing",value:ri.id||null}],Qi.json.contacts=[{id:k(),label:"Manager",value:ki.id||null},{id:k(),label:"Homeowner",value:Ai.id||null},{id:k(),label:"Plumber",value:Si.id||null},{id:k(),label:"Carpenter",value:Di.id||null}],Qi.json.hasStartISO8601=!0,Qi.json.startISO8601=to.toISO(),Qi.json.startTimeMode="time";var no=I["DateTime"].fromObject({weekNumber:eo.weekNumber-2,weekday:5,hour:16,minute:30},{zone:"local"});Qi.json.hasEndISO8601=!0,Qi.json.endISO8601=no.toISO(),Qi.json.endTimeMode="time",V[Qi.id]=Qi,console.log("bathroomReno",Qi)}var ao=Sn.GetEmpty();ao.id&&(ao.lastModifiedISO8601=eo.minus({weeks:2}).toISO(),ao.json.lastModifiedBillingId=e,ao.json.projectId=Qi.id||null,ao.json.content={html:"Client gave the OK to begin on schedule."},ao.json.contentType="styled-text",T[ao.id]=ao),Xi=Ze.GetEmpty(),Xi.id&&(Xi.json.hasStartISO8601=!0,Xi.json.startISO8601=Qi.json.startISO8601,Xi.json.startTimeMode=Qi.json.startTimeMode,Xi.json.hasEndISO8601=!0,Xi.json.endISO8601=Qi.json.endISO8601,Xi.json.endTimeMode=Qi.json.endTimeMode,Xi.json.statusId=na.id||null,Xi.json.projectId=Qi.id||null,Xi.json.agentIds=[ti.id||null],Xi.json.workRequested="Standard basement reno, plans at shop.",C[Xi.id]=Xi);var io,oo,so=Ze.GetEmpty();so.id&&(so.json.hasStartISO8601=!0,so.json.startISO8601=Qi.json.startISO8601,so.json.startTimeMode=Qi.json.startTimeMode,so.json.hasEndISO8601=!0,so.json.endISO8601=Qi.json.endISO8601,so.json.endTimeMode=Qi.json.endTimeMode,so.json.statusId=na.id||null,so.json.projectId=Qi.id||null,so.json.agentIds=[ni.id||null],so.json.workRequested="Standard basement reno, plans at shop.",C[so.id]=so);var ro=I["DateTime"].local(),lo=I["DateTime"].fromObject({weekNumber:ro.weekNumber,weekday:1,hour:8,minute:30},{zone:"local"});if(io=ze.GetEmpty(),io.id){io.json.name="Garage Wiring & 200A Service Replacement",io.json.statusId=Ka.id||null,io.json.addresses=[{id:k(),label:"Jobsite",value:"2143 rue Garneau"}],io.json.companies=[{id:k(),label:"General Contractor",value:si.id||null}],io.json.contacts=[{id:k(),label:"Manager",value:ji.id||null},{id:k(),label:"Homeowner",value:Ti.id||null},{id:k(),label:"Carpenter",value:ji.id||null}],io.json.hasStartISO8601=!0,io.json.startISO8601=lo.toISO(),io.json.startTimeMode="time";var co=I["DateTime"].fromObject({weekNumber:ro.weekNumber,weekday:5,hour:16,minute:30},{zone:"local"});io.json.hasEndISO8601=!0,io.json.endISO8601=co.toISO(),io.json.endTimeMode="time",V[io.id]=io}var uo,mo=Sn.GetEmpty();mo.id&&(mo.lastModifiedISO8601=ro.minus({weeks:2}).toISO(),mo.json.lastModifiedBillingId=e,mo.json.projectId=io.id||null,mo.json.content={html:"Client gave the OK to begin on schedule."},mo.json.contentType="styled-text",T[mo.id]=mo),oo=Ze.GetEmpty(),oo.id&&(oo.json.hasStartISO8601=!0,oo.json.startISO8601=io.json.startISO8601,oo.json.startTimeMode=io.json.startTimeMode,oo.json.hasEndISO8601=!0,oo.json.endISO8601=io.json.endISO8601,oo.json.endTimeMode=io.json.endTimeMode,oo.json.statusId=na.id||null,oo.json.projectId=io.id||null,oo.json.agentIds=[U.id||null],oo.json.workRequested="Garage replacement and 200A service replacement.",C[oo.id]=oo),uo=ze.GetEmpty(),uo.id&&(uo.json.name="Replace Light Fixture",uo.json.statusId=za.id||null,uo.json.addresses=[{id:k(),label:"Jobsite",value:"619 Burke Street"}],uo.json.contacts=[{id:k(),label:"Homeowner",value:Vi.id||null}],V[uo.id]=uo);var vo,po=Ze.GetEmpty();po.id&&(po.json.statusId=aa.id||null,po.json.projectId=uo.id||null,po.json.workRequested="Replace Lighting Fixture",C[po.id]=po),vo=ze.GetEmpty(),vo.id&&(vo.json.name="Outside Plug",vo.json.statusId=za.id||null,vo.json.addresses=[{id:k(),label:"Jobsite",value:"880 Howard River Rd"}],vo.json.contacts=[{id:k(),label:"Homeowner",value:Bi.id||null}],V[vo.id]=vo);var fo=Ze.GetEmpty();fo.id&&(fo.json.statusId=aa.id||null,fo.json.projectId=vo.id||null,fo.json.workRequested="Install Outside Plug",C[fo.id]=fo);var ho=I["DateTime"].local(),bo=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:1,hour:8,minute:30},{zone:"local"});if(ho>bo&&ho.day!==bo.day){var go=Ue.GetEmpty();go.id&&(go.json.projectId=Qi.id||null,go.json.agentId=U.id||null,go.json.assignmentId=Xi.id||null,go.json.typeId=Fa.id||null,go.json.timeMode="date-and-hours",go.json.hours=5,go.json.startISO8601=bo.toISO(),go.json.isActive=!1,go.json.locationType="on-site",go.json.isEnteredThroughTelephoneCompanyAccess=!1,R[go.id]=go)}var yo=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:2,hour:8,minute:30},{zone:"local"});if(ho>yo&&ho.day!==yo.day){var Co=Ue.GetEmpty();Co.id&&(Co.json.projectId=Qi.id||null,Co.json.agentId=U.id||null,Co.json.assignmentId=Xi.id||null,Co.json.typeId=Fa.id||null,Co.json.timeMode="date-and-hours",Co.json.hours=8,Co.json.startISO8601=yo.toISO(),Co.json.isActive=!1,Co.json.locationType="on-site",Co.json.isEnteredThroughTelephoneCompanyAccess=!1,R[Co.id]=Co)}var jo=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:3,hour:8,minute:30},{zone:"local"}),So=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:3,hour:16,minute:30},{zone:"local"});if(ho>jo&&ho.day!==jo.day){var Io=Ue.GetEmpty();Io.id&&(Io.json.projectId=Qi.id||null,Io.json.agentId=U.id||null,Io.json.assignmentId=Xi.id||null,Io.json.typeId=Fa.id||null,Io.json.timeMode="start-stop-timestamp",Io.json.startISO8601=jo.toISO(),Io.json.endISO8601=So.toISO(),Io.json.isActive=!1,Io.json.locationType="on-site",Io.json.isEnteredThroughTelephoneCompanyAccess=!1,R[Io.id]=Io)}var Po=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:4,hour:8,minute:30},{zone:"local"}),Oo=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:4,hour:16,minute:30},{zone:"local"});if(ho>Po&&ho.day!==Po.day){var ko=Ue.GetEmpty();ko.id&&(ko.json.projectId=Qi.id||null,ko.json.agentId=U.id||null,ko.json.assignmentId=Xi.id||null,ko.json.typeId=Fa.id||null,ko.json.timeMode="start-stop-timestamp",ko.json.startISO8601=Po.toISO(),ko.json.endISO8601=Oo.toISO(),ko.json.isActive=!1,ko.json.locationType="on-site",ko.json.isEnteredThroughTelephoneCompanyAccess=!1,R[ko.id]=ko)}var Do=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:5,hour:8,minute:30},{zone:"local"}),_o=I["DateTime"].fromObject({weekNumber:ho.weekNumber,weekday:5,hour:16,minute:30},{zone:"local"});if(ho>Do&&ho.day!==Do.day){var wo=Ue.GetEmpty();wo.id&&(wo.json.projectId=Qi.id||null,wo.json.agentId=U.id||null,wo.json.assignmentId=Xi.id||null,wo.json.typeId=Fa.id||null,wo.json.timeMode="start-stop-timestamp",wo.json.startISO8601=Do.toISO(),wo.json.endISO8601=_o.toISO(),wo.json.isActive=!1,wo.json.locationType="on-site",wo.json.isEnteredThroughTelephoneCompanyAccess=!1,R[wo.id]=wo)}var xo=ho.minus({hours:2.25}),Ro=Ue.GetEmpty();Ro.id&&(Ro.json.projectId=io.id||null,Ro.json.agentId=U.id||null,Ro.json.assignmentId=oo.id||null,Ro.json.typeId=Fa.id||null,Ro.json.timeMode="start-stop-timestamp",Ro.json.startISO8601=xo.toISO(),Ro.json.isActive=!0,Ro.json.locationType="on-site",Ro.json.isEnteredThroughTelephoneCompanyAccess=!1,R[Ro.id]=Ro);for(var Mo=0,Ao=Object.entries(n);Mo<Ao.length;Mo++){var To=Object($["a"])(Ao[Mo],2),Vo=To[0],Bo=To[1],Lo=Bo;Lo.json=JSON.stringify(Lo.json),n[Vo]=Lo}for(var No=0,Eo=Object.entries(a);No<Eo.length;No++){var Fo=Object($["a"])(Eo[No],2),qo=Fo[0],Go=Fo[1],$o=Go;$o.json=JSON.stringify($o.json),$o.applicationData=JSON.stringify($o.applicationData),a[qo]=$o}for(var Uo=0,Ho=Object.entries(i);Uo<Ho.length;Uo++){var Wo=Object($["a"])(Ho[Uo],2),Ko=Wo[0],zo=Wo[1],Jo=zo;Jo.json=JSON.stringify(Jo.json),i[Ko]=Jo}for(var Yo=0,Qo=Object.entries(o);Yo<Qo.length;Yo++){var Xo=Object($["a"])(Qo[Yo],2),Zo=Xo[0],es=Xo[1],ts=es;ts.json=JSON.stringify(ts.json),o[Zo]=ts}for(var ns=0,as=Object.entries(s);ns<as.length;ns++){var is=Object($["a"])(as[ns],2),os=is[0],ss=is[1],rs=ss;rs.json=JSON.stringify(rs.json),s[os]=rs}for(var ls=0,cs=Object.entries(r);ls<cs.length;ls++){var us=Object($["a"])(cs[ls],2),ds=us[0],ms=us[1],vs=ms;vs.json=JSON.stringify(vs.json),r[ds]=vs}for(var ps=0,fs=Object.entries(l);ps<fs.length;ps++){var hs=Object($["a"])(fs[ps],2),bs=hs[0],gs=hs[1],ys=gs;ys.json=JSON.stringify(ys.json),l[bs]=ys}for(var Cs=0,js=Object.entries(c);Cs<js.length;Cs++){var Ss=Object($["a"])(js[Cs],2),Is=Ss[0],Ps=Ss[1],Os=Ps;Os.json=JSON.stringify(Os.json),c[Is]=Os}for(var ks=0,Ds=Object.entries(u);ks<Ds.length;ks++){var _s=Object($["a"])(Ds[ks],2),ws=_s[0],xs=_s[1],Rs=xs;Rs.json=JSON.stringify(Rs.json),u[ws]=Rs}for(var Ms=0,As=Object.entries(d);Ms<As.length;Ms++){var Ts=Object($["a"])(As[Ms],2),Vs=Ts[0],Bs=Ts[1],Ls=Bs;Ls.json=JSON.stringify(Ls.json),d[Vs]=Ls}for(var Ns=0,Es=Object.entries(m);Ns<Es.length;Ns++){var Fs=Object($["a"])(Es[Ns],2),qs=Fs[0],Gs=Fs[1],$s=Gs;$s.json=JSON.stringify($s.json),m[qs]=$s}for(var Us=0,Hs=Object.entries(v);Us<Hs.length;Us++){var Ws=Object($["a"])(Hs[Us],2),Ks=Ws[0],zs=Ws[1],Js=zs;Js.json=JSON.stringify(Js.json),v[Ks]=Js}for(var Ys=0,Qs=Object.entries(p);Ys<Qs.length;Ys++){var Xs=Object($["a"])(Qs[Ys],2),Zs=Xs[0],er=Xs[1],tr=er;tr.json=JSON.stringify(tr.json),p[Zs]=tr}for(var nr=0,ar=Object.entries(f);nr<ar.length;nr++){var ir=Object($["a"])(ar[nr],2),or=ir[0],sr=ir[1],rr=sr;rr.json=JSON.stringify(rr.json),f[or]=rr}for(var lr=0,cr=Object.entries(h);lr<cr.length;lr++){var ur=Object($["a"])(cr[lr],2),dr=ur[0],mr=ur[1],vr=mr;vr.json=JSON.stringify(vr.json),h[dr]=vr}for(var pr=0,fr=Object.entries(b);pr<fr.length;pr++){var hr=Object($["a"])(fr[pr],2),br=hr[0],gr=hr[1],yr=gr;yr.json=JSON.stringify(yr.json),b[br]=yr}for(var Cr=0,jr=Object.entries(g);Cr<jr.length;Cr++){var Sr=Object($["a"])(jr[Cr],2),Ir=Sr[0],Pr=Sr[1],Or=Pr;Or.json=JSON.stringify(Or.json),g[Ir]=Or}for(var kr=0,Dr=Object.entries(y);kr<Dr.length;kr++){var _r=Object($["a"])(Dr[kr],2),wr=_r[0],xr=_r[1],Rr=xr;Rr.json=JSON.stringify(Rr.json),y[wr]=Rr}for(var Mr=0,Ar=Object.entries(C);Mr<Ar.length;Mr++){var Tr=Object($["a"])(Ar[Mr],2),Vr=Tr[0],Br=Tr[1],Lr=Br;Lr.json=JSON.stringify(Lr.json),C[Vr]=Lr}for(var Nr=0,Er=Object.entries(j);Nr<Er.length;Nr++){var Fr=Object($["a"])(Er[Nr],2),qr=Fr[0],Gr=Fr[1],$r=Gr;$r.json=JSON.stringify($r.json),j[qr]=$r}for(var Ur=0,Hr=Object.entries(S);Ur<Hr.length;Ur++){var Wr=Object($["a"])(Hr[Ur],2),Kr=Wr[0],zr=Wr[1],Jr=zr;Jr.json=JSON.stringify(Jr.json),S[Kr]=Jr}for(var Yr=0,Qr=Object.entries(P);Yr<Qr.length;Yr++){var Xr=Object($["a"])(Qr[Yr],2),Zr=Xr[0],el=Xr[1],tl=el;tl.json=JSON.stringify(tl.json),P[Zr]=tl}for(var nl=0,al=Object.entries(O);nl<al.length;nl++){var il=Object($["a"])(al[nl],2),ol=il[0],sl=il[1],rl=sl;rl.json=JSON.stringify(rl.json),O[ol]=rl}for(var ll=0,cl=Object.entries(D);ll<cl.length;ll++){var ul=Object($["a"])(cl[ll],2),dl=ul[0],ml=ul[1],vl=ml;vl.json=JSON.stringify(vl.json),D[dl]=vl}for(var pl=0,fl=Object.entries(_);pl<fl.length;pl++){var hl=Object($["a"])(fl[pl],2),bl=hl[0],gl=hl[1],yl=gl;yl.json=JSON.stringify(yl.json),_[bl]=yl}for(var Cl=0,jl=Object.entries(w);Cl<jl.length;Cl++){var Sl=Object($["a"])(jl[Cl],2),Il=Sl[0],Pl=Sl[1],Ol=Pl;Ol.json=JSON.stringify(Ol.json),w[Il]=Ol}for(var kl=0,Dl=Object.entries(x);kl<Dl.length;kl++){var _l=Object($["a"])(Dl[kl],2),wl=_l[0],xl=_l[1],Rl=xl;Rl.json=JSON.stringify(Rl.json),x[wl]=Rl}for(var Ml=0,Al=Object.entries(R);Ml<Al.length;Ml++){var Tl=Object($["a"])(Al[Ml],2),Vl=Tl[0],Bl=Tl[1],Ll=Bl;Ll.json=JSON.stringify(Ll.json),R[Vl]=Ll}for(var Nl=0,El=Object.entries(M);Nl<El.length;Nl++){var Fl=Object($["a"])(El[Nl],2),ql=Fl[0],Gl=Fl[1],$l=Gl;$l.json=JSON.stringify($l.json),M[ql]=$l}for(var Ul=0,Hl=Object.entries(A);Ul<Hl.length;Ul++){var Wl=Object($["a"])(Hl[Ul],2),Kl=Wl[0],zl=Wl[1],Jl=zl;Jl.json=JSON.stringify(Jl.json),A[Kl]=Jl}for(var Yl=0,Ql=Object.entries(T);Yl<Ql.length;Yl++){var Xl=Object($["a"])(Ql[Yl],2),Zl=Xl[0],ec=Xl[1],tc=ec;tc.json=JSON.stringify(tc.json),T[Zl]=tc}for(var nc=0,ac=Object.entries(V);nc<ac.length;nc++){var ic=Object($["a"])(ac[nc],2),oc=ic[0],sc=ic[1],rc=sc;rc.json=JSON.stringify(rc.json),V[oc]=rc}for(var lc=0,cc=Object.entries(B);lc<cc.length;lc++){var uc=Object($["a"])(cc[lc],2),dc=uc[0],mc=uc[1],vc=mc;vc.json=JSON.stringify(vc.json),B[dc]=vc}for(var pc=0,fc=Object.entries(L);pc<fc.length;pc++){var hc=Object($["a"])(fc[pc],2),bc=hc[0],gc=hc[1],yc=gc;yc.json=JSON.stringify(yc.json),L[bc]=yc}for(var Cc=0,jc=Object.entries(N);Cc<jc.length;Cc++){var Sc=Object($["a"])(jc[Cc],2),Ic=Sc[0],Pc=Sc[1],Oc=Pc;Oc.json=JSON.stringify(Oc.json),N[Ic]=Oc}for(var kc=0,Dc=Object.entries(E);kc<Dc.length;kc++){var _c=Object($["a"])(Dc[kc],2),wc=_c[0],xc=_c[1],Rc=xc;Rc.json=JSON.stringify(Rc.json),E[wc]=Rc}for(var Mc=0,Ac=Object.entries(q);Mc<Ac.length;Mc++){var Tc=Object($["a"])(Ac[Mc],2),Vc=Tc[0],Bc=Tc[1],Lc=Bc;Lc.json=JSON.stringify(Lc.json),q[Vc]=Lc}for(var Nc=0,Ec=Object.entries(G);Nc<Ec.length;Nc++){var Fc=Object($["a"])(Ec[Nc],2),qc=Fc[0],Gc=Fc[1],$c=Gc;$c.json=JSON.stringify($c.json),G[qc]=$c}this.$store.commit("UpdateBillingCompaniesRemote",n),this.$store.commit("UpdateBillingContactsRemote",a),this.$store.commit("UpdateBillingCouponCodesRemote",i),this.$store.commit("UpdateBillingCurrencyRemote",o),this.$store.commit("UpdateBillingIndustriesRemote",s),this.$store.commit("UpdateBillingInvoicesRemote",r),this.$store.commit("UpdateBillingJournalEntriesRemote",l),this.$store.commit("UpdateBillingPackagesRemote",c),this.$store.commit("UpdateBillingPackagesTypeRemote",u),this.$store.commit("UpdateBillingPaymentFrequenciesRemote",d),this.$store.commit("UpdateBillingPaymentMethodRemote",m),this.$store.commit("UpdateBillingPermissionsBoolRemote",v),this.$store.commit("UpdateBillingPermissionsGroupsRemote",p),this.$store.commit("UpdateBillingPermissionsGroupsMembershipsRemote",f),this.$store.commit("UpdateBillingSessionsRemote",h),this.$store.commit("UpdateBillingSubscriptionsRemote",b),this.$store.commit("UpdateBillingSubscriptionsProvisioningStatusRemote",g),this.$store.commit("UpdateAgentsRemote",y),this.$store.commit("UpdateAssignmentsRemote",C),this.$store.commit("UpdateAssignmentStatusRemote",j),this.$store.commit("UpdateCompaniesRemote",S),this.$store.commit("UpdateAgentsEmploymentStatusRemote",P),this.$store.commit("UpdateContactsRemote",O),this.$store.commit("UpdateEstimatingManHoursRemote",D),this.$store.commit("UpdateLabourSubtypeHolidaysRemote",_),this.$store.commit("UpdateLabourSubtypeExceptionRemote",w),this.$store.commit("UpdateLabourSubtypeNonBillableRemote",x),this.$store.commit("UpdateLabourRemote",R),this.$store.commit("UpdateLabourTypesRemote",M),this.$store.commit("UpdateMaterialsRemote",A),this.$store.commit("UpdateProjectNotesRemote",T),this.$store.commit("UpdateProjectsRemote",V),this.$store.commit("UpdateProjectStatusRemote",B),this.$store.commit("UpdateSettingsDefaultRemote",L),this.$store.commit("UpdateSettingsProvisioningRemote",N),this.$store.commit("UpdateSettingsUserRemote",E),this.$store.commit("UpdateProductsRemote",q),this.$store.commit("UpdateSkillsRemote",G)}}]),n}(da);MP=Object(v["a"])([Object(p["a"])({components:{EmploymentStatusEditor:Wj}})],MP);var AP=MP,TP=AP,VP=Object(ha["a"])(TP,wP,xP,!1,null,null,null),BP=VP.exports;ga()(VP,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var LP=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.IsOpen,callback:function(t){e.IsOpen=t},expression:"IsOpen"}},[n("v-card",[n("v-card-title",[e._v("Register")]),n("v-divider"),n("v-card-text",[n("v-alert",{staticStyle:{"margin-top":"20px"},attrs:{type:"info","colored-border":"",elevation:"2",border:"bottom"}},[e._v(" Hi There! Feel free to give us a call at "),n("a",{attrs:{href:"tel:+18447778556"}},[e._v("(844) 777-8556")]),e._v(", we'd love to set this up for you! If you want to do it yourself however, please fill out the below form: ")]),n("v-stepper",{staticStyle:{"-webkit-box-shadow":"inherit","box-shadow":"inherit"},attrs:{vertical:""},model:{value:e.CurrentDialogueStep,callback:function(t){e.CurrentDialogueStep=t},expression:"CurrentDialogueStep"}},[n("v-stepper-step",{attrs:{complete:e.RegisterCompanyComplete,step:"1"}},[e._v(" Create Your Company "),n("small",[e._v("We'll need to see if your company name and abbreviation are avaliable.")])]),n("v-stepper-content",{attrs:{step:"1"}},[n("v-form",{ref:"companyForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"title"},[e._v("How should we call you?")])])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Company Name",hint:'The full name of your company, for example "Dispatch Pulse".',rules:[e.ValidateRequiredField]},model:{value:e.CompanyName,callback:function(t){e.CompanyName=t},expression:"CompanyName"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Company Abbreviation",hint:'An abbreviation for your company, for example "DP".',rules:[e.ValidateRequiredField]},model:{value:e.CompanyAbbreviation,callback:function(t){e.CompanyAbbreviation=t},expression:"CompanyAbbreviation"}}),e.CompanyAbbreviationInUse?n("v-alert",{staticStyle:{"margin-top":"10px"},attrs:{border:"bottom","colored-border":"",type:"error",elevation:"2"}},[e._v(' The abbreviation "'+e._s(e.CompanyAbbreviation)+'" is already in use. ')]):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"title"},[e._v("A bit about your company…")])])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Industry (optional)",hint:"What industry is your company in?",rules:[]},model:{value:e.CompanyIndustry,callback:function(t){e.CompanyIndustry=t},expression:"CompanyIndustry"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"How did you hear about us? (optional)",hint:"",rules:[]},model:{value:e.CompanyMarketingCampaign,callback:function(t){e.CompanyMarketingCampaign=t},expression:"CompanyMarketingCampaign"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"title"},[e._v("Where are you?")])])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Address Line 1",hint:"",rules:[e.ValidateRequiredField]},model:{value:e.CompanyAddressLine1,callback:function(t){e.CompanyAddressLine1=t},expression:"CompanyAddressLine1"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Address Line 2 (optional)",hint:"",rules:[]},model:{value:e.CompanyAddressLine2,callback:function(t){e.CompanyAddressLine2=t},expression:"CompanyAddressLine2"}})],1),n("v-col",{staticStyle:{"padding-right":"5px"},attrs:{cols:"6"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"City",hint:"",rules:[e.ValidateRequiredField]},model:{value:e.CompanyAddressCity,callback:function(t){e.CompanyAddressCity=t},expression:"CompanyAddressCity"}})],1),n("v-col",{staticStyle:{"padding-left":"5px"},attrs:{cols:"6"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Province / State",hint:"",rules:[e.ValidateRequiredField]},model:{value:e.CompanyAddressProvince,callback:function(t){e.CompanyAddressProvince=t},expression:"CompanyAddressProvince"}})],1),n("v-col",{staticStyle:{"padding-right":"5px"},attrs:{cols:"6"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Postal Code / Zip Code",hint:"",rules:[e.ValidateRequiredField]},model:{value:e.CompanyAddressPostalCode,callback:function(t){e.CompanyAddressPostalCode=t},expression:"CompanyAddressPostalCode"}})],1),n("v-col",{staticStyle:{"padding-left":"5px"},attrs:{cols:"6"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Country",hint:"",rules:[e.ValidateRequiredField]},model:{value:e.CompanyAddressCountry,callback:function(t){e.CompanyAddressCountry=t},expression:"CompanyAddressCountry"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"title"},[e._v("What is your contact information?")])])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Main Contact E-Mail",hint:"What e-mail can we use to contact you?",rules:[e.ValidateRequiredField],type:"email"},model:{value:e.MainContactEMail,callback:function(t){e.MainContactEMail=t},expression:"MainContactEMail"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Main Contact Phone #",hint:"What phone number can we use to contact you?",type:"phone",rules:[e.ValidateRequiredField]},model:{value:e.MainContactPhoneNumber,callback:function(t){e.MainContactPhoneNumber=t},expression:"MainContactPhoneNumber"}})],1)],1)],1)],1),n("div",{staticStyle:{"text-align":"right","padding-bottom":"10px","padding-right":"10px"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.RegisterCompany()}}},[e._v("Register Company")])],1)],1),n("v-stepper-step",{attrs:{complete:e.CurrentDialogueStep>2,step:"2"}},[e._v(" Main Account "),n("small",[e._v("What you use to login, as well as how we should contact you.")])]),n("v-stepper-content",{attrs:{step:"2"}},[n("v-form",{ref:"mainLoginForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"title"},[e._v("General")])])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Main Contact's Full Name",hint:"The full name for the main contact, for example, John Doe.",rules:[e.ValidateRequiredField]},model:{value:e.MainContactFullName,callback:function(t){e.MainContactFullName=t},expression:"MainContactFullName"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"title"},[e._v("Login Information")])])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Company Abbreviation",hint:'An abbreviation for your company, for example "DP".',rules:[e.ValidateRequiredField],readonly:"readonly"},model:{value:e.CompanyAbbreviation,callback:function(t){e.CompanyAbbreviation=t},expression:"CompanyAbbreviation"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Login E-Mail",hint:"You always log in with your email address",rules:[e.ValidateRequiredField],readonly:"readonly",type:"email"},model:{value:e.MainContactEMail,callback:function(t){e.MainContactEMail=t},expression:"MainContactEMail"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Password",hint:"The password you'll use to login.",rules:[e.ValidateRequiredField],type:"password"},model:{value:e.MainContactPassword1,callback:function(t){e.MainContactPassword1=t},expression:"MainContactPassword1"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Password, Again",hint:"Type the password again, so we're sure we got it right.",rules:[e.ValidateRequiredField],type:"password"},model:{value:e.MainContactPassword2,callback:function(t){e.MainContactPassword2=t},expression:"MainContactPassword2"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("div",{staticClass:"title"},[e._v("Contact Preferences")])])],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Marketing Emails"},model:{value:e.MainContactEMailMarketing,callback:function(t){e.MainContactEMailMarketing=t},expression:"MainContactEMailMarketing"}}),n("p",[e._v("Your e-mail will not be sold, we will only use this to inform you of new products we've launched. Max 1 marketing email per month.")])],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-switch",{staticStyle:{"margin-top":"0px"},attrs:{label:"Tutorial Emails"},model:{value:e.MainContactEMailTutorials,callback:function(t){e.MainContactEMailTutorials=t},expression:"MainContactEMailTutorials"}}),n("p",[e._v("Your e-mail will not be sold, we will send you tutorials at a rate of 1 per week.")])],1)],1)],1)],1),n("div",{staticStyle:{"text-align":"right","padding-bottom":"10px","padding-right":"10px"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.SaveMainUser()}}},[e._v("Save and Continue")])],1)],1),n("v-stepper-step",{attrs:{complete:e.CurrentDialogueStep>3,step:"3"}},[e._v(" Other Accounts "),n("small",[e._v("How many other people will be using this program?")])]),n("v-stepper-content",{attrs:{step:"3"}},[n("p",{staticStyle:{color:"black"}},[e._v("Dispatch Pulse is billed based on how many people can use it at the same time. ")]),n("p",{staticStyle:{color:"black"}},[e._v(" You always have your main account. If it is just you, or you only have one administrative assistant entering time, and agents don't need to access project data then one account should be all you need. ")]),n("p",{staticStyle:{color:"black"}},[e._v(" If more agents will need to use this app at the same time, for example, entering their own time, or using any of the collaborative features, they should have their own accounts. ")]),n("p",{staticStyle:{color:"black"}},[e._v("Accounts cost $"+e._s(e.IPPerUserCost)+" "+e._s(e.IPCurrency)+" per account per month.")]),n("p",{staticStyle:{color:"black"}},[e._v(" There are volume discounts if you need many accounts, if you will order more than 5 additional accounts, complete this and then please give us a call or send us an email and we'll adjust the billing. ")]),e._l(e.OtherAccountsToAdd,(function(t,a){return n("div",{key:a},[n("RegisterAdditionalAccount",{attrs:{value:e.OtherAccountsToAdd[a]},on:{input:function(t){return e.ModifyRegisterAdditionalAccount(a,t)},remove:function(t){return e.OnRemoveRegisterAdditionalAccount(t)}}})],1)})),n("v-btn",{attrs:{text:""},on:{click:function(t){return e.AddAnotherOtherAccount()}}},[e._v("Add Another Account")]),n("div",{staticStyle:{"text-align":"right","padding-bottom":"10px","padding-right":"10px","margin-top":"10px"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.SaveOtherAccounts()}}},[e._v("Save and Continue")])],1)],2),n("v-stepper-step",{attrs:{complete:e.CurrentDialogueStep>4,step:"4"}},[e._v("Summary & Payment Method")]),n("v-stepper-content",{attrs:{step:"4"}},[n("p",[e._v("How often do you want to pay?")]),n("v-radio-group",{staticStyle:{"margin-left":"10px"},model:{value:e.BillingFrequency,callback:function(t){e.BillingFrequency=t},expression:"BillingFrequency"}},[n("v-radio",{attrs:{label:"Monthly",value:"Monthly"}}),n("v-radio",{attrs:{label:"Quarterly",value:"Quarterly"}}),n("v-radio",{attrs:{label:"Annually",value:"Annually"}})],1),[n("v-data-table",{attrs:{dense:"",headers:e.summaryHeaders,items:e.summaryValues,"item-key":"name"}})],n("p",[e._v(" Subtotal: "),n("strong",[e._v(e._s(e.SummaryRunningTotal)+" "+e._s(e.ModelState.currency))]),e._v(" plus tax. ")]),n("p",[e._v(" We'll apply your appropriate sales tax rate on your first invoice. ")]),n("p",[e._v(" We do our invoicing via credit card payments provided by Stripe. You will recieve an invoice via email with a link to pay your main email above. Our service is pre-paid, with 2 weeks grace period after invoice arrival. ")]),n("p",[e._v(" If you have a quoted rate, complete the setup anyway as close as possible, then let us know and we'll adjust your packaging. ")]),n("div",{staticStyle:{"text-align":"right","padding-bottom":"10px","padding-right":"10px"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.SaveSummaryAndPaymentMethod()}}},[e._v("Save and Continue")])],1)],2),n("v-stepper-step",{attrs:{complete:e.CurrentDialogueStep>5,step:"5"}},[e._v("Service Agreement")]),n("v-stepper-content",{attrs:{step:"5"}},[n("div",{ref:"agreementText",staticStyle:{height:"200px",overflow:"auto",border:"1px solid rgba(0, 0, 0, 0.2)",padding:"10px"}},[n("SLAContent")],1),n("div",{staticStyle:{color:"rgba(0, 0, 0, 0.6)","font-size":"12px"}},[e._v("Signature")]),n("div",[n("canvas",{ref:"signatureCanvas",staticStyle:{border:"1px solid rgba(0, 0, 0, 0.2)"},attrs:{width:"300",height:"150"}})]),n("div",{staticStyle:{display:"flex","padding-bottom":"10px","padding-right":"10px","margin-top":"20px"}},[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.ClearSignature()}}},[e._v("Clear Signature")]),n("v-spacer"),n("v-btn",{attrs:{color:"primary"},on:{click:function(t){return e.SaveServiceAgreement()}}},[e._v("Agree and Continue")])],1)]),n("v-stepper-step",{attrs:{complete:e.CurrentDialogueStep>6,step:"6"}},[e._v("Setting up Services")]),n("v-stepper-content",{attrs:{step:"6"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"primary"}})],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Back to Login")]),n("v-spacer")],1)],1)],1)},NP=[],EP=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={currentDialogueStep:1,ip:null,currency:null,perUserCost:null,companyName:null,companyAbbreviation:null,companyAbbreviationInUse:!1,companyIndustry:null,companyMarketingCampaign:null,companyAddressLine1:null,companyAddressLine2:null,companyAddressCity:null,companyAddressProvince:null,companyAddressPostalCode:null,companyAddressCountry:null,mainContactFullName:null,mainContactEMail:null,mainContactPhoneNumber:null,mainContactPassword1:null,mainContactPassword2:null,mainContactPasswordHash:null,mainContactEMailMarketing:!1,mainContactEMailTutorials:!1,otherAccountsToAdd:[],registeredBillingCompanyId:null,registeredBillingContactId:null,registeredBillingSessionId:null,stripeIntentClientSecret:null,billingFrequency:"Annually",summaryRunningTotal:0};return e}}]),e}(),FP=n("90e2"),qP=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticStyle:{margin:"4px","margin-top":"10px","margin-bottom":"10px"}},[n("v-card-text",[n("v-alert",{attrs:{type:"info","colored-border":"",elevation:"2",border:"bottom"}},[e._v(" This account will be made with employee permissions, if they need more permissions you can add them in settings. ")]),n("v-container",[n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Full Name",hint:"The full name for this contact, for example, John Doe.",rules:[e.ValidateRequiredField]},model:{value:e.FullName,callback:function(t){e.FullName=t},expression:"FullName"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"E-Mail",hint:"They will always log in with their email address",rules:[e.ValidateRequiredField],type:"email"},model:{value:e.EMail,callback:function(t){e.EMail=t},expression:"EMail"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Phone #",hint:"What is the phone number for this account, will be used for text notifications.",type:"phone",rules:[e.ValidateRequiredField]},model:{value:e.PhoneNumber,callback:function(t){e.PhoneNumber=t},expression:"PhoneNumber"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Password",hint:"The password you'll use to login.",rules:[e.ValidateRequiredField],type:"password"},model:{value:e.Password1,callback:function(t){e.Password1=t},expression:"Password1"}})],1)],1),n("v-row",{attrs:{"no-gutters":""}},[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{ref:"item",attrs:{autocomplete:"newpassword",label:"Password, Again",hint:"Type the password again, so we're sure we got it right.",rules:[e.ValidateRequiredField],type:"password"},model:{value:e.Password2,callback:function(t){e.Password2=t},expression:"Password2"}})],1)],1),e.Password1!=e.Password2?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-alert",{attrs:{border:"top","colored-border":"",type:"error",elevation:"2"}},[e._v(" The passwords must be the same! ")])],1)],1):e._e()],1)],1),n("v-card-actions",[n("v-btn",{attrs:{text:"",color:"red"},on:{click:function(t){return e.OnClickRemove()}}},[e._v(" Remove ")])],1)],1)},GP=[],$P=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.debounceId=null,e}return Object(u["a"])(n,[{key:"OnClickRemove",value:function(){this.$emit("remove",this.value)}},{key:"FullName",get:function(){return this.value?this.value.fullName:null},set:function(e){this.value&&(this.value.fullName=e,this.SignalChanged())}},{key:"EMail",get:function(){return this.value?this.value.email:null},set:function(e){this.value&&(this.value.email=e,this.SignalChanged())}},{key:"PhoneNumber",get:function(){return this.value?this.value.phoneNumber:null},set:function(e){this.value&&(this.value.phoneNumber=e,this.SignalChanged())}},{key:"Password1",get:function(){return this.value?this.value.password1:null},set:function(e){if(this.value){this.value.password1=e;var t=mp.a.genSaltSync(11);this.value.passwordHash=null==e||y(e)?null:mp.a.hashSync(e,t),this.SignalChanged()}}},{key:"Password2",get:function(){return this.value?this.value.password2:null},set:function(e){this.value&&(this.value.password2=e,this.SignalChanged())}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],$P.prototype,"value",void 0),$P=Object(v["a"])([Object(p["a"])({components:{}})],$P);var UP=$P,HP=UP,WP=Object(ha["a"])(HP,qP,GP,!1,null,"7cff5d05",null),KP=WP.exports;ga()(WP,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCol:Sa["a"],VContainer:Ia["a"],VRow:Da["a"],VTextField:wa["a"]});var zP=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},JP=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v("Service Level Agreement / Terms of Services")]),n("p",[e._v("This SLA was last updated 2020-04-26")]),n("p",[e._v(' This Agreement is between Saul & Partners ("Dispatch Pulse") and the individual or organization agreeing to these terms ("Customer"). This Agreement governs access to and use of the Dispatch Pulse software and services that are made available to you. By clicking "I agree", signing a quote/contract, or using the Services, you agree to this Agreement as a Customer. ')]),n("p",[e._v(" If you are agreeing to this Agreement for use of the Services by an organization, you are agreeing on behalf of that organization. You must have the authority to bind that organization to these terms, otherwise you must not sign up for the services. ")]),n("h4",[e._v("Services")]),n("p",[n("strong",[e._v("Provision of Services:")]),e._v(" Dispatch Pulse will provide the Customer with the system during the term of and in accordance with this Agreement. ")]),n("p",[n("strong",[e._v("Facilities and Data Processing:")]),e._v(" Dispatch Pulse will use reasonable measures, in accordance with the industry standard, to transfer, store and process Customer Data. These measures are designed to protect the integrity of Customer Data and guard against unauthorized or unlawful access to Customer Data. ")]),n("p",[n("strong",[e._v("Software Updates:")]),e._v(' Dispatch Pulse may carry out software updates from time to time. If these updates result in a material change to the service, Dispatch Pulse will inform the Customer via the email address associated with the Point of Contact for the account and/or notify the Customer via an alert within the Dispatch Pulse software. Under this section, "Point of Contact" is defined as the person whose contact information is designated by the Customer in the Price Quote. ')]),n("p",[n("strong",[e._v("Beta Services:")]),e._v(' Dispatch Pulse may provide features or products that are still being tested or evaluated. These products and features may be identified as alpha, beta, preview, early access or evaluation (or words and phrases with similar meanings) (collectively "Beta Services"). Notwithstanding anything to the contrary in this Agreement, the following terms apply to all Beta Services: (a) Customer may use or decline any Beta Services; (b) Beta Services may not be supported and may be changed at any time without notice to Customer; (c) Beta Services may not be as reliable or available as Dispatch Pulse; (d) Beta Services may not have been subjected to the same security measures and auditing to which Dispatch Pulse has been subjected, (e) Dispatch Pulse is not obligated to offer Beta Services to all Customers and can choose to whom it will offer the services and (f) Dispatch Pulse will have no liability arising out of or in connection with beta services – use at customer’s own risk. ')]),n("p",[n("strong",[e._v("Computer support")]),e._v(" Dispatch Pulse may provide computer support at its sole discretion. If this support is provided it will be at the customer's contract billable rate. If there is no pre-signed custom rate the standard bill out rate of US$150 per hour will apply. No packages unless otherwise agreed to in a signed agreement include any computer support. ")]),n("h4",[e._v("Customer Obligations")]),n("p",[n("strong",[e._v("Fees.")]),e._v(" The Customer will pay, and authorizes Dispatch Pulse to charge, using the Customer's selected payment method, for all applicable fees. Fees are non-refundable except as required by law. The Customer is responsible for providing complete and accurate billing and contact information to Dispatch Pulse. Dispatch Pulse may suspend or terminate the Services if fees are overdue, as per the price quote. ")]),n("p",[n("strong",[e._v("Auto-renewal.")]),e._v(" Dispatch Pulse may charge automatically at the end of the initial and/or each term for the renewal, unless the Customer notifies Dispatch Pulse that the customer wants to cancel or disable auto-renewal 30 days prior to same taking effect. ")]),n("p",[n("strong",[e._v("Revision.")]),e._v(" Dispatch Pulse may revise Service rates by providing the Customer at least 30 days notice prior to the next charge. ")]),n("p",[n("strong",[e._v("Taxes.")]),e._v(" The Customer is responsible for all taxes, where applicable. Dispatch Pulse will charge tax when required to do so. ")]),n("p",[n("strong",[e._v("Compliance:")]),e._v(" Customer will use services in compliance with this Agreement. Customer will comply with laws and regulations applicable to Customer's use of the Services, if any. ")]),n("p",[n("strong",[e._v("Customer Administration of the Services:")]),e._v(" The Customer may, designate its own end users as \"Administrators\" through the administrative console. Administrators have the ability to access, disclose, restrict or remove Customer Data in or from Services accounts. Administrators also have the ability to monitor, restrict, or terminate access to Service accounts. Dispatch Pulse's responsibilities DO NOT extend to the internal management or administration of the services. The Customer is responsible for (i) maintaining the confidentiality of passwords and Administrator accounts; (ii) managing access to Administrator accounts (iii) ensuring that Administrators' use of the Services complies with this Agreement. The Customer acknowledges that, if the Customer purchases the Services through a reseller and delegates any of such reseller's personnel as Administrators of the Customer's service account. Such reseller may be able to control account information, including Customer Data, and access the Customer's Services account as further described above. ")]),n("p",[n("strong",[e._v("Unauthorized Use & Access.")]),e._v(" Customer will prevent unauthorized use of the Services by its End Users and terminate any unauthorized use of or access to the Services. ")]),n("h4",[e._v("Term & Termination")]),n("p",[n("strong",[e._v("Term.")]),e._v(" This Agreement will remain in effect until Customer's subscription to the Services expires or terminates, or until the Agreement is terminated. ")]),n("p",[n("strong",[e._v("Termination for Breach.")]),e._v(" Either Dispatch Pulse or Customer may terminate this Agreement if: (i) the other party is in material breach of the Agreement and fails to cure that breach within 30 days after receipt of notice, (ii) the other party ceases its business operations or becomes subject to insolvency proceedings and the proceedings are not dismissed within 30 days or (iii) the other party uses the Services in a manner that Dispatch Pulse reasonably believes will cause it liability. ")]),n("p",[n("strong",[e._v("Effects of Termination.")]),e._v(" If this Agreement terminates: (i) the rights granted by Dispatch Pulse to Customer will cease immediately (except as set forth in this section) and (ii) after 30 days, Dispatch Pulse may delete any Stored Data relating to Customer's account. Stored Data is defined as the files and structured data submitted to the Services by the Customer or End Users. ")]),n("p",[n("strong",[e._v("Indemnification.")]),e._v(" Customer will indemnify, defend and hold harmless Dispatch Pulse from and against all liabilities, damages and costs (including settlement costs and reasonable attorneys' fees) arising out of any claim by a third party against Dispatch Pulse and its affiliates regarding: (i) Customer Data; or (ii) Customer's use of the Services in violation of this Agreement; ")]),n("p",[n("strong",[e._v("Disclaimers.")]),e._v(' The services are provided "as is". To the fullest extent permitted by law, except as expressly stated in this agreement, neither customer nor Dispatch Pulse and its affiliates, suppliers and distributors make any warranty of any kind, whether express, implied, statutory or otherwise, including warranties of merchantability, fitness for a particular use or non-infringement. In the event of termination, Dispatch Pulse is not required to maintain and/or back up any Stored Data; no further notice will be provided regarding same. ')]),n("h4",[e._v("Limitation of Liability.")]),n("p",[n("strong",[e._v("Limitation on Indirect Liability.")]),e._v(" To the fullest extent permitted by law, neither customer nor Dispatch Pulse and its affiliates, suppliers and distributors will be liable under this agreement for (i) indirect, special, incidental, consequential, exemplary or punitive damages, or (ii) loss of use, data, business, revenues or profits (in each case whether direct or indirect), even if the party knew or should have known that such damages were possible and even if a remedy fails of its essential purpose. ")]),n("p",[n("strong",[e._v("Limitation of liability during downtime:")]),e._v(" Dispatch Pulse's services will be available 99.7% of the time during each year. This amounts to approximately one day per year of downtime. Dispatch Pulse is not liable for damages to the Customer that takes place during periods of downtime. ")]),n("p",[n("strong",[e._v("Limitation on Amount of Liability.")]),e._v(" To the fullest extent permitted by law, Dispatch Pulse's aggregate liability under this agreement will not exceed the lesser of $10,000 or the amount paid by the customer for the services hereunder during the twelve months prior to the event giving rise to liability. ")]),n("h4",[e._v("Disputes")]),n("p",[n("strong",[e._v("Informal Resolution.")]),e._v(" Dispatch Pulse wants to address your concerns without resorting to a formal legal case. Before filing a claim, each party agrees to try to resolve the dispute by contacting the other party through the notice procedures below. If a dispute is not resolved within 30 days of notice, Customer or Dispatch Pulse may bring a formal proceeding. ")]),n("p",[n("strong",[e._v("Arbitration")])]),n("p",[e._v(" i. We Both Agree To Arbitrate. Customer and Dispatch Pulse agree to resolve any claims relating to this Agreement through final and binding arbitration, except as set forth under Exceptions to Agreement to Arbitrate below. ")]),n("p",[e._v(" ii. Opt-out of Agreement to Arbitrate. Customer can decline this agreement to arbitrate by mailing a written opt-out request within 30 days of first accepting these Terms. Dispatch Pulse can opt to cancel services at this point without penalty if it deems an arbitration agreement is required to provide services for this client. ")]),n("p",[e._v(" iii. Arbitration Procedures. Customer and Dispatch Pulse agree to resolve any dispute, controversy or claim arising out of or relating to this agreement including any question regarding its existence, interpretation, validity, breach or termination or the business relationship created by it shall be referred to and finally resolved by arbitration under the Canadian Arbitration Association Rules. Further: ")]),n("p",[e._v(" 1. The place of the arbitration shall be Winnipeg, Manitoba. ")]),n("p",[e._v(" 2. There shall be 1 arbitrator ")]),n("p",[e._v(" 3. The arbitrator must select its award from one of the final offers made by each of the Parties, in its entirety and without modification. The Arbitral Tribunal need not provide detailed reasons for its award. ")]),n("p",[e._v(" 4. The arbitrator shall have authority to direct that the arbitration proceed without an oral hearing. ")]),n("p",[e._v(" 5. There will be no appeal from the decision of the Arbitral Tribunal on questions of fact, law, or mixed fact and law. ")]),n("p",[e._v(" iv. Arbitration Fees and Incentives. The CAA rules will govern payment of all arbitration fees. Dispatch Pulse and the Customer will equally (50%/50%) share the fees of arbitration. ")]),n("p",[e._v(" v. Exceptions to Agreement to Arbitrate. Either party may bring a lawsuit solely for injunctive relief to stop unauthorized use or abuse of the Services, or intellectual property infringement (for example, trademark, trade secret, copyright or patent rights) without first engaging in arbitration or the informal dispute-resolution process described above. If the agreement to arbitrate is found not to apply to you or your claim, you agree to the exclusive jurisdiction of the courts of Manitoba to resolve your claim. ")]),n("p",[n("strong",[e._v("NO CLASS ACTIONS.")]),e._v(" You may only resolve disputes with us on an individual basis and may not bring a claim as a plaintiff or a class member in a class, consolidated or representative action. Class arbitrations, class actions, private attorney general actions and consolidation with other arbitrations aren't allowed. ")]),n("h4",[e._v("Miscellaneous")]),n("p",[n("strong",[e._v("Terms Modification.")]),e._v(" Dispatch Pulse may revise this Agreement from time to time and the most current version will always be posted on the Dispatch Pulse website. If a revision, in Dispatch Pulse's sole discretion, is material, Dispatch Pulse will notify Customer (by, for example, sending an email to the email address associated with the Point of Contact for the account. Other revisions may be posted to Dispatch Pulse's website, and Customer is responsible for checking such postings regularly. By continuing to access or use the Services after revisions become effective, Customer agrees to be bound by the revised Agreement. If Customer does not agree to the revised Agreement terms, Customer may terminate the Services within 30 days of receiving notice of the change. ")]),n("p",[n("strong",[e._v("Entire Agreement.")]),e._v(" This Agreement, including Dispatch Pulse's Price Quotes, constitutes the entire agreement between the Customer and Dispatch Pulse with respect to the subject matter of this Agreement, and supersedes and replaces any prior or contemporaneous understandings and agreements, whether written or oral, with respect to the subject matter of this Agreement. If there is a conflict between the documents that make up this Agreement, the documents will control in the following order: this agreement, the Dispatch Pulse Price Quotes; ")]),n("p",[n("strong",[e._v("Governing law.")]),e._v(" The agreement will be governed by Manitoba law. ")]),n("p",[n("strong",[e._v("Severability.")]),e._v(" Unenforceable provisions will be modified to reflect the parties' intention and only to the extent necessary to make them enforceable, and the remaining provisions of the Agreement will remain in full effect. ")]),n("p",[n("strong",[e._v("Notice.")]),e._v(" Notices to Dispatch Pulse must be sent via email to hello@dispatchpulse.com with a read receipt. Notices to Customer may be sent to the applicable account email address and are deemed given when sent. ")]),n("p",[n("strong",[e._v("Waiver.")]),e._v(" The failure of Dispatch Pulse to exercise or enforce any right or provision of this Agreement shall not constitute a waiver of such right or provision. ")]),n("p",[n("strong",[e._v("Assignment.")]),e._v(" Customer may not assign or transfer this Agreement or any rights or obligations under this Agreement without written notice to Dispatch Pulse. Dispatch Pulse may not assign this Agreement without providing notice to Customer, except Dispatch Pulse may assign this Agreement or any rights or obligations under this Agreement to an affiliate or in connection with a merger, acquisition, corporate reorganization or sale of all or substantially all of its assets without providing notice. ")]),n("p",[n("strong",[e._v("No Agency.")]),e._v(" Dispatch Pulse and Customer are not legal partners or agents. ")]),n("p",[n("strong",[e._v("Force Majeure.")]),e._v(" Except for payment obligations, neither Dispatch Pulse nor Customer will be liable for inadequate performance to the extent caused by a condition that was beyond the party's reasonable control (including, but not limited to, natural disaster, pandemic, act of war or terrorism, riot, labor condition, governmental action and internet disturbance). ")]),n("p",[n("strong",[e._v("Headings:")]),e._v(" The headings appearing in this Agreement are for reference only and will not be used in construing this Agreement. ")]),n("p",[n("strong",[e._v("Customer List.")]),e._v(" Dispatch Pulse may include Customer's name in a list of Dispatch Pulse customers on the Dispatch Pulse website or in promotional materials. ")]),n("p",[n("strong",[e._v("Promotions, or General News Items:")]),e._v(" Dispatch Pulse may email the Customer promotions or general news items via a monthly newsletter. If the Customer does not wish to receive same, it can opt out at any time. ")]),n("p",[n("strong",[e._v("No Third-party Beneficiaries.")]),e._v(" There are no third-party beneficiaries to this Agreement. Without limiting this section, a Customer's End Users are not third-party beneficiaries to Customer's rights under this Agreement. ")])])}],YP=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return n}(p["c"]);YP=Object(v["a"])([Object(p["a"])({props:{}})],YP);var QP=YP,XP=QP,ZP=Object(ha["a"])(XP,zP,JP,!1,null,null,null),eO=ZP.exports,tO=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.ValidateRequiredField=zs,e.MobileDeviceWidth=ma,e.signaturePad=null,e.summaryValues=[],e.summaryHeaders=[{text:"Product",align:"start",value:"product",sortable:!1},{text:"Quantity",align:"end",value:"quantity",sortable:!1},{text:"Unit Price",align:"end",value:"unitPrice",sortable:!1},{text:"Unit Total",align:"end",value:"unitTotal",sortable:!1},{text:"Running Total",align:"end",value:"runningTotal",sortable:!1}],e.ModelState=EP.GetEmpty(),e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"updated",value:function(){var e=this;this.$nextTick((function(){e.$refs.signatureCanvas&&(e.signaturePad=new FP["a"](e.$refs.signatureCanvas),e.signaturePad.on())}))}},{key:"beforeDestroy",value:function(){this.signaturePad&&this.signaturePad.off()}},{key:"ClearSignature",value:function(){this.signaturePad&&this.signaturePad.clear()}},{key:"test",value:function(e,t){console.log("test",e,t,this)}},{key:"AddAnotherOtherAccount",value:function(){var e=this.OtherAccountsToAdd;e.push({id:k(),fullName:null,email:null,phoneNumber:null,password1:null,password2:null,passwordHash:null}),this.OtherAccountsToAdd=e}},{key:"ModifyRegisterAdditionalAccount",value:function(e,t){var n=this.OtherAccountsToAdd;n[e]=t,this.OtherAccountsToAdd=n}},{key:"OnRemoveRegisterAdditionalAccount",value:function(e){var t=this.OtherAccountsToAdd,n=F.a.indexOf(t,e);t.splice(n,1),this.OtherAccountsToAdd=t}},{key:"RegisterCompany",value:function(){var e=this;if(console.debug("register company"),this.$refs.companyForm.validate()){var t=this.ModelState,n=_t.PerformRegisterNewCompany.Send({sessionId:ce.CurrentSessionId(),idempotencyToken:k(),name:t.companyName,abbreviation:t.companyAbbreviation,industry:t.companyIndustry,marketingCampaign:t.companyMarketingCampaign,addressLine1:t.companyAddressLine1,addressLine2:t.companyAddressLine2,addressCity:t.companyAddressCity,addressProvince:t.companyAddressProvince,addressPostalCode:t.companyAddressPostalCode,addressCountry:t.companyAddressCountry,mainContactEMail:t.mainContactEMail,mainContactPhoneNumber:t.mainContactPhoneNumber});n&&n.completeRequestPromise&&n.completeRequestPromise.then((function(t){if(console.debug("complete payload",t),t.isError)D.AddNotification({severity:"error",message:t.errorMessage,autoClearInSeconds:10});else if(!1!==t.created)if(null!==t.billingCompanyId){var n=e.ModelState;n.registeredBillingCompanyId=t.billingCompanyId,n.registeredBillingContactId=t.billingContactId,n.registeredBillingSessionId=t.billingSessionId,n.stripeIntentClientSecret=t.stripeIntentClientSecret,e.ModelState=n,e.CurrentDialogueStep=2}else D.AddNotification({severity:"error",message:"Unable to register, please contact support. #2",autoClearInSeconds:10});else D.AddNotification({severity:"error",message:"Unable to register, please contact support. #1",autoClearInSeconds:10})}))}else D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}},{key:"SaveMainUser",value:function(){var e=this;if(console.debug("SaveMainUser"),this.$refs.mainLoginForm.validate()){var t=this.ModelState;if(t.mainContactPassword1===t.mainContactPassword2){var n=he.PerformRegisterMainUser.Send({idempotencyToken:k(),fullName:t.mainContactFullName,sessionId:t.registeredBillingSessionId,contactId:t.registeredBillingContactId,passwordHash:t.mainContactPasswordHash,eMailMarketing:t.mainContactEMailMarketing,eMailTutorials:t.mainContactEMailTutorials});n&&n.completeRequestPromise&&n.completeRequestPromise.then((function(t){console.debug("complete payload",t),t.isError?D.AddNotification({severity:"error",message:t.errorMessage,autoClearInSeconds:10}):!1!==t.saved?e.CurrentDialogueStep=3:D.AddNotification({severity:"error",message:"Unable to save, please contact support. #1",autoClearInSeconds:10})}))}else D.AddNotification({severity:"error",message:"The two passwords don't match.",autoClearInSeconds:10})}else D.AddNotification({severity:"error",message:"Some parts of the form didn't validate.",autoClearInSeconds:10})}},{key:"SaveOtherAccounts",value:function(){var e=this;console.debug("SaveOtherAccounts");var t,n=this.ModelState,a=Object(G["a"])(n.otherAccountsToAdd);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(!i.fullName||y(i.fullName)||!i.email||y(i.email)||!i.phoneNumber||y(i.phoneNumber)||!i.passwordHash||y(i.passwordHash)||i.password1!==i.password2)return void D.AddNotification({severity:"error",message:"One of the additional accounts has information that didn't validate.",autoClearInSeconds:10})}}catch(s){a.e(s)}finally{a.f()}var o=he.PerformRegisterAdditionalUsers.Send({sessionId:n.registeredBillingSessionId,otherAccountsToAdd:n.otherAccountsToAdd});o&&o.completeRequestPromise&&(o.completeRequestPromise.then((function(t){console.debug("complete payload",t),t.isError?D.AddNotification({severity:"error",message:t.errorMessage,autoClearInSeconds:10}):!1!==t.created?(e.CreateBillingSummary(),e.CurrentDialogueStep=4):D.AddNotification({severity:"error",message:"Unable to create additional accounts, please contact support. #1",autoClearInSeconds:10})})),this.$nextTick((function(){n=e.ModelState})))}},{key:"CreateBillingSummary",value:function(){var e=this.ModelState,t=e.otherAccountsToAdd,n=e.perUserCost||50,a=e.perUserCost?e.currency:"USD",i=0;switch(this.BillingFrequency){case"Quarterly":n*=3;break;case"Annually":n*=12;break;case"Monthly":default:break}this.summaryValues=[],i+=n,this.summaryValues.push({product:"Dispatch Pulse Seat, ".concat(this.BillingFrequency,", 1st"),quantity:"1",unitPrice:"$".concat(n.toFixed(2)," ").concat(a),unitTotal:"$".concat(n.toFixed(2)," ").concat(a),runningTotal:"$".concat(i.toFixed(2)," ").concat(a)}),t.length>0&&(i+=n*t.length,this.summaryValues.push({product:"Dispatch Pulse Seat, ".concat(this.BillingFrequency,", Additional"),quantity:"".concat(t.length),unitPrice:"$".concat(n.toFixed(2)," ").concat(a),unitTotal:"$".concat((n*t.length).toFixed(2)," ").concat(a),runningTotal:"$".concat(i.toFixed(2)," ").concat(a)})),e.summaryRunningTotal=i,this.ModelState=e}},{key:"SaveSummaryAndPaymentMethod",value:function(){var e=this;console.debug("SaveSummaryAndPaymentMethod");var t=this.ModelState;if(null!=t&&null!=t.registeredBillingSessionId)if(null!=t.billingFrequency){var n=st.PerformRegisterPaymentInformation.Send({idempotencyToken:k(),sessionId:t.registeredBillingSessionId,paymentFrequency:t.billingFrequency,numberOfSeats:1+t.otherAccountsToAdd.length,currency:t.currency||"USD"});n&&n.completeRequestPromise&&n.completeRequestPromise.then((function(t){console.debug("complete payload",t),t.isError?D.AddNotification({severity:"error",message:t.errorMessage,autoClearInSeconds:10}):!1!==t.saved?e.CurrentDialogueStep=5:D.AddNotification({severity:"error",message:"Unable to save your payment information.",autoClearInSeconds:10})}))}else D.AddNotification({severity:"error",message:"You must select a billing/payment frequency.",autoClearInSeconds:10});else D.AddNotification({severity:"error",message:"No session, can't continue.",autoClearInSeconds:10})}},{key:"SaveServiceAgreement",value:function(){var e=this;if(console.debug("SaveServiceAgreement"),this.signaturePad)if(this.signaturePad.isEmpty())D.AddNotification({severity:"error",message:"You must agree to the service agreement by signing below.",autoClearInSeconds:10});else if(this.$refs.agreementText){var t=this.signaturePad.toDataURL("image/svg+xml"),n=this.ModelState;if(null!=n&&null!=n.registeredBillingSessionId){var a=_t.PerformRegisterSaveServiceAgreement.Send({idempotencyToken:k(),sessionId:n.registeredBillingSessionId,agreementText:""+this.$refs.agreementText.textContent,signatureSVG:t});a&&a.completeRequestPromise&&a.completeRequestPromise.then((function(t){console.debug("complete payload",t),t.isError?D.AddNotification({severity:"error",message:t.errorMessage,autoClearInSeconds:10}):!1!==t.saved?(e.CurrentDialogueStep=6,e.RequestProvisioningStart()):D.AddNotification({severity:"error",message:"Unable to save your contract.",autoClearInSeconds:10})}))}else D.AddNotification({severity:"error",message:"No session, can't continue.",autoClearInSeconds:10})}else D.AddNotification({severity:"error",message:"Can't access the agreement text.",autoClearInSeconds:10});else D.AddNotification({severity:"error",message:"Can't access the signature pad.",autoClearInSeconds:10})}},{key:"RequestProvisioningStart",value:function(){var e=this;console.log("RequestProvisioningStart");var t=this.ModelState;if(null!=t&&null!=t.registeredBillingSessionId){var n=_t.PerformRegisterCreateDPDatabase.Send({idempotencyToken:k(),sessionId:t.registeredBillingSessionId});n&&n.completeRequestPromise&&n.completeRequestPromise.then((function(t){if(console.debug("complete payload dp create",t),t.isError)D.AddNotification({severity:"error",message:t.errorMessage,autoClearInSeconds:10});else if(!1!==t.created){var n=e.ModelState;if(n.registeredBillingSessionId){e.$store.commit("SetSession",n.registeredBillingSessionId),localStorage.setItem("SessionUUID",n.registeredBillingSessionId);var a=[],i=Q.RequestBillingPermissionsBoolForCurrentSession.Send({sessionId:ce.CurrentSessionId()});i.completeRequestPromise&&a.push(i.completeRequestPromise);var o=at.RequestBillingPermissionsGroupsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});o.completeRequestPromise&&a.push(o.completeRequestPromise);var s=K.RequestBillingPermissionsGroupsMembershipsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});s.completeRequestPromise&&a.push(s.completeRequestPromise),a.length>0&&Promise.all(a).finally((function(){ca.Close(e.DialogueName),e.ModelState=EP.GetEmpty()}))}}else D.AddNotification({severity:"error",message:"Unable to create your database.",autoClearInSeconds:10})}))}else D.AddNotification({severity:"error",message:"No session, can't continue.",autoClearInSeconds:10})}},{key:"RegisterCompanyComplete",get:function(){var e=this.ModelState;return null!=e.registeredBillingCompanyId}},{key:"CurrentDialogueStep",get:function(){return this.ModelState.currentDialogueStep},set:function(e){var t=this.ModelState;t.currentDialogueStep=e,this.ModelState=t}},{key:"CompanyName",get:function(){return this.ModelState.companyName},set:function(e){var t=this.ModelState;t.companyName=e,this.ModelState=t}},{key:"CompanyAbbreviation",get:function(){return this.ModelState.companyAbbreviation},set:function(e){var t=this,n=this.ModelState;if(n.companyAbbreviation=e,e&&!y(e)){var a=_t.RequestCompanyNameInUse.Send({sessionId:ce.CurrentSessionId(),idempotencyToken:k(),abbreviation:e});a&&a.completeRequestPromise&&a.completeRequestPromise.then((function(e){t.CompanyAbbreviationInUse=e.inUse}))}this.ModelState=n}},{key:"CompanyAbbreviationInUse",get:function(){return this.ModelState.companyAbbreviationInUse},set:function(e){var t=this.ModelState;t.companyAbbreviationInUse=e,this.ModelState=t}},{key:"CompanyIndustry",get:function(){return this.ModelState.companyIndustry},set:function(e){var t=this.ModelState;t.companyIndustry=e,this.ModelState=t}},{key:"CompanyMarketingCampaign",get:function(){return this.ModelState.companyMarketingCampaign},set:function(e){var t=this.ModelState;t.companyMarketingCampaign=e,this.ModelState=t}},{key:"CompanyAddressLine1",get:function(){return this.ModelState.companyAddressLine1},set:function(e){var t=this.ModelState;t.companyAddressLine1=e,this.ModelState=t}},{key:"CompanyAddressLine2",get:function(){return this.ModelState.companyAddressLine2},set:function(e){var t=this.ModelState;t.companyAddressLine2=e,this.ModelState=t}},{key:"CompanyAddressCity",get:function(){return this.ModelState.companyAddressCity},set:function(e){var t=this.ModelState;t.companyAddressCity=e,this.ModelState=t}},{key:"CompanyAddressProvince",get:function(){return this.ModelState.companyAddressProvince},set:function(e){var t=this.ModelState;t.companyAddressProvince=e,this.ModelState=t}},{key:"CompanyAddressPostalCode",get:function(){return this.ModelState.companyAddressPostalCode},set:function(e){var t=this.ModelState;t.companyAddressPostalCode=e,this.ModelState=t}},{key:"CompanyAddressCountry",get:function(){return this.ModelState.companyAddressCountry},set:function(e){var t=this.ModelState;t.companyAddressCountry=e,this.ModelState=t}},{key:"MainContactEMail",get:function(){return this.ModelState.mainContactEMail},set:function(e){var t=this.ModelState;t.mainContactEMail=e,this.ModelState=t}},{key:"MainContactPhoneNumber",get:function(){return this.ModelState.mainContactPhoneNumber},set:function(e){var t=this.ModelState;t.mainContactPhoneNumber=e,this.ModelState=t}},{key:"MainContactPassword1",get:function(){return this.ModelState.mainContactPassword1},set:function(e){var t=this.ModelState;t.mainContactPassword1=e;var n=mp.a.genSaltSync(11);t.mainContactPasswordHash=null==e||y(e)?null:mp.a.hashSync(e,n),this.ModelState=t}},{key:"MainContactPassword2",get:function(){return this.ModelState.mainContactPassword2},set:function(e){var t=this.ModelState;t.mainContactPassword2=e,this.ModelState=t}},{key:"MainContactEMailMarketing",get:function(){return this.ModelState.mainContactEMailMarketing},set:function(e){var t=this.ModelState;t.mainContactEMailMarketing=e,this.ModelState=t}},{key:"MainContactEMailTutorials",get:function(){return this.ModelState.mainContactEMailTutorials},set:function(e){var t=this.ModelState;t.mainContactEMailTutorials=e,this.ModelState=t}},{key:"MainContactFullName",get:function(){return this.ModelState.mainContactFullName},set:function(e){var t=this.ModelState;t.mainContactFullName=e,this.ModelState=t}},{key:"OtherAccountsToAdd",get:function(){return this.ModelState.otherAccountsToAdd},set:function(e){console.log("OtherAccountsToAdd set");var t=this.ModelState;t.otherAccountsToAdd=e,this.ModelState=t}},{key:"IPCurrency",get:function(){return this.ModelState.currency}},{key:"IPPerUserCost",get:function(){return this.ModelState.perUserCost}},{key:"SummaryRunningTotal",get:function(){return this.ModelState.summaryRunningTotal}},{key:"BillingFrequency",get:function(){return this.ModelState.billingFrequency},set:function(e){var t=this.ModelState;t.billingFrequency=e,this.ModelState=t,this.CreateBillingSummary()}},{key:"DialogueName",get:function(){return"RegisterDialogue"}},{key:"Cancel",value:function(){ca.Close(this.DialogueName),this.ModelState=EP.GetEmpty()}},{key:"Next",value:function(){console.log("Next"),ca.Close(this.DialogueName),this.ModelState=EP.GetEmpty()}}]),n}(da);tO=Object(v["a"])([Object(p["a"])({components:{RegisterAdditionalAccount:KP,SLAContent:eO}})],tO);var nO=tO,aO=nO,iO=(n("9a59"),n("8fea")),oO=Object(ha["a"])(aO,LP,NP,!1,null,"54a1b2f0",null),sO=oO.exports;ga()(oO,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDataTable:iO["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VProgressCircular:Xd["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VRow:Da["a"],VSpacer:_a["a"],VStepper:Bp["a"],VStepperContent:Lp["a"],VStepperStep:Np["a"],VSwitch:il["a"],VTextField:wa["a"]});var rO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"z-index":"256"}},[n("v-snackbar",{staticClass:"notification-bell-snackbar",staticStyle:{position:"fixed"},attrs:{value:null!=e.currentSnackbarNotification,timeout:-1,top:"",color:e.SnackbarColor(),absolute:""},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[n("v-btn",e._b({attrs:{text:""},on:{click:function(t){return e.ClearCurrent()}}},"v-btn",a,!1),[e._v(" Clear ")])]}}])},[this.currentSnackbarNotification?n("span",[e._v(e._s(this.currentSnackbarNotification.message||"No message?"))]):e._e()])],1)},lO=[],cO=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.currentSnackbarNotification=null,e.lastSnackbarColor="black",e.visibleForSeconds=10,e._periodicInterval=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.Periodic(),this._periodicInterval=setInterval(this.Periodic,250)}},{key:"destroyed",value:function(){null!=this._periodicInterval&&clearInterval(this._periodicInterval)}},{key:"Periodic",value:function(){this.currentSnackbarNotification=this.SnackbarNotification()}},{key:"SnackbarColor",value:function(){if(null==this.currentSnackbarNotification)return this.lastSnackbarColor;switch(this.currentSnackbarNotification.severity){case"error":return this.lastSnackbarColor="#ff5252",this.lastSnackbarColor;case"info":return this.lastSnackbarColor="#2196f3",this.lastSnackbarColor;case"warning":return this.lastSnackbarColor="#fb8c00",this.lastSnackbarColor;default:return this.lastSnackbarColor}}},{key:"ClearCurrent",value:function(){this.currentSnackbarNotification&&D.ClearId(this.currentSnackbarNotification.id)}},{key:"SnackbarNotification",value:function(){var e=this.$store.state.Notifications.notifications;if(!e||0===e.length)return null;var t,n=null,a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.timestamp){var o=i.timestamp.plus({seconds:this.visibleForSeconds});null!=o&&(o<I["DateTime"].local()||(null!=n?null!=n.timestamp&&i.timestamp>n.timestamp&&(n=i):n=i))}}}catch(s){a.e(s)}finally{a.f()}return n}}]),n}(p["c"]);cO=Object(v["a"])([Object(p["a"])({props:{}})],cO);var uO=cO,dO=uO,mO=Object(ha["a"])(dO,rO,lO,!1,null,null,null),vO=mO.exports;ga()(mO,{VBtn:ya["a"],VSnackbar:Li["a"]});var pO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("On Call Responder, Last 30 Days")]),n("v-divider"),n("v-card-text",[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"form"},[n("v-container",[0==e._RenderingActive&&0==e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This report will, provide a print out of the last 30 days' voicemail messages. ")])],1):e._e(),e._ErrorMessage?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-alert",{attrs:{type:"error","colored-border":"",border:"bottom",elevation:"2"}},[e._v(" "+e._s(e._ErrorMessage)+" ")])],1)],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Processing…")])])],1):e._e(),e._RenderingActive?n("v-row",[n("v-col",{staticStyle:{"padding-top":"0px","padding-bottom":"0px"},attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-progress-linear",{attrs:{indeterminate:"",height:"25"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value;return[n("strong",[e._v(e._s(a))])]}}],null,!1,3055762101),model:{value:e._RenderingProgressMessage,callback:function(t){e._RenderingProgressMessage=t},expression:"_RenderingProgressMessage"}})],1)],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Complete")])])],1):e._e(),e._RenderingComplete?n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{attrs:{large:"",color:"primary"},on:{click:function(t){return e.DownloadAgain()}}},[e._v("Download Again")])],1)],1):e._e()],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.StartOver()}}},[e._v("Start Over")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e._RenderingComplete},on:{click:function(t){return e.Run()}}},[e._v("Run")])],1)],1)],1)},fO=[],hO=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){}},{key:"StartOver",value:function(){this.$emit("start-over",null)}},{key:"Cancel",value:function(){this.$emit("cancel",null)}},{key:"Run",value:function(){var e=this;do{if(this._ErrorMessage="",!this.$refs.form.validate()){D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10});break}var t=LI.RunReportOnCallResponder30Day.Send({sessionId:ce.CurrentSessionId()});t.completeRequestPromise&&(this._RenderingActive=!0,this._ShowProgress=!0,this._RenderingProgressMessage="Sending Request…",t.completeRequestPromise.catch((function(t){throw e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingProgressMessage="",e._ErrorMessage=t.message,t})),t.completeRequestPromise.then((function(t){if(console.log("RunReportOnCallResponder30Day returned",t),t.isError)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage=t.errorMessage);var n=t.taskId;if(!n)return e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Did not get task ID from server.");e._RenderingProgressMessage="Waiting…";var a=function t(){var a=LI.GetPDFLaTeXTask.Send({sessionId:ce.CurrentSessionId(),taskId:n});a.completeRequestPromise&&(a.completeRequestPromise.catch((function(t){e._RenderingActive=!1,e._ShowProgress=!1,e._ErrorMessage="Error during processing."})),a.completeRequestPromise.then((function(n){return!1===n.isCompleted?(e._RenderingProgressMessage="Processing (".concat(n.status,")…"),"Error"===n.status&&(e._ErrorMessage=n.errorMessage),void("Error"!==n.status&&setTimeout(t,250))):null===n.tempLink||y(n.tempLink)?(e._RenderingActive=!1,e._ShowProgress=!1,void(e._ErrorMessage="Completed, but didn't get a link to download.")):(e._RenderingActive=!1,e._ShowProgress=!1,e._RenderingComplete=!0,e._DownloadLink=n.tempLink,void CI(e._DownloadLink))})))};setTimeout(a,250)})))}while(0)}},{key:"_RenderingActive",get:function(){return!!this.value&&this.value._renderingActive},set:function(e){this.value&&(p["c"].set(this.value,"_renderingActive",e),this.$emit("input",this.value))}},{key:"_RenderingProgressMessage",get:function(){return this.value?this.value._renderingProgressMessage:""},set:function(e){this.value&&(p["c"].set(this.value,"_renderingProgressMessage",e),this.$emit("input",this.value))}},{key:"_ErrorMessage",get:function(){return this.value?this.value._errorMessage:""},set:function(e){this.value&&(p["c"].set(this.value,"_errorMessage",e),this.$emit("input",this.value))}},{key:"_ShowProgress",get:function(){return!!this.value&&this.value._showProgress},set:function(e){this.value&&(p["c"].set(this.value,"_showProgress",e),this.$emit("input",this.value))}},{key:"_RenderingComplete",get:function(){return!!this.value&&this.value._renderingComplete},set:function(e){this.value&&(p["c"].set(this.value,"_renderingComplete",e),this.$emit("input",this.value))}},{key:"_DownloadLink",get:function(){return this.value?this.value._downloadLink:null},set:function(e){this.value&&(p["c"].set(this.value,"_downloadLink",e),this.$emit("input",this.value))}},{key:"DownloadAgain",value:function(){null!=this._DownloadLink&&CI(this._DownloadLink)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],hO.prototype,"value",void 0),hO=Object(v["a"])([Object(p["a"])({components:{RecordingEditor:em}})],hO);var bO=hO,gO=bO,yO=Object(ha["a"])(gO,pO,fO,!1,null,null,null),CO=yO.exports;ga()(yO,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"]});var jO=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.initialLoading=!0,e}return Object(u["a"])(n,[{key:"created",value:function(){var e=this,t=localStorage.getItem("SessionUUID");x.Ready((function(){e.initialLoading=!1})),y(t)||(console.log("Not showing login as we have ".concat(t," in local storage.")),this.$store.commit("SetSession",t),x.Ready((function(){var e=he.RequestBillingContactsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});e.outboundRequestPromise&&(e.outboundRequestPromise.catch((function(e){console.error("Error getting session information, likely remotely logged out, performing local logout.",e),A()})),e.completeRequestPromise&&e.completeRequestPromise.then((function(){Q.RequestBillingPermissionsBoolForCurrentSession.Send({sessionId:ce.CurrentSessionId()}),at.RequestBillingPermissionsGroupsForCurrentSession.Send({sessionId:ce.CurrentSessionId()}),K.RequestBillingPermissionsGroupsMembershipsForCurrentSession.Send({sessionId:ce.CurrentSessionId()}),Pe.FetchLoggedInAgent()})))}))),y(t)&&this.$route.query.action&&"NewAccount"===this.$route.query.action?ca.Open({name:"RegisterDialogue",state:null}):y(t)&&this.$route.query.action&&"Demo"===this.$route.query.action&&ca.Open({name:"DemoIntroductionDialogue",state:null})}},{key:"OnLogin",value:function(){this.$refs.routerView.ReloadFromLogin&&(this.$refs.routerView.ReloadFromLogin(),Q.RequestBillingPermissionsBoolForCurrentSession.Send({sessionId:ce.CurrentSessionId()}),at.RequestBillingPermissionsGroupsForCurrentSession.Send({sessionId:ce.CurrentSessionId()}),K.RequestBillingPermissionsGroupsMembershipsForCurrentSession.Send({sessionId:ce.CurrentSessionId()}),Pe.FetchLoggedInAgent())}}]),n}(h);jO=Object(v["a"])([Object(p["a"])({components:{NotificationsSnackbar:vO,Navigation:za,LoginDialogue:Ra,AddAgentsDialogue2:Xl,AddAssignmentsDialogue2:Gl,AddCalendarDialogue:Gc,AddDIDDialogue:Xm,AddOnCallAutoAttendantDialogue:ov,AddRecordingDialogue:mv,DeleteRecordingDialogue:yv,EditRecordingDialogue:kv,ModifyLabourDialogue:zv,ModifyMaterialDialogue:lp,ChangePasswordDialogue:Cp,LabourDeleteTimerDialogue:_p,CloseAssignmentDialogue:Fp,CompleteAssignmentDialogue:zp,ConfirmLogOutDialogue:nf,DeleteAssignmentDialogue:df,DeleteCompanyDialogue:yf,DeleteLabourDialogue:Df,DeleteMaterialDialogue:Tf,DeleteContactDialogue:Gf,DeleteProjectDialogue:Yf,MergeProjectsDialogue:Yg,NewCallDialogue:sy,ModifyContactDialogue:vy,AddProjectDialogue:Cy,ModifyCompanyDialogue:Dy,GlobalSearchDialogue:Ty,DeleteAgentDialogue:Gy,AddProjectNoteDialogue:aC,DeleteProjectNoteDialogue:dC,DeleteProductDialogue:yC,ModifyProductDialogue:kC,DeleteAssignmentStatusDialogue:TC,ModifyAssignmentStatusDialogue:zC,DeleteManHourDialogue:nj,ModifyManHourDialogue:hj,DeleteProjectStatusDialogue:Ij,ModifyProjectStatusDialogue:Lj,ModifyEmploymentStatusDialogue:Qj,DeleteEmploymentStatusDialogue:oS,ModifyLabourExceptionDialogue:yS,DeleteLabourExceptionDialogue:DS,ModifyLabourHolidayDialogue:qS,DeleteLabourHolidayDialogue:JS,ModifyLabourNonBillableDialogue:cI,DeleteLabourNonBillableDialogue:bI,AssignmentReportDialogue:GI,CompanyReportDialogue:YI,ContactsReportDialogue:iP,LabourReportDialogue:mP,MaterialsReportDialogue:CP,ProjectReportDialogue:_P,DemoIntroductionDialogue:BP,RegisterDialogue:sO,OnCallResponder30DayReportDialogue:CO}})],jO);var SO=jO,IO=SO,PO=(n("034f"),n("7496")),OO=n("f6c4"),kO=n("a797"),DO=Object(ha["a"])(IO,r,l,!1,null,null,null),_O=DO.exports;ga()(DO,{VApp:PO["a"],VCard:Ca["a"],VCardText:ja["c"],VDialog:Pa["a"],VMain:OO["a"],VOverlay:kO["a"],VProgressLinear:Pl["a"]});var wO=n("8c4f"),xO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""}},[n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Loading…")])],1),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"30px","margin-right":"30px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("div",{staticStyle:{height:"50px"}})],1)},RO=[];p["a"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var MO=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.connectionMonitorInterval=null,e.connectionStatus="Connected",e}return Object(u["a"])(n,[{key:"beforeRouteUpdate",value:function(e,t,n){var a=this;n(),requestAnimationFrame((function(){var n=t.name,i=e.name;if(n===i&&t.params.id!==e.params.id&&e.query.tab)if(Array.isArray(e.query.tab)){var o,s=!0,r=Object(G["a"])(e.query.tab);try{for(r.s();!(o=r.n()).done;){var l=o.value;if(!y(l)){s=!1;break}}}catch(c){r.e(c)}finally{r.f()}if(s)return}else y(e.query.tab)||a.SwitchToTabFromRoute()}))}},{key:"ReloadFromLogin",value:function(){this.ReLoadData()}},{key:"mounted",value:function(){var e=this;this.connectionMonitorInterval=setInterval((function(){null==x.Connection?p["c"].set(e,"connectionStatus",!1):p["c"].set(e,"connectionStatus",x.Connection.state)}),1e3),this.MountedAfter()}},{key:"destroyed",value:function(){this.connectionMonitorInterval&&(clearInterval(this.connectionMonitorInterval),this.connectionMonitorInterval=null),this.DestroyedAfter()}},{key:"SwitchToTabFromRoute",value:function(){}},{key:"ReLoadData",value:function(){}},{key:"MountedAfter",value:function(){}},{key:"DestroyedAfter",value:function(){}}]),n}(h);MO=Object(v["a"])([Object(p["a"])({components:{}})],MO);var AO=MO,TO=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.cacheLicensedProjectsSchedulingTime=!1,e.cacheLicensedOnCall=!1,e._periodicInterval=null,e}return Object(u["a"])(n,[{key:"MountedAfter",value:function(){this._periodicInterval=setInterval(this.Periodic,500),this.SwitchToTabFromRoute()}},{key:"destroyed",value:function(){null!=this._periodicInterval&&clearInterval(this._periodicInterval)}},{key:"Periodic",value:function(){this.cacheLicensedProjectsSchedulingTime=Ta.PermCRMNavigationLicensedProjectsSchedulingTime(),this.cacheLicensedOnCall=Ta.PermCRMNavigationLicensedOnCall(),console.log("this.cacheLicensedProjectsSchedulingTime",this.cacheLicensedProjectsSchedulingTime),!0===this.cacheLicensedProjectsSchedulingTime?this.$router.push("/section/dashboard/agent").catch((function(e){})):!0===this.cacheLicensedOnCall&&this.$router.push("/section/dashboard/on-call").catch((function(e){}))}}]),n}(AO);TO=Object(v["a"])([Object(p["a"])({components:{}})],TO);var VO=TO,BO=VO,LO=Object(ha["a"])(BO,xO,RO,!1,null,null,null),NO=LO.exports;ga()(LO,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VIcon:ka["a"],VToolbarTitle:wo["a"]});var EO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-dashboard-tab-agent",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"all"})}).catch((function(e){}))}}},[e._v(" All ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Agent Dashboard")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"30px","margin-right":"30px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("MyAgendaTodayCard",{ref:"myAgendaTodayCard",attrs:{disabled:"Connected"!=e.connectionStatus}}),n("MyLabourEntriesActiveAndTodayCard",{ref:"myLabourEntriesActiveAndTodayCard",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddAgentDialogue2",{ref:"addAgentDialogue",attrs:{isOpen:e.addAgentOpen},on:{Save:e.SaveAddAgent,Cancel:e.CancelAddAgent},model:{value:e.addAgentModel,callback:function(t){e.addAgentModel=t},expression:"addAgentModel"}}),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{staticClass:"e2e-add-menu-button",attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Address Book…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyContactDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Contact")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCompaniesCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyCompanyDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("domain")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Projects…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-project",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},on:{click:function(t){return e.AddProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("assignment")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Project")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermMaterialsCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyMaterialDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("list")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Material Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Agents…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAgentsCanPush()},on:{click:function(t){return e.OpenAddAgent()}}},[n("v-list-item-icon",[n("v-icon",[e._v("directions_walk")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Agent")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()||!e.PermLabourCanPush()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{agentId:e.CurrentDPAgentId()}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Labour Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Assignments…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-assignment",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Assignment")])],1)],1)],1)],1)],1)],1)},FO=[],qO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticStyle:{margin:"30px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("My Labour Entries, Active and Today")]),e.agentId?n("div",[null==e.agent&&e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("div",[n("LabourList",{ref:"labourList",attrs:{showTopPagination:!1,showFilter:!1,openEntryOnClick:!1,rowsPerPage:5,showOnlyForBillingUsersAgent:!0,showOnlyActiveAndToday:!0,focusIsProject:!0,showDateFilters:!1,emptyMessage:"There are no labour entries today.",disabled:e.disabled}})],1),n("v-card-actions",{staticStyle:{"flex-wrap":"wrap"}},[n("v-btn",{staticClass:"e2e-my-labour-entries-active-and-today-card-see-all-my-labour",staticStyle:{"margin-left":"0px"},attrs:{text:"",to:"/section/agents/"+e.agentId+"?tab=Labour"}},[e._v(" See All My Labour ")]),n("v-btn",{staticClass:"e2e-my-labour-entries-active-and-today-card-add-manual-entry",staticStyle:{"margin-left":"0px"},attrs:{text:"",disabled:e.disabled||!e.PermCRMLabourManualEntries()||!e.PermLabourCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{agentId:e.agentId}}})}}},[e._v(" Add Manual Entry ")]),n("v-spacer")],1)],1):n("v-card-text",[n("v-alert",{attrs:{type:"warning","colored-border":"",elevation:"2",border:"bottom"}},[e._v(" You need an agent assigned in settings to be able to see this. ")])],1)],1)},GO=[],$O=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.DialoguesOpen=ca.Open,e.AgentLoggedInAgentId=Pe.LoggedInAgentId,e.AgentForLoggedInAgent=Pe.ForLoggedInAgent,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.agentId=null,e.agent=null,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"Periodic",value:function(){p["c"].set(this,"agentId",Pe.LoggedInAgentId()),p["c"].set(this,"agent",Pe.ForLoggedInAgent()),this.agentId&&!this.agent&&this.LoadData()}},{key:"IsLoadingData",get:function(){return!(!this.$refs.labourList||!this.$refs.labourList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){if(null==e.agentId||y(e.agentId)||null!=e.agent)e.loadingData=!1;else{var t=Pe.FetchForId(e.agentId);null!=t.completeRequestPromise&&t.completeRequestPromise.finally((function(){p["c"].set(e,"agentId",Pe.LoggedInAgentId()),p["c"].set(e,"agent",Pe.ForLoggedInAgent()),e.loadingData=!1}))}}),250),this.$refs.labourList&&this.$refs.labourList.LoadData()}},{key:"Entries",get:function(){var e=Pe.LoggedInAgentId(),t=I["DateTime"].local(),n=t.endOf("day"),a=t.startOf("day"),i=F.a.filter(this.$store.state.Database.labour,(function(t){if(t.json.agentId!==e)return!1;if(!t.json.startISO8601)return!1;var i=I["DateTime"].fromISO(t.json.startISO8601),o=i.toLocal(),s=I["DateTime"].fromISO(t.json.endISO8601),r=s.toLocal(),l=!0===t.json.isActive,c=o>=a&&o<=n,u=r>=a&&r<=n;return!!(l||c||u)})),o=F.a.sortBy(i,(function(e){return e.json.startISO8601}));return o}}]),n}(mr);$O=Object(v["a"])([Object(p["a"])({components:{LabourList:Ro,LabourListItem:jo}})],$O);var UO=$O,HO=UO,WO=Object(ha["a"])(HO,qO,GO,!1,null,null,null),KO=WO.exports;ga()(WO,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"],VSpacer:_a["a"]});var zO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticStyle:{margin:"30px","margin-top":"15px"}},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("My Agenda Today")]),e.agentId?n("div",[null==e.agent&&e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("div",[n("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[n("div",{staticClass:"headline mb-2"},[e._v("Scheduled")])]),n("AssignmentsList",{ref:"scheduledList",attrs:{showTopPagination:!1,showFilter:!1,rowsPerPage:5,showOnlyForBillingUsersAgent:!0,showOnlyOpenAssignments:!0,showOnlyTodayOrEarlier:!0,hideAssignmentsWithNoStartTime:!0,focusIsProject:!0,emptyMessage:"There are no assignments scheduled for today.",disabled:e.disabled}}),n("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[n("div",{staticClass:"headline mb-2"},[e._v("Unscheduled")])]),n("AssignmentsList",{ref:"unscheduledList",attrs:{showTopPagination:!1,showFilter:!1,rowsPerPage:5,showOnlyForBillingUsersAgent:!0,showOnlyOpenAssignments:!0,showOnlyTasksWithNoStartTime:!0,focusIsProject:!0,emptyMessage:"There are no unscheduled assignments.",disabled:e.disabled}})],1),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),n("v-card-actions",{staticStyle:{"flex-wrap":"wrap"}},[n("v-btn",{staticClass:"e2e-my-agenda-today-card-see-full-agenda",staticStyle:{"margin-left":"0px"},attrs:{to:"/section/agents/"+e.agentId+"?tab=Agenda",text:"",disabled:!e.PermAgentDisplayOwn()}},[e._v(" See Full Agenda ")]),n("v-btn",{staticClass:"e2e-my-agenda-today-card-add-assignment",staticStyle:{"margin-left":"0px"},attrs:{text:"",disabled:e.disabled||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[e._v(" Add Assignment ")]),n("v-spacer")],1)],1):n("v-card-text",[n("v-alert",{attrs:{type:"warning","colored-border":"",elevation:"2",border:"bottom"}},[e._v(" You need an agent assigned in "),n("router-link",{attrs:{to:"/settings"}},[e._v("settings")]),e._v(" to be able to see this. ")],1)],1)],1)},JO=[],YO=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.DialoguesOpen=ca.Open,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermAgentDisplayOwn=Pe.PermAgentDisplayOwn,e.agentId=null,e.agent=null,e.loadingData=!1,e._LoadDataTimeout=null,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e}return Object(u["a"])(n,[{key:"Periodic",value:function(){p["c"].set(this,"agentId",Pe.LoggedInAgentId()),p["c"].set(this,"agent",Pe.ForLoggedInAgent()),this.agentId&&!this.agent&&this.LoadData()}},{key:"IsLoadingData",get:function(){return!(!this.$refs.scheduledList||!this.$refs.scheduledList.IsLoadingData)||(!(!this.$refs.unscheduledList||!this.$refs.unscheduledList.IsLoadingData)||this.loadingData)}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){if(null==e.agentId||y(e.agentId)||null!=e.agent)e.loadingData=!1;else{var t=Pe.FetchForId(e.agentId);null!=t.completeRequestPromise&&t.completeRequestPromise.finally((function(){p["c"].set(e,"agentId",Pe.LoggedInAgentId()),p["c"].set(e,"agent",Pe.ForLoggedInAgent()),e.loadingData=!1}))}}),250),this.$refs.scheduledList&&this.$refs.scheduledList.LoadData(),this.$refs.unscheduledList&&this.$refs.unscheduledList.LoadData()}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}}}]),n}(mr);YO=Object(v["a"])([Object(p["a"])({components:{AssignmentListItem:Fi,AssignmentsList:io,AddAssignmentDialogue2:Gl},props:{contactId:String}})],YO);var QO=YO,XO=QO,ZO=Object(ha["a"])(XO,zO,JO,!1,null,null,null),ek=ZO.exports;ga()(ZO,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"],VSpacer:_a["a"]});var tk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"e2e-unassigned-assignments-card",staticStyle:{margin:"30px","margin-top":"15px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("Unassigned Assignments")]),n("v-card-text",[n("AssignmentsList",{ref:"assignmentsList",attrs:{showOnlyUnassigned:!0,focusIsProject:!0,showFilter:!1,showTopPagination:!1,rowsPerPage:5,disabled:e.disabled}})],1)],1)},nk=[],ak=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.assignmentsList||!this.$refs.assignmentsList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250),this.$refs.assignmentsList&&this.$refs.assignmentsList.LoadData()}}]),n}(mr);ak=Object(v["a"])([Object(p["a"])({components:{AssignmentsList:io}})],ak);var ik=ak,ok=ik,sk=Object(ha["a"])(ok,tk,nk,!1,null,null,null),rk=sk.exports;ga()(sk,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"]});var lk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"e2e-past-due-assignments-card",staticStyle:{margin:"30px","margin-top":"15px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("Past Due Assignments")]),n("v-card-text",[n("AssignmentsList",{ref:"assignmentsList",attrs:{showOnlyPastDue:!0,focusIsProject:!0,showOnlyOpenAssignments:!0,showFilter:!1,showTopPagination:!1,rowsPerPage:5,emptyMessage:"There are no assignments to show, make sure to add a scheduled end to assignments or their projects for them to show here.",disabled:e.disabled}})],1)],1)},ck=[],uk=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.assignmentsList||!this.$refs.assignmentsList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250),this.$refs.assignmentsList&&this.$refs.assignmentsList.LoadData()}}]),n}(mr);uk=Object(v["a"])([Object(p["a"])({components:{AssignmentsList:io}})],uk);var dk=uk,mk=dk,vk=Object(ha["a"])(mk,lk,ck,!1,null,null,null),pk=vk.exports;ga()(vk,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"]});var fk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"e2e-upcoming-projects-card",staticStyle:{margin:"30px","margin-top":"15px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("Upcoming Projects")]),n("v-card-text",[e._v(" Scheduled to start in the next week: "),n("ProjectList",{ref:"projectList",attrs:{showOnlyUpcoming:!0,showFilter:!1,emptyMessage:"There are no projects to show, make sure to add a scheduled start to projects for them to show here.",showTopPagination:!1,rowsPerPage:5,disabled:e.disabled}})],1)],1)},hk=[],bk=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.projectList||!this.$refs.projectList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250),this.$refs.projectList&&this.$refs.projectList.LoadData()}}]),n}(mr);bk=Object(v["a"])([Object(p["a"])({components:{ProjectList:os}})],bk);var gk=bk,yk=gk,Ck=Object(ha["a"])(yk,fk,hk,!1,null,null,null),jk=Ck.exports;ga()(Ck,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"]});var Sk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"e2e-past-due-projects-card",staticStyle:{margin:"30px","margin-top":"15px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("Past Due Projects")]),n("v-card-text",[n("ProjectList",{ref:"projectList",attrs:{showOnlyPastDue:!0,showAwaitingPayment:!1,showOpen:!0,showClosed:!1,emptyMessage:"There are no projects to show, make sure to add a scheduled end to projects for them to show here.",showFilter:!1,showTopPagination:!1,rowsPerPage:5,disabled:e.disabled}})],1)],1)},Ik=[],Pk=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.projectList||!this.$refs.projectList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250),this.$refs.projectList&&this.$refs.projectList.LoadData()}}]),n}(mr);Pk=Object(v["a"])([Object(p["a"])({components:{ProjectList:os}})],Pk);var Ok=Pk,kk=Ok,Dk=Object(ha["a"])(kk,Sk,Ik,!1,null,null,null),_k=Dk.exports;ga()(Dk,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"]});var wk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"e2e-due-projects-with-no-labour-card",staticStyle:{margin:"30px","margin-top":"15px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("Due Projects With No Labour")]),n("v-card-text",[n("ProjectList",{ref:"projectList",attrs:{showOnlyDueWithNoLabour:!0,showAwaitingPayment:!1,showOpen:!0,showClosed:!1,emptyMessage:"There are no projects to show, make sure to add a scheduled start to projects for them to show here.",showFilter:!1,showTopPagination:!1,rowsPerPage:5,disabled:e.disabled}})],1)],1)},xk=[],Rk=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.projectList||!this.$refs.projectList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250),this.$refs.projectList&&this.$refs.projectList.LoadData()}}]),n}(mr);Rk=Object(v["a"])([Object(p["a"])({components:{ProjectList:os}})],Rk);var Mk=Rk,Ak=Mk,Tk=Object(ha["a"])(Ak,wk,xk,!1,null,null,null),Vk=Tk.exports;ga()(Tk,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"]});var Bk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"e2e-due-assignments-no-labour-card",staticStyle:{margin:"30px","margin-top":"15px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("Due Assignments With No Labour")]),n("v-card-text",[n("AssignmentsList",{ref:"assignmentsList",attrs:{showOnlyDueWithNoLabour:!0,showAwaitingPayment:!1,showOpen:!0,focusIsProject:!0,showClosed:!1,emptyMessage:"There are no assignments to show, make sure to add a scheduled start to projects or assignments for them to show here.",showFilter:!1,showTopPagination:!1,rowsPerPage:5,disabled:e.disabled}})],1)],1)},Lk=[],Nk=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.assignmentsList||!this.$refs.assignmentsList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250),this.$refs.assignmentsList&&this.$refs.assignmentsList.LoadData()}}]),n}(mr);Nk=Object(v["a"])([Object(p["a"])({components:{AssignmentsList:io}})],Nk);var Ek=Nk,Fk=Ek,qk=Object(ha["a"])(Fk,Bk,Lk,!1,null,null,null),Gk=qk.exports;ga()(qk,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"]});var $k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{staticClass:"e2e-assignments-in-billable-review-card",staticStyle:{margin:"30px","margin-top":"15px"}},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:""}}):e._e(),n("v-card-title",[e._v("Assignments in Billable Review")]),n("v-card-text",[n("AssignmentsList",{ref:"assignmentsList",attrs:{showOnlyBilliableReview:!0,showAwaitingPayment:!1,showOpen:!0,focusIsProject:!0,showClosed:!1,emptyMessage:"There are no assignments to show, make sure to complete assignments or set them to billable review for them to show here.",showFilter:!1,showTopPagination:!1,rowsPerPage:5,disabled:e.disabled}})],1)],1)},Uk=[],Hk=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.assignmentsList||!this.$refs.assignmentsList.IsLoadingData)||this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250),this.$refs.assignmentsList&&this.$refs.assignmentsList.LoadData()}}]),n}(mr);Hk=Object(v["a"])([Object(p["a"])({components:{AssignmentsList:io}})],Hk);var Wk=Hk,Kk=Wk,zk=Object(ha["a"])(Kk,$k,Uk,!1,null,null,null),Jk=zk.exports;ga()(zk,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VProgressLinear:Pl["a"]});var Yk=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={All:0,all:0},e.breadcrumbs=[{text:"Dashboard",disabled:!0,to:"/"}],e.DialoguesOpen=ca.Open,e.CurrentDPAgentId=Pe.LoggedInAgentId,e.PermCompaniesCanPush=tn.PermCompaniesCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermCRMViewDashboardDispatchTab=wg.PermCRMViewDashboardDispatchTab,e.PermCRMViewDashboardBillingTab=wg.PermCRMViewDashboardBillingTab,e.PermCRMViewDashboardManagementTab=wg.PermCRMViewDashboardManagementTab,e.loadingData=!1,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e.addAgentModel=null,e.addAgentOpen=!1,e}return Object(u["a"])(n,[{key:"ReLoadData",value:function(){this.$refs.myAgendaTodayCard&&this.$refs.myAgendaTodayCard.LoadData(),this.$refs.myLabourEntriesActiveAndTodayCard&&this.$refs.myLabourEntriesActiveAndTodayCard.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=ce.CurrentSessionId();if(null!=t&&!y(t)){var n=L.RequestGroupViewDashboard.Send({sessionId:t});n.completeRequestPromise&&(e.loadingData=!0,n.completeRequestPromise.finally((function(){e.loadingData=!1})))}}))}))}},{key:"IsLoadingData",get:function(){return!(!this.$refs.myAgendaTodayCard||!this.$refs.myAgendaTodayCard.IsLoadingData)||(!(!this.$refs.myLabourEntriesActiveAndTodayCard||!this.$refs.myLabourEntriesActiveAndTodayCard.IsLoadingData)||this.loadingData)}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddProject",value:function(){console.debug("ProjectStatusForNewProjects()",ge()),ca.Open({name:"AddProjectDialogue",state:{json:{statusId:ge()}}})}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}}},{key:"OpenAddAgent",value:function(){var e=this;this.addAgentModel=Pe.GetEmpty(),this.addAgentOpen=!0,requestAnimationFrame((function(){e.$refs.addAgentDialogue&&e.$refs.addAgentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAgent",value:function(){this.addAgentOpen=!1}},{key:"SaveAddAgent",value:function(){if(this.addAgentOpen=!1,this.addAgentModel&&this.addAgentModel.id){var e={};e[this.addAgentModel.id]=this.addAgentModel,Pe.UpdateIds(e),this.$router.push("/section/agents/".concat(this.addAgentModel.id,"?tab=General")).catch((function(e){}))}}}]),n}(AO);Yk=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,MyAgendaTodayCard:ek,MyLabourEntriesActiveAndTodayCard:KO,OpenGlobalSearchButton:ri,HelpMenuButton:bi,ReloadButton:ms,CommitSessionGlobalButton:Pi,UnassignedAssignmentsCard:rk,PastDueAssignmentsCard:pk,UpcomingProjectsCard:jk,PastDueProjectsCard:_k,DueProjectsWithNoLabourCard:Vk,DueAssignmentsWithNoLabourCard:Gk,AssignmentsInBillableReviewCard:Jk,AddAssignmentDialogue2:Gl,AddAgentDialogue2:Xl,PermissionsDeniedAlert:Qi,NotificationBellButton:hl}})],Yk);var Qk=Yk,Xk=Qk,Zk=Object(ha["a"])(Xk,EO,FO,!1,null,null,null),eD=Zk.exports;ga()(Zk,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VDivider:Ea["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSubheader:fi["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var tD=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-dashboard-tab-billing",attrs:{disabled:!e.PermCRMViewDashboardBillingTab()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"all"})}).catch((function(e){}))}}},[e._v(" All ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Billing Dashboard")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"30px","margin-right":"30px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[e.PermCRMViewDashboardBillingTab()?n("div",[n("AssignmentsInBillableReviewCard",{ref:"assignmentsInBillableReviewCard",attrs:{disabled:"Connected"!=e.connectionStatus}})],1):n("PermissionsDeniedAlert")],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddAgentDialogue2",{ref:"addAgentDialogue",attrs:{isOpen:e.addAgentOpen},on:{Save:e.SaveAddAgent,Cancel:e.CancelAddAgent},model:{value:e.addAgentModel,callback:function(t){e.addAgentModel=t},expression:"addAgentModel"}}),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{staticClass:"e2e-add-menu-button",attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Address Book…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyContactDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Contact")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCompaniesCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyCompanyDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("domain")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Projects…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-project",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},on:{click:function(t){return e.AddProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("assignment")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Project")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermMaterialsCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyMaterialDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("list")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Material Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Agents…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAgentsCanPush()},on:{click:function(t){return e.OpenAddAgent()}}},[n("v-list-item-icon",[n("v-icon",[e._v("directions_walk")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Agent")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()||!e.PermLabourCanPush()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{agentId:e.CurrentDPAgentId()}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Labour Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Assignments…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-assignment",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Assignment")])],1)],1)],1)],1)],1)],1)},nD=[],aD=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Billing:0,billing:0},e.breadcrumbs=[{text:"Dashboard",disabled:!0,to:"/"}],e.DialoguesOpen=ca.Open,e.CurrentDPAgentId=Pe.LoggedInAgentId,e.PermCompaniesCanPush=tn.PermCompaniesCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermCRMViewDashboardDispatchTab=wg.PermCRMViewDashboardDispatchTab,e.PermCRMViewDashboardBillingTab=wg.PermCRMViewDashboardBillingTab,e.PermCRMViewDashboardManagementTab=wg.PermCRMViewDashboardManagementTab,e.loadingData=!1,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e.addAgentModel=null,e.addAgentOpen=!1,e}return Object(u["a"])(n,[{key:"ReLoadData",value:function(){this.$refs.assignmentsInBillableReviewCard&&this.$refs.assignmentsInBillableReviewCard.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=ce.CurrentSessionId();if(null!=t&&!y(t)){var n=L.RequestGroupViewDashboard.Send({sessionId:t});n.completeRequestPromise&&(e.loadingData=!0,n.completeRequestPromise.finally((function(){e.loadingData=!1})))}}))}))}},{key:"IsLoadingData",get:function(){return!(!this.$refs.assignmentsInBillableReviewCard||!this.$refs.assignmentsInBillableReviewCard.IsLoadingData)||this.loadingData}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddProject",value:function(){console.debug("ProjectStatusForNewProjects()",ge()),ca.Open({name:"AddProjectDialogue",state:{json:{statusId:ge()}}})}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}}},{key:"OpenAddAgent",value:function(){var e=this;this.addAgentModel=Pe.GetEmpty(),this.addAgentOpen=!0,requestAnimationFrame((function(){e.$refs.addAgentDialogue&&e.$refs.addAgentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAgent",value:function(){this.addAgentOpen=!1}},{key:"SaveAddAgent",value:function(){if(this.addAgentOpen=!1,this.addAgentModel&&this.addAgentModel.id){var e={};e[this.addAgentModel.id]=this.addAgentModel,Pe.UpdateIds(e),this.$router.push("/section/agents/".concat(this.addAgentModel.id,"?tab=General")).catch((function(e){}))}}}]),n}(AO);aD=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,MyAgendaTodayCard:ek,MyLabourEntriesActiveAndTodayCard:KO,OpenGlobalSearchButton:ri,HelpMenuButton:bi,ReloadButton:ms,CommitSessionGlobalButton:Pi,UnassignedAssignmentsCard:rk,PastDueAssignmentsCard:pk,UpcomingProjectsCard:jk,PastDueProjectsCard:_k,DueProjectsWithNoLabourCard:Vk,DueAssignmentsWithNoLabourCard:Gk,AssignmentsInBillableReviewCard:Jk,AddAssignmentDialogue2:Gl,AddAgentDialogue2:Xl,PermissionsDeniedAlert:Qi,NotificationBellButton:hl}})],aD);var iD=aD,oD=iD,sD=Object(ha["a"])(oD,tD,nD,!1,null,null,null),rD=sD.exports;ga()(sD,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VDivider:Ea["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSubheader:fi["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var lD=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-dashboard-tab-dispatch",attrs:{disabled:!e.PermCRMViewDashboardDispatchTab()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"All"})}).catch((function(e){}))}}},[e._v(" All ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Dispatch Dashboard")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"30px","margin-right":"30px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[e.PermCRMViewDashboardDispatchTab()?n("div",[n("PastDueAssignmentsCard",{ref:"pastDueAssignmentsCard",attrs:{disabled:"Connected"!=e.connectionStatus}}),n("UnassignedAssignmentsCard",{ref:"unassignedAssignmentsCard",attrs:{disabled:"Connected"!=e.connectionStatus}}),n("DueAssignmentsWithNoLabourCard",{ref:"dueAssignmentsWithNoLabourCard",attrs:{disabled:"Connected"!=e.connectionStatus}})],1):n("PermissionsDeniedAlert")],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddAgentDialogue2",{ref:"addAgentDialogue",attrs:{isOpen:e.addAgentOpen},on:{Save:e.SaveAddAgent,Cancel:e.CancelAddAgent},model:{value:e.addAgentModel,callback:function(t){e.addAgentModel=t},expression:"addAgentModel"}}),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{staticClass:"e2e-add-menu-button",attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Address Book…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyContactDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Contact")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCompaniesCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyCompanyDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("domain")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Projects…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-project",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},on:{click:function(t){return e.AddProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("assignment")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Project")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermMaterialsCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyMaterialDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("list")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Material Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Agents…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAgentsCanPush()},on:{click:function(t){return e.OpenAddAgent()}}},[n("v-list-item-icon",[n("v-icon",[e._v("directions_walk")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Agent")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()||!e.PermLabourCanPush()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{agentId:e.CurrentDPAgentId()}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Labour Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Assignments…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-assignment",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Assignment")])],1)],1)],1)],1)],1)],1)},cD=[],uD=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={All:1,all:1},e.breadcrumbs=[{text:"Dashboard",disabled:!0,to:"/"}],e.DialoguesOpen=ca.Open,e.CurrentDPAgentId=Pe.LoggedInAgentId,e.PermCompaniesCanPush=tn.PermCompaniesCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermCRMViewDashboardDispatchTab=wg.PermCRMViewDashboardDispatchTab,e.PermCRMViewDashboardBillingTab=wg.PermCRMViewDashboardBillingTab,e.PermCRMViewDashboardManagementTab=wg.PermCRMViewDashboardManagementTab,e.loadingData=!1,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e.addAgentModel=null,e.addAgentOpen=!1,e}return Object(u["a"])(n,[{key:"ReLoadData",value:function(){this.$refs.pastDueAssignmentsCard&&this.$refs.pastDueAssignmentsCard.LoadData(),this.$refs.unassignedAssignmentsCard&&this.$refs.unassignedAssignmentsCard.LoadData(),this.$refs.dueAssignmentsWithNoLabourCard&&this.$refs.dueAssignmentsWithNoLabourCard.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=ce.CurrentSessionId();if(null!=t&&!y(t)){var n=L.RequestGroupViewDashboard.Send({sessionId:t});n.completeRequestPromise&&(e.loadingData=!0,n.completeRequestPromise.finally((function(){e.loadingData=!1})))}}))}))}},{key:"IsLoadingData",get:function(){return!(!this.$refs.pastDueAssignmentsCard||!this.$refs.pastDueAssignmentsCard.IsLoadingData)||(!(!this.$refs.unassignedAssignmentsCard||!this.$refs.unassignedAssignmentsCard.IsLoadingData)||(!(!this.$refs.dueAssignmentsWithNoLabourCard||!this.$refs.dueAssignmentsWithNoLabourCard.IsLoadingData)||this.loadingData))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddProject",value:function(){console.debug("ProjectStatusForNewProjects()",ge()),ca.Open({name:"AddProjectDialogue",state:{json:{statusId:ge()}}})}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}}},{key:"OpenAddAgent",value:function(){var e=this;this.addAgentModel=Pe.GetEmpty(),this.addAgentOpen=!0,requestAnimationFrame((function(){e.$refs.addAgentDialogue&&e.$refs.addAgentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAgent",value:function(){this.addAgentOpen=!1}},{key:"SaveAddAgent",value:function(){if(this.addAgentOpen=!1,this.addAgentModel&&this.addAgentModel.id){var e={};e[this.addAgentModel.id]=this.addAgentModel,Pe.UpdateIds(e),this.$router.push("/section/agents/".concat(this.addAgentModel.id,"?tab=General")).catch((function(e){}))}}}]),n}(AO);uD=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,MyAgendaTodayCard:ek,MyLabourEntriesActiveAndTodayCard:KO,OpenGlobalSearchButton:ri,HelpMenuButton:bi,ReloadButton:ms,CommitSessionGlobalButton:Pi,UnassignedAssignmentsCard:rk,PastDueAssignmentsCard:pk,UpcomingProjectsCard:jk,PastDueProjectsCard:_k,DueProjectsWithNoLabourCard:Vk,DueAssignmentsWithNoLabourCard:Gk,AssignmentsInBillableReviewCard:Jk,AddAssignmentDialogue2:Gl,AddAgentDialogue2:Xl,PermissionsDeniedAlert:Qi,NotificationBellButton:hl}})],uD);var dD=uD,mD=dD,vD=Object(ha["a"])(mD,lD,cD,!1,null,null,null),pD=vD.exports;ga()(vD,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VDivider:Ea["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSubheader:fi["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var fD=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-dashboard-tab-management",attrs:{disabled:!e.PermCRMViewDashboardManagementTab()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"all"})}).catch((function(e){}))}}},[e._v(" All ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Management Dashboard")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"30px","margin-right":"30px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[e.PermCRMViewDashboardManagementTab()?n("div",[n("UpcomingProjectsCard",{ref:"upcomingProjectsCard",attrs:{disabled:"Connected"!=e.connectionStatus}}),n("PastDueProjectsCard",{ref:"pastDueProjectsCard",attrs:{disabled:"Connected"!=e.connectionStatus}}),n("DueProjectsWithNoLabourCard",{ref:"dueProjectsWithNoLabourCard",attrs:{disabled:"Connected"!=e.connectionStatus}})],1):n("PermissionsDeniedAlert")],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddAgentDialogue2",{ref:"addAgentDialogue",attrs:{isOpen:e.addAgentOpen},on:{Save:e.SaveAddAgent,Cancel:e.CancelAddAgent},model:{value:e.addAgentModel,callback:function(t){e.addAgentModel=t},expression:"addAgentModel"}}),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{staticClass:"e2e-add-menu-button",attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Address Book…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyContactDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Contact")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCompaniesCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyCompanyDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("domain")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Projects…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-project",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},on:{click:function(t){return e.AddProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("assignment")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Project")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermMaterialsCanPush()},on:{click:function(t){return e.DialoguesOpen({name:"ModifyMaterialDialogue",state:null})}}},[n("v-list-item-icon",[n("v-icon",[e._v("list")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Material Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Agents…")]),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAgentsCanPush()},on:{click:function(t){return e.OpenAddAgent()}}},[n("v-list-item-icon",[n("v-icon",[e._v("directions_walk")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Agent")])],1)],1),n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMLabourManualEntries()||!e.PermLabourCanPush()},on:{click:function(t){e.DialoguesOpen({name:"ModifyLabourDialogue",state:{json:{agentId:e.CurrentDPAgentId()}}})}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Labour Entry")])],1)],1),n("v-divider"),n("v-subheader",{staticStyle:{height:"20px","padding-top":"10px"}},[e._v("Assignments…")]),n("v-list-item",{staticClass:"e2e-add-menu-item-add-assignment",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Assignment")])],1)],1)],1)],1)],1)],1)},hD=[],bD=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={All:0,all:0},e.breadcrumbs=[{text:"Dashboard",disabled:!0,to:"/"}],e.DialoguesOpen=ca.Open,e.CurrentDPAgentId=Pe.LoggedInAgentId,e.PermCompaniesCanPush=tn.PermCompaniesCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermCRMViewDashboardDispatchTab=wg.PermCRMViewDashboardDispatchTab,e.PermCRMViewDashboardBillingTab=wg.PermCRMViewDashboardBillingTab,e.PermCRMViewDashboardManagementTab=wg.PermCRMViewDashboardManagementTab,e.loadingData=!1,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e.addAgentModel=null,e.addAgentOpen=!1,e}return Object(u["a"])(n,[{key:"ReLoadData",value:function(){this.$refs.upcomingProjectsCard&&this.$refs.upcomingProjectsCard.LoadData(),this.$refs.pastDueProjectsCard&&this.$refs.pastDueProjectsCard.LoadData(),this.$refs.dueProjectsWithNoLabourCard&&this.$refs.dueProjectsWithNoLabourCard.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=ce.CurrentSessionId();if(null!=t&&!y(t)){var n=L.RequestGroupViewDashboard.Send({sessionId:t});n.completeRequestPromise&&(e.loadingData=!0,n.completeRequestPromise.finally((function(){e.loadingData=!1})))}}))}))}},{key:"IsLoadingData",get:function(){return!(!this.$refs.upcomingProjectsCard||!this.$refs.upcomingProjectsCard.IsLoadingData)||(!(!this.$refs.pastDueProjectsCard||!this.$refs.pastDueProjectsCard.IsLoadingData)||(!(!this.$refs.dueProjectsWithNoLabourCard||!this.$refs.dueProjectsWithNoLabourCard.IsLoadingData)||this.loadingData))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddProject",value:function(){console.debug("ProjectStatusForNewProjects()",ge()),ca.Open({name:"AddProjectDialogue",state:{json:{statusId:ge()}}})}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}}},{key:"OpenAddAgent",value:function(){var e=this;this.addAgentModel=Pe.GetEmpty(),this.addAgentOpen=!0,requestAnimationFrame((function(){e.$refs.addAgentDialogue&&e.$refs.addAgentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAgent",value:function(){this.addAgentOpen=!1}},{key:"SaveAddAgent",value:function(){if(this.addAgentOpen=!1,this.addAgentModel&&this.addAgentModel.id){var e={};e[this.addAgentModel.id]=this.addAgentModel,Pe.UpdateIds(e),this.$router.push("/section/agents/".concat(this.addAgentModel.id,"?tab=General")).catch((function(e){}))}}}]),n}(AO);bD=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,MyAgendaTodayCard:ek,MyLabourEntriesActiveAndTodayCard:KO,OpenGlobalSearchButton:ri,HelpMenuButton:bi,ReloadButton:ms,CommitSessionGlobalButton:Pi,UnassignedAssignmentsCard:rk,PastDueAssignmentsCard:pk,UpcomingProjectsCard:jk,PastDueProjectsCard:_k,DueProjectsWithNoLabourCard:Vk,DueAssignmentsWithNoLabourCard:Gk,AssignmentsInBillableReviewCard:Jk,AddAssignmentDialogue2:Gl,AddAgentDialogue2:Xl,PermissionsDeniedAlert:Qi,NotificationBellButton:hl}})],bD);var gD=bD,yD=gD,CD=Object(ha["a"])(yD,fD,hD,!1,null,null,null),jD=CD.exports;ga()(CD,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VDivider:Ea["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSubheader:fi["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var SD=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-dashboard-tab-agent",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"all"})}).catch((function(e){}))}}},[e._v(" All ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("On-Call Dashboard")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"30px","margin-right":"30px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-container",[n("v-row",{attrs:{dense:""}},[n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" Voicemails ")]),n("v-card-subtitle",[e._v(" Access all current voicemails. ")]),n("v-card-actions",[n("v-btn",{attrs:{to:"/section/voicemails",text:""}},[e._v(" Open Voicemails ")])],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" Phone Numbers ")]),n("v-card-subtitle",[e._v(" View your phone numbers. ")]),n("v-card-actions",[n("v-btn",{attrs:{to:"/section/dids",text:""}},[e._v(" Open Phone Numbers ")])],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" On-Call Responders ")]),n("v-card-subtitle",[e._v(" You on-call menus. ")]),n("v-card-actions",[n("v-btn",{attrs:{text:"",to:"/section/on-call"}},[e._v(" Open Responders ")])],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" Calendars ")]),n("v-card-subtitle",[e._v(" Manage who is responsible, where to contact them, and when. ")]),n("v-card-actions",[n("v-btn",{attrs:{to:"/section/calendars",text:""}},[e._v(" Open Calendars ")])],1)],1)],1),n("v-col",{attrs:{cols:"12",md:"4"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5"},[e._v(" Recordings ")]),n("v-card-subtitle",[e._v(" Manage telephone recordings. ")]),n("v-card-actions",[n("v-btn",{attrs:{to:"/section/recordings",text:""}},[e._v(" Open Recordings ")])],1)],1)],1)],1)],1)],1)],1),n("div",{staticStyle:{height:"50px"}})],1)},ID=[],PD=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Agent:0,agent:0,Dispatch:1,dispatch:1,Billing:2,billing:2,Management:3,management:3},e.breadcrumbs=[{text:"Dashboard",disabled:!0,to:"/"}],e.DialoguesOpen=ca.Open,e.CurrentDPAgentId=Pe.LoggedInAgentId,e.PermCompaniesCanPush=tn.PermCompaniesCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermCRMViewDashboardDispatchTab=wg.PermCRMViewDashboardDispatchTab,e.PermCRMViewDashboardBillingTab=wg.PermCRMViewDashboardBillingTab,e.PermCRMViewDashboardManagementTab=wg.PermCRMViewDashboardManagementTab,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"ReLoadData",value:function(){}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=ce.CurrentSessionId();if(null!=t&&!y(t)){var n=L.RequestGroupViewDashboard.Send({sessionId:t});n.completeRequestPromise&&(e.loadingData=!0,n.completeRequestPromise.finally((function(){e.loadingData=!1})))}}))}))}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}}]),n}(AO);PD=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,MyAgendaTodayCard:ek,MyLabourEntriesActiveAndTodayCard:KO,OpenGlobalSearchButton:ri,HelpMenuButton:bi,ReloadButton:ms,CommitSessionGlobalButton:Pi,UnassignedAssignmentsCard:rk,PastDueAssignmentsCard:pk,UpcomingProjectsCard:jk,PastDueProjectsCard:_k,DueProjectsWithNoLabourCard:Vk,DueAssignmentsWithNoLabourCard:Gk,AssignmentsInBillableReviewCard:Jk,AddAssignmentDialogue2:Gl,AddAgentDialogue2:Xl,PermissionsDeniedAlert:Qi,NotificationBellButton:hl}})],PD);var OD=PD,kD=OD,DD=Object(ha["a"])(kD,SD,ID,!1,null,null,null),_D=DD.exports;ga()(DD,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardSubtitle:ja["b"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var wD=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ContactEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.Contact,callback:function(t){e.Contact=t},expression:"Contact"}})},xD=[],RD=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=un.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/contacts/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Contacts",disabled:!1,to:"/section/contacts/index?tab=Contacts"},{text:"Contact",disabled:!0,to:""}]}},{key:"Contact",get:function(){var e=un.ForId(this.$route.params.id);return e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,un.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);RD=Object(v["a"])([Object(p["a"])({components:{ContactEditor:Xb}})],RD);var MD=RD,AD=MD,TD=Object(ha["a"])(AD,wD,xD,!1,null,null,null),VD=TD.exports,BD=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CompanyEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.Company,callback:function(t){e.Company=t},expression:"Company"}})},LD=[],ND=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=tn.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/companies/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Companies",disabled:!1,to:"/section/companies/index"},{text:"Company",disabled:!0,to:""}]}},{key:"Company",get:function(){var e=tn.ForId(this.$route.params.id);return e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,tn.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);ND=Object(v["a"])([Object(p["a"])({components:{CompanyEditor:Mh}})],ND);var ED=ND,FD=ED,qD=Object(ha["a"])(FD,BD,LD,!1,null,null,null),GD=qD.exports,$D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-companies-index-tab-companies",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Companies"})}).catch((function(e){}))}}},[e._v(" Companies ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Companies")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportCompaniesPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportCompaniesCSV()},on:{click:function(t){return e.CSVDownloadCompanies()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("CompanyList",{ref:"companyList",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-menu-add-company",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCompaniesCanPush()},on:{click:function(t){return e.AddCompany()}}},[n("v-list-item-icon",[n("v-icon",[e._v("domain")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company")])],1)],1)],1)],1)],1)],1)},UD=[],HD=function(){var e=ra.state.Database.companies;if(e){for(var t=[["Export Type:","Companies","Export Version:","CSV1"],["id","name","logoURI","websiteURI","lastModifiedISO8601","lastModifiedBillingId"]],n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||"",i.json.logoURI||"",i.json.websiteURI||"",i.lastModifiedISO8601||"",i.json.lastModifiedBillingId||""])}Eo("Companies-All.csv",t)}},WD=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Companies:0,companies:0},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Companies",disabled:!0,to:"/section/companies/index"}],e.CSVDownloadCompanies=HD,e.PermCompaniesCanPush=tn.PermCompaniesCanPush,e.PermCRMReportCompaniesPDF=tn.PermCRMReportCompaniesPDF,e.PermCRMExportCompaniesCSV=tn.PermCRMExportCompaniesCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.companyList||!this.$refs.companyList.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.companyList&&this.$refs.companyList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"DoPrint",value:function(){ca.Open({name:"CompanyReportDialogue",state:{allLoadedCompanies:!0}})}},{key:"AddCompany",value:function(){ca.Open({name:"ModifyCompanyDialogue",state:null})}}]),n}(AO);WD=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,CompanyList:Ph,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],WD);var KD=WD,zD=KD,JD=Object(ha["a"])(zD,$D,UD,!1,null,null,null),YD=JD.exports;ga()(JD,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var QD=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-contacts-index-tab-contacts",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Contacts"})}).catch((function(e){}))}}},[e._v(" Contacts ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Contacts")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportContactsPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportContactsCSV()},on:{click:function(t){return e.CSVDownloadContacts()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("ContactList",{ref:"contactList",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-menu-add-contact",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermContactsCanPush()},on:{click:function(t){return e.AddContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Contact")])],1)],1)],1)],1)],1)],1)},XD=[],ZD=function(){var e=ra.state.Database.contacts;if(e){for(var t=function(e){var t,n="",a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+="".concat(i.label,": ").concat(i.value,"\n")}}catch(o){a.e(o)}finally{a.f()}return n},n=function(e){var t,n="",a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+="".concat(i.label,": ").concat(i.value,"\n")}}catch(o){a.e(o)}finally{a.f()}return n},a=function(e){var t,n="",a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;n+="".concat(i.label,": ").concat(i.value,"\n")}}catch(o){a.e(o)}finally{a.f()}return n},i=[["Export Type:","Contacts","Export Version:","CSV1"],["id","lastModifiedISO8601","lastModifiedBillingId","name","title","companyId","notes","phoneNumbers","emails","addresses"]],o=0,s=Object.values(e);o<s.length;o++){var r=s[o];i.push([r.id||"",r.lastModifiedISO8601||"",r.json.lastModifiedBillingId||"",r.json.name||"",r.json.title||"",r.json.companyId||"",r.json.notes||"",t(r.json.phoneNumbers),n(r.json.emails),a(r.json.addresses)])}Eo("Contacts-All.csv",i)}},e_=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Contacts",disabled:!0,to:"/section/contacts/index"}],e.CSVDownloadContacts=ZD,e.PermContactsCanPush=un.PermContactsCanPush,e.PermCRMReportContactsPDF=un.PermCRMReportContactsPDF,e.PermCRMExportContactsCSV=un.PermCRMExportContactsCSV,e.PermContactsCanDelete=un.PermContactsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.contactList||!this.$refs.contactList.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.contactList&&this.$refs.contactList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"DoPrint",value:function(){ca.Open({name:"ContactsReportDialogue",state:{allLoadedContacts:!0}})}},{key:"AddContact",value:function(){ca.Open({name:"ModifyContactDialogue",state:null})}}]),n}(AO);e_=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,CompanyList:Ph,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],e_);var t_=e_,n_=t_,a_=Object(ha["a"])(n_,QD,XD,!1,null,null,null),i_=a_.exports;ga()(a_,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var o_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-projects-index-tab-open",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Open"})}).catch((function(e){}))}}},[e._v(" Open ")]),n("v-tab",{staticClass:"e2e-projects-index-tab-awaiting-payment",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Awaiting Payment"})}).catch((function(e){}))}}},[e._v(" Awaiting Payment ")]),n("v-tab",{staticClass:"e2e-projects-index-tab-closed",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Closed"})}).catch((function(e){}))}}},[e._v(" Closed ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Projects")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportProjectsPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent",flex:"1'"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("ProjectList",{ref:"openList",attrs:{showOpen:!0,showAwaitingPayment:!1,showClosed:!1,isReverseSort:!0,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("ProjectList",{ref:"awaitingPaymentList",attrs:{showOpen:!1,showAwaitingPayment:!0,showClosed:!1,isReverseSort:!0,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("ProjectList",{ref:"closedList",attrs:{showOpen:!1,showAwaitingPayment:!1,showClosed:!0,isReverseSort:!0,disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{staticClass:"e2e-open-new-call-dialogue",attrs:{color:"white",text:"",rounded:"",disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()||!e.PermContactsCanPush()||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OnClickNewCall()}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("call")]),e._v(" New Call ")],1),n("v-btn",{staticClass:"e2e-open-merge-products-dialogue",attrs:{color:"white",text:"",rounded:"",disabled:"Connected"!=e.connectionStatus||!e.PermCRMViewProjectIndexMergeProjects()},on:{click:function(t){return e.DialoguesOpen({name:"MergeProjectsDialogue",state:null})}}},[n("v-icon",{attrs:{left:""}},[e._v("mdi-merge")]),e._v(" Merge Projects ")],1),n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-menu-item-add-project",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()},on:{click:function(t){return e.AddProject()}}},[n("v-list-item-icon",[n("v-icon",[e._v("assignment")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Project")])],1)],1)],1)],1)],1)],1)},s_=[],r_=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Open:0,open:0,"Awaiting Payment":1,"awaiting payment":1,Closed:2,closed:2},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Projects",disabled:!0,to:"/section/projects/index"}],e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermContactsCanPush=un.PermContactsCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermCRMViewProjectIndexMergeProjects=wg.PermCRMViewProjectIndexMergeProjects,e.PermCRMReportProjectsPDF=ze.PermCRMReportProjectsPDF,e.DialoguesOpen=ca.Open,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.openList||!this.$refs.openList.IsLoadingData)||(!(!this.$refs.awaitingPaymentList||!this.$refs.awaitingPaymentList.IsLoadingData)||(!(!this.$refs.closedList||!this.$refs.closedList.IsLoadingData)||this.loadingData))}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.openList&&this.$refs.openList.LoadData(),this.$refs.awaitingPaymentList&&this.$refs.awaitingPaymentList.LoadData(),this.$refs.closedList&&this.$refs.closedList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"OnClickNewCall",value:function(){console.log("OnClickNewCall()"),ca.Open({name:"NewCallDialogue",state:{}})}},{key:"DoPrint",value:function(){ca.Open({name:"ProjectReportDialogue",state:{allLoadedProjects:!1}})}},{key:"AddProject",value:function(){ca.Open({name:"AddProjectDialogue",state:{json:{statusId:ge()}}})}}]),n}(AO);r_=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],r_);var l_=r_,c_=l_,u_=Object(ha["a"])(c_,o_,s_,!1,null,null,null),d_=u_.exports;ga()(u_,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var m_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ProjectEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.Project,callback:function(t){e.Project=t},expression:"Project"}})},v_=[],p_=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=[];if(ze.PermProjectsCanRequest()){var n=ze.RequestProjects.Send({sessionId:ce.CurrentSessionId(),limitToIds:[e.$route.params.id],showChildrenOfProjectIdAsWell:!0});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/projects/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Projects",disabled:!1,to:"/section/projects/index"},{text:"Project Display",disabled:!0,to:""}]}},{key:"Project",get:function(){var e=ze.ForId(this.$route.params.id);return e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,ze.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);p_=Object(v["a"])([Object(p["a"])({components:{ProjectEditor:Tg}})],p_);var f_=p_,h_=f_,b_=Object(ha["a"])(h_,m_,v_,!1,null,null,null),g_=b_.exports,y_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Agents"})}).catch((function(e){}))}}},[e._v(" Agents ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Agents")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("AgentsList",{ref:"agentsList",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddAgentDialogue2",{ref:"addAgentDialogue",attrs:{isOpen:e.addAgentOpen},on:{Save:e.SaveAddAgent,Cancel:e.CancelAddAgent},model:{value:e.addAgentModel,callback:function(t){e.addAgentModel=t},expression:"addAgentModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-menu-add-agent",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAgentsCanPush()},on:{click:function(t){return e.OpenAddAgent()}}},[n("v-list-item-icon",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Agent")])],1)],1)],1)],1)],1)],1)},C_=[],j_=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Agents:0,agents:0},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Agents Index",disabled:!0,to:"/section/agents/index"}],e.PermAgentsCanPush=Pe.PermAgentsCanPush,e.addAgentModel=null,e.addAgentOpen=!1,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.agentsList||!this.$refs.agentsList.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.agentsList&&this.$refs.agentsList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"OpenAddAgent",value:function(){var e=this;this.addAgentModel=Pe.GetEmpty(),this.addAgentOpen=!0,requestAnimationFrame((function(){e.$refs.addAgentDialogue&&e.$refs.addAgentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAgent",value:function(){this.addAgentOpen=!1}},{key:"SaveAddAgent",value:function(){if(this.addAgentOpen=!1,this.addAgentModel&&this.addAgentModel.id&&!y(this.addAgentModel.id)){var e={};e[this.addAgentModel.id]=this.addAgentModel,Pe.UpdateIds(e),this.$router.push("/section/agents/".concat(this.addAgentModel.id,"?tab=General")).catch((function(e){}))}else console.error("!this.addAgentModel || !this.addAgentModel.id || IsNullOrEmpty(this.addAgentModel.id)")}}]),n}(AO);j_=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,AgentsList:qs,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,AddAgentDialogue2:Xl,NotificationBellButton:hl}})],j_);var S_=j_,I_=S_,P_=Object(ha["a"])(I_,y_,C_,!1,null,null,null),O_=P_.exports;ga()(P_,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var k_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-assignments-index-tab-scheduler",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Scheduler"})}).catch((function(e){}))}}},[e._v(" Scheduler ")]),n("v-tab",{staticClass:"e2e-assignments-index-tab-unassigned",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Unassigned"})}).catch((function(e){}))}}},[e._v(" Unassigned ")]),n("v-tab",{staticClass:"e2e-assignments-index-tab-open",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Open"})}).catch((function(e){}))}}},[e._v(" Open ")]),n("v-tab",{staticClass:"e2e-assignments-index-tab-closed",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Closed"})}).catch((function(e){}))}}},[e._v(" Closed ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Assignments")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportAssignmentPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportAssignmentCSV()},on:{click:function(t){return e.CSVDownloadAssignments()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px","z-index":"1"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1",display:"flex","flex-direction":"column"}},[e.PermAssignmentCanRequest()?n("Scheduler",{ref:"scheduler",attrs:{date:e.schedulerDate},on:{OnDateChanged:e.OnSchedulerDateChanged}}):e._e()],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("AssignmentsList",{ref:"unassignedList",attrs:{showOnlyUnassigned:!0,focusIsProject:!0,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("AssignmentsList",{ref:"openList",attrs:{showOnlyOpenAssignments:!0,focusIsProject:!0,disabled:"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("AssignmentsList",{ref:"closedList",attrs:{showOnlyClosedAssignments:!0,focusIsProject:!0,disabled:"Connected"!=e.connectionStatus}})],1)],1),n("AddAssignmentDialogue2",{ref:"addAssignmentDialogue",attrs:{isOpen:e.addAssignmentOpen},on:{Save:e.SaveAddAssignment,Cancel:e.CancelAddAssignment},model:{value:e.addAssignmentModel,callback:function(t){e.addAssignmentModel=t},expression:"addAssignmentModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{color:"white",text:"",rounded:"",disabled:"Connected"!=e.connectionStatus||!e.PermProjectsCanPush()||!e.PermContactsCanPush()||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OnClickNewCall()}}},[n("v-icon",{attrs:{left:"",dark:""}},[e._v("call")]),e._v(" New Call ")],1),n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-assignment-menu-item",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentCanPush()},on:{click:function(t){return e.OpenAddAssignment()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_shipping")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Assignment")])],1)],1)],1)],1)],1)],1)},D_=[],__=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{padding:"15px","padding-top":"5px",background:"white"}},[n("div",{class:{"grid-container":!0,"grid-container-with-minimized-elements":e.HasMinimizedColumns}},[n("div",{staticClass:"options",staticStyle:{display:"flex","justify-content":"center"}},[n("v-btn",{attrs:{icon:"","x-large":""},on:{click:e.GoToPreviousDate}},[n("v-icon",[e._v("navigate_before")])],1),n("v-menu",{staticStyle:{flex:"1"},attrs:{"close-on-content-click":!1,"nudge-right":30,"nudge-top":25,transition:"scale-transition","offset-y":"","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-text-field",e._g({staticStyle:{"max-width":"300px"},attrs:{label:"Date","prepend-icon":"event",readonly:""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}},a))]}}]),model:{value:e.showDateSelect,callback:function(t){e.showDateSelect=t},expression:"showDateSelect"}},[n("v-date-picker",{attrs:{elevation:1},on:{input:function(t){e.showDateSelect=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),n("v-btn",{attrs:{icon:"","x-large":""},on:{click:e.GoToNextDate}},[n("v-icon",[e._v("navigate_next")])],1)],1),n("scroll-sync",{staticClass:"header-name"},[e._v(" Agent ")]),n("div",{staticClass:"header-unassigned"},[e._v(" Unassigned ")]),n("scroll-sync",{staticClass:"header-content",attrs:{group:"scheduler",horizontal:""}},[e._l(e.columns,(function(t,a){return n("SchedulerHeader",{key:a,attrs:{cellWidthPx:e.cellWidthPx,cellWidthMinimizedPx:e.cellWidthMinimizedPx,column:t,minimized:e.MinimizedColumns[a]}})})),n("div",{staticStyle:{"min-width":"5000px",height:"1px"}})],2),n("scroll-sync",{staticClass:"main-name",attrs:{group:"scheduler",vertical:""}},[n("v-list-item-group",{attrs:{color:"primary"}},[e.Rows?n("div",e._l(e.Rows,(function(t,a){return n("AgentsListItem",{key:t.id,class:"agent-row _"+t.id,attrs:{showMenuButton:!1,reducePadding:!0,showEmploymentStatus:!1},model:{value:e.Rows[a],callback:function(t){e.$set(e.Rows,a,t)},expression:"Rows[index]"}})})),1):e._e()]),n("div",{staticStyle:{height:"5000px"}})],1),n("scroll-sync",{staticClass:"main-content",attrs:{group:"scheduler",vertical:"",horizontal:""}},[e.Rows?n("div",e._l(e.Rows,(function(t){return n("SchedulerRow",{key:t.id,staticClass:"schedule-row",attrs:{date:e.date,cellWidthPx:e.cellWidthPx,cellWidthMinimizedPx:e.cellWidthMinimizedPx,pushHeightTargetSelector:".agent-row._"+t.id,agentId:t.id,columns:e.columns,minimizedColumns:e.MinimizedColumns}})})),1):e._e()]),n("div",{staticClass:"main-unassigned"},[n("SchedulerCell",{staticStyle:{"min-height":"100%"},attrs:{date:e.date,agentId:null,cellWidthPx:e.cellWidthPx,cellWidthMinimizedPx:e.cellWidthMinimizedPx,isUnscheduled:!0,isFirstAM:!1,isSecondAM:!1,isFirstPM:!1,isSecondPM:!1,localTimeStart:null,localTimeEnd:null,minimized:!1}})],1)],1)])},w_=[],x_=n("dae4"),R_=n.n(x_),M_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{"min-height":"60px",display:"flex",background:"white"}},[e._l(e.columns,(function(t,a){return n("SchedulerCell",{key:a,attrs:{date:e.date,agentId:e.agentId,cellWidthPx:e.cellWidthPx,cellWidthMinimizedPx:e.cellWidthMinimizedPx,isUnscheduled:"unscheduled"==t.type,isFirstAM:"am1"==t.type,isSecondAM:"am2"==t.type,isFirstPM:"pm1"==t.type,isSecondPM:"pm2"==t.type,localTimeStart:t.localTimeStart,localTimeEnd:t.localTimeEnd,minimized:e.minimizedColumns[a]}})})),n("div",{staticStyle:{"min-width":"300px",height:"1px"}})],2)},A_=[],T_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base",style:{minWidth:(e.minimized?e.cellWidthMinimizedPx:e.cellWidthPx)+"px",width:e.minimized?e.cellWidthMinimizedPx+"px":"initial"}},[n("v-dialog",{attrs:{fullscreen:e.MobileDeviceWidth(),scrollable:"",persistent:""},model:{value:e.ModifyOthersDialogue,callback:function(t){e.ModifyOthersDialogue=t},expression:"ModifyOthersDialogue"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v("Change Other Assignments?")]),n("v-card-text",[n("p",[e._v("You moved an assignment whose project requires that all assignments share the same schedule.")]),n("v-radio-group",{model:{value:e.ModifyOthersDialogueChoice,callback:function(t){e.ModifyOthersDialogueChoice=t},expression:"ModifyOthersDialogueChoice"}},[n("v-radio",{attrs:{label:"Move just this assignment and turn off project schedule syncing?",value:"MoveJustThisAssignment"}}),n("v-radio",{attrs:{label:"Change the other assignments on this project to match this schedule as well.",value:"ChangeOtherAssignments"}})],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){e.ModifyOthersDialogue=!1}}},[e._v(" Cancel ")]),n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.ModifyOthersDialogueCallback}},[e._v(" Save ")])],1)],1)],1),e.PermAssignmentCanPush()?n("draggable",{staticClass:"list-group",style:{flex:1},attrs:{"scroll-sensitivity":"100","force-fallback":!0,value:e.Events,group:"people",move:e.move1},on:{change:e.OnChange}},e._l(e.Events,(function(t,a){return n("div",{key:t.id,staticClass:"list-group-item"},[n("SchedulerEvent",{attrs:{cellWidthPx:e.cellWidthPx,cellWidthMinimizedPx:e.cellWidthMinimizedPx,agentId:e.agentId},model:{value:e.Events[a],callback:function(t){e.$set(e.Events,a,t)},expression:"Events[index]"}})],1)})),0):n("div",{staticStyle:{flex:"1"}},e._l(e.Events,(function(t,a){return n("div",{key:t.id,staticClass:"list-group-item"},[n("SchedulerEvent",{attrs:{cellWidthPx:e.cellWidthPx,cellWidthMinimizedPx:e.cellWidthMinimizedPx,agentId:e.agentId},model:{value:e.Events[a],callback:function(t){e.$set(e.Events,a,t)},expression:"Events[index]"}})],1)})),0)],1)},V_=[],B_=n("b76a"),L_=n.n(B_),N_=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"event-outer-padding",style:{paddingTop:e.EventPaddingYPx+"px",paddingBottom:e.EventPaddingYPx+"px",paddingLeft:e.EventPaddingXPx+"px",paddingRight:e.EventPaddingXPx+"px",cursor:e.PermAssignmentCanPush()?"move":"default"},on:{dblclick:e.OnDoubleClick}},[n("div",{staticClass:"event-base",style:{width:e.EventWidthPx+"px"}},[e.Headline?n("div",{staticStyle:{"min-height":"10px",background:"#FFAA00",color:"white","font-weight":"bold","font-size":"10px","padding-left":"5px","padding-right":"5px"}},[e._v(" "+e._s(e.Headline)+" ")]):e._e(),e.ShowStartTimeInEvent?n("div",{staticStyle:{"font-weight":"bold","font-size":"12px","padding-left":"5px","padding-right":"5px"}},[e._v(" "+e._s(e.StartTimeExactSmall)+" ")]):e._e(),e.Addresses1Line&&e.Addresses1Line.length>0?n("div",{staticStyle:{"font-weight":"bold","font-size":"12px","padding-left":"5px","padding-right":"5px"}},e._l(e.Addresses1Line,(function(t,a){return n("div",{key:a},[e._v(" "+e._s(t)+" ")])})),0):e._e(),e.SharedAssignment?n("div",{staticStyle:{"font-size":"12px","padding-left":"5px","padding-right":"5px","font-style":"italic"}},[e._v(" "+e._s(e.SharedAssignment)+" ")]):e._e(),e.ProjectName?n("div",{staticStyle:{"font-size":"12px","padding-left":"5px","padding-right":"5px"}},[e._v(" "+e._s(e.ProjectName||"No project name.")+" ")]):e._e(),e.AssignmentWorkDescriptionForId(e.value.assignment.id)?n("div",{staticStyle:{"font-size":"12px","padding-left":"5px","padding-right":"5px"}},[e._v(" "+e._s(e.AssignmentWorkDescriptionForId(e.value.assignment.id))+" ")]):e._e()])])},E_=[],F_=(n("1276"),function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.AssignmentWorkDescriptionForId=Ze.WorkDescriptionForId,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[],n=[];if(null==e.agentId||y(e.agentId)||null!=Pe.ForId(e.agentId)||n.push(e.agentId),e.value&&e.value.assignment){var a,i=e.value.assignment,o=Object(G["a"])(i.json.agentIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;null==s||y(s)||null!=Pe.ForId(s)||n.push(s)}}catch(p){o.e(p)}finally{o.f()}}if(n.length>0&&Pe.PermAgentsCanRequest()){var r=Pe.RequestAgents.Send({sessionId:ce.CurrentSessionId(),limitToIds:n});r.completeRequestPromise&&t.push(r.completeRequestPromise)}if(e.value&&e.value.assignment){var l=e.value.assignment,c=l.json.statusId;if(null!=c&&!y(c)&&null==Qt.ForId(c)&&Qt.PermAssignmentStatusCanRequest()){var u=Qt.FetchForId(c);u.completeRequestPromise&&t.push(u.completeRequestPromise)}}if(e.value&&e.value.assignment){var d=e.value.assignment,m=d.json.projectId;if(null!=m&&!y(m)&&null==ze.ForId(m)&&ze.PermProjectsCanRequest()){var v=ze.FetchForId(m);v.completeRequestPromise&&t.push(v.completeRequestPromise),v.completeRequestPromise&&v.completeRequestPromise.then((function(){var e=ze.ForId(m);if(e){var n,a=e.json.companies,i=[],o=Object(G["a"])(a);try{for(o.s();!(n=o.n()).done;){var s=n.value,r=s.value;null==r||y(r)||null!=tn.ForId(r)||i.push(r)}}catch(p){o.e(p)}finally{o.f()}if(tn.PermCompaniesCanRequest()){var l=tn.RequestCompanies.Send({sessionId:ce.CurrentSessionId(),limitToIds:i});l.completeRequestPromise&&t.push(l.completeRequestPromise)}var c,u=e.json.contacts,d=[],v=Object(G["a"])(u);try{for(v.s();!(c=v.n()).done;){var f=c.value,h=f.value;null==h||y(h)||null!=tn.ForId(h)||d.push(h)}}catch(p){v.e(p)}finally{v.f()}if(un.PermContactsCanRequest()){var b=un.RequestContacts.Send({sessionId:ce.CurrentSessionId(),limitToIds:d});b.completeRequestPromise&&t.push(b.completeRequestPromise)}}}))}}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"AssignmentId",get:function(){return this.value&&this.value.assignment&&this.value.assignment.id?this.value.assignment.id:null}},{key:"ProjectName",get:function(){if(!this.value||!this.value.assignment||!this.value.assignment.json)return null;var e=this.value.assignment.json.projectId;if(!e||y(e))return null;var t=ze.ForId(e);return t&&t.json&&t.json.name&&!y(t.json.name)?t.json.name:null}},{key:"Addresses1Line",get:function(){var e,t=[];if(null===(e=this.value)||void 0===e||!e.assignment)return t;var n=this.value.assignment.json.projectId;if(!n||y(n))return t;var a=ze.ForId(n);if(!a)return t;var i,o=a.json.addresses,s=Object(G["a"])(o);try{for(s.s();!(i=s.n()).done;){var r=i.value,l=r.value;if(l&&(l=l.trim(),!y(l))){var c=l.split("\n",1)[0];t.push(c)}}}catch(u){s.e(u)}finally{s.f()}return t}},{key:"Headline",get:function(){if(!this.value||!this.value.assignment)return null;var e=this.value.assignment.json.projectId,t=ze.ForId(e);if(!e||y(e)||!t)return"No Project";var n,a=t.json.companies,i=Object(G["a"])(a);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=(o.label||"").trim();if(!y(s)&&(0==="General Contractor".localeCompare(s,"en",{sensitivity:"base",ignorePunctuation:!0})||0==="Managing Company".localeCompare(s,"en",{sensitivity:"base",ignorePunctuation:!0})||0==="General".localeCompare(s,"en",{sensitivity:"base",ignorePunctuation:!0}))){var r=o.value;if(!r||y(r))continue;var l=tn.NameForId(r);if(y(l))continue;return l}}}catch(h){i.e(h)}finally{i.f()}var c,u=t.json.contacts,d=Object(G["a"])(u);try{for(d.s();!(c=d.n()).done;){var m=c.value,v=(m.label||"").trim();if(!y(v)&&(0==="Homeowner".localeCompare(v,"en",{sensitivity:"base",ignorePunctuation:!0})||0==="Home Owner".localeCompare(v,"en",{sensitivity:"base",ignorePunctuation:!0})||0==="Contact".localeCompare(v,"en",{sensitivity:"base",ignorePunctuation:!0})||0==="Manager".localeCompare(v,"en",{sensitivity:"base",ignorePunctuation:!0}))){var p=m.value;if(!p||y(p))continue;var f=un.NameForId(p);if(y(f))continue;return f}}}catch(h){d.e(h)}finally{d.f()}return null}},{key:"ShowStartTimeInEvent",get:function(){return!!(this.value&&this.value.assignment&&this.value.assignment.id&&this.value.assignment.json)&&"time"===Ze.StartTimeModeForId(this.value.assignment.id)}},{key:"StartTimeExactSmall",get:function(){if(!this.value||!this.value.assignment||!this.value.assignment.id||!this.value.assignment.json||!this.value.assignment.json.startISO8601)return null;var e=Ze.StartISO8601ForId(this.value.assignment.id);return I["DateTime"].fromISO(e).toLocaleString(I["DateTime"].TIME_SIMPLE)}},{key:"SharedAssignment",get:function(){var e=this;if(!this.value||!this.value.assignment||!this.value.assignment.json)return null;var t=this.value.assignment.json.agentIds,n=F.a.filter(t,(function(t){return e.agentId!==t}));if(!n||0===n.length)return null;if(n.length>0){for(var a="Shared with ",i=0;i<n.length;i++){0!==i&&(a+=", "),0!==i&&i===n.length-1&&(a+="and ");var o=Pe.ForId(n[i]);a+=o?Pe.NameForId(n[i]):'"Unassigned"'}return a+=".",a}return null}},{key:"EventPaddingYPx",get:function(){return this.eventPaddingYPx}},{key:"EventPaddingXPx",get:function(){return this.eventPaddingXPx}},{key:"EventWidthPx",get:function(){return(this.minimized?this.cellWidthMinimizedPx:this.cellWidthPx)-2*this.eventPaddingXPx-1}},{key:"OnDoubleClick",value:function(){this.value&&this.value.assignment&&this.$router.push("/section/assignments/".concat(this.value.assignment.id,"?tab=General")).catch((function(e){}))}}]),n}(p["c"]));Object(v["a"])([Object(p["b"])({default:null})],F_.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:null})],F_.prototype,"agentId",void 0),Object(v["a"])([Object(p["b"])({default:1})],F_.prototype,"eventPaddingYPx",void 0),Object(v["a"])([Object(p["b"])({default:2})],F_.prototype,"eventPaddingXPx",void 0),Object(v["a"])([Object(p["b"])({default:!1})],F_.prototype,"minimized",void 0),Object(v["a"])([Object(p["b"])({default:150})],F_.prototype,"cellWidthPx",void 0),Object(v["a"])([Object(p["b"])({default:50})],F_.prototype,"cellWidthMinimizedPx",void 0),F_=Object(v["a"])([Object(p["a"])({components:{}})],F_);var q_=F_,G_=q_,$_=(n("470f"),Object(ha["a"])(G_,N_,E_,!1,null,"fad8364c",null)),U_=$_.exports,H_=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.ModifyOthersDialogue=!1,e.ModifyOthersDialogueChoice=null,e.ModifyOthersChangeData={assignmentId:null,startTimeMode:"none",hasStartISO8601:!1,startISO8601:null},e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"Events",get:function(){return Ze.ForSchedulerCell(this.agentId,this.date,this.isUnscheduled,this.isFirstAM,this.isSecondAM,this.isFirstPM,this.isSecondPM,this.localTimeStart,this.localTimeEnd)}},{key:"mounted",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(null!=e.agentId&&null==Pe.ForId(e.agentId)){var n=Pe.FetchForId(e.agentId);n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"move1",value:function(e,t){return!0}},{key:"OnChange",value:function(e){console.log("OnChange",e),e.hasOwnProperty("added")?this.OnAdded(e.added):e.hasOwnProperty("removed")?this.OnRemoved(e.removed):console.debug("unhandled event",e)}},{key:"OnAdded",value:function(e){console.log("OnAdded",e);var t=e.element.assignment;if(t&&t.id&&!y(t.id)){var n=Ze.ForId(t.id);if(n&&n.id&&n.json){void 0!==e.element.forAgentId&&Ze.RemoveAgentIdFromId(n.id,e.element.forAgentId),Ze.AddAgentIdsToId(n.id,this.agentId);var a=I["DateTime"].fromFormat(this.date,"yyyy-MM-dd",{zone:"local",setZone:!0}),i="none",o=!1,s=null;if(this.isUnscheduled)i="none",o=!1,s=null;else if(this.isFirstAM){var r=I["DateTime"].fromObject({year:a.year,month:a.month,day:a.day},{zone:"local"});i="morning-first-thing",o=!0,s=r.toUTC().toISO()}else if(this.isSecondAM){var l=I["DateTime"].fromObject({year:a.year,month:a.month,day:a.day},{zone:"local"});i="morning-second-thing",o=!0,s=l.toUTC().toISO()}else if(this.isFirstPM){var c=I["DateTime"].fromObject({year:a.year,month:a.month,day:a.day},{zone:"local"});i="afternoon-first-thing",o=!0,s=c.toUTC().toISO()}else if(this.isSecondPM){var u=I["DateTime"].fromObject({year:a.year,month:a.month,day:a.day},{zone:"local"});i="afternoon-second-thing",o=!0,s=u.toUTC().toISO()}else if(this.localTimeStart&&this.localTimeEnd){var d=I["DateTime"].fromObject({year:a.year,month:a.month,day:a.day,hour:this.localTimeStart.hour||0,minute:this.localTimeStart.minute||0,second:this.localTimeStart.second||0},{zone:"local"});i="time",o=!0,s=d.toUTC().toISO()}var m=ze.ForId(n.json.projectId);if(m&&m.id){var v=Ze.ForProjectIds([m.id]);m.json.forceAssignmentsToUseProjectSchedule?v.length>1?(console.debug("set to force others confirm"),this.ModifyOthersDialogueChoice=null,this.ModifyOthersDialogue=!0,this.ModifyOthersChangeData={assignmentId:t.id,startTimeMode:i,hasStartISO8601:o,startISO8601:s}):(ze.UpdateStartTimeForId(m.id,{startTimeMode:i,hasStartISO8601:o,startISO8601:s}),Ze.UpdateStartTimeForId(t.id,{startTimeMode:i,hasStartISO8601:o,startISO8601:s})):(console.debug("not set to force others, just update time"),Ze.UpdateStartTimeForId(t.id,{startTimeMode:i,hasStartISO8601:o,startISO8601:s}))}else console.debug("no project just update time"),Ze.UpdateStartTimeForId(t.id,{startTimeMode:i,hasStartISO8601:o,startISO8601:s})}}else console.error("SchedulerCell.OnAdded added invalid object",e)}},{key:"ModifyOthersDialogueCallback",value:function(){switch(console.log("ModifyOthersDialogueCallback",this.ModifyOthersDialogueChoice,this.ModifyOthersChangeData),this.ModifyOthersDialogueChoice){case"MoveJustThisAssignment":do{var e=Ze.ForId(this.ModifyOthersChangeData.assignmentId);if(!e||!e.id)break;var t=e.json.projectId;if(!t)break;ze.UpdateForceAssignmentsToUseProjectScheduleForId(t,!1),Ze.UpdateStartTimeForId(e.id,this.ModifyOthersChangeData),this.ModifyOthersDialogueChoice=null,this.ModifyOthersDialogue=!1}while(0);break;case"ChangeOtherAssignments":do{var n=Ze.ForId(this.ModifyOthersChangeData.assignmentId);if(!n||!n.id)break;var a=n.json.projectId;if(!a)break;ze.UpdateStartTimeForId(a,this.ModifyOthersChangeData);var i,o=Ze.ForProjectIds([a]),s=Object(G["a"])(o);try{for(s.s();!(i=s.n()).done;){var r=i.value;r.id&&Ze.UpdateStartTimeForId(r.id,this.ModifyOthersChangeData)}}catch(l){s.e(l)}finally{s.f()}this.ModifyOthersDialogueChoice=null,this.ModifyOthersDialogue=!1}while(0);break;default:console.error("no option selected in dialogue"),D.AddNotification({severity:"error",message:"You must select an option below, or cancel.",autoClearInSeconds:10});break}}},{key:"OnRemoved",value:function(e){}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:!1})],H_.prototype,"minimized",void 0),Object(v["a"])([Object(p["b"])({default:150})],H_.prototype,"cellWidthPx",void 0),Object(v["a"])([Object(p["b"])({default:50})],H_.prototype,"cellWidthMinimizedPx",void 0),Object(v["a"])([Object(p["b"])({default:null})],H_.prototype,"agentId",void 0),Object(v["a"])([Object(p["b"])({default:!1})],H_.prototype,"isUnscheduled",void 0),Object(v["a"])([Object(p["b"])({default:!1})],H_.prototype,"isFirstAM",void 0),Object(v["a"])([Object(p["b"])({default:!1})],H_.prototype,"isSecondAM",void 0),Object(v["a"])([Object(p["b"])({default:!1})],H_.prototype,"isFirstPM",void 0),Object(v["a"])([Object(p["b"])({default:!1})],H_.prototype,"isSecondPM",void 0),Object(v["a"])([Object(p["b"])({default:null})],H_.prototype,"localTimeStart",void 0),Object(v["a"])([Object(p["b"])({default:null})],H_.prototype,"localTimeEnd",void 0),Object(v["a"])([Object(p["b"])({default:null})],H_.prototype,"date",void 0),H_=Object(v["a"])([Object(p["a"])({components:{Draggable:L_.a,SchedulerEvent:U_}})],H_);var W_=H_,K_=W_,z_=(n("03d3"),Object(ha["a"])(K_,T_,V_,!1,null,"3a1801b8",null)),J_=z_.exports;ga()(z_,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VSpacer:_a["a"]});var Y_=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e._LoadDataTimeout=null,e.resizeObserver=null,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[],n=e.agentId;if(null==Pe.ForId(n)){var a=Pe.FetchForId(n);a.completeRequestPromise&&t.push(a.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.PushSize()})),this.resizeObserver.observe(this.$el),this.LoadData()}},{key:"Unscheduled",get:function(){return console.log(this.$store.state.Database.assignments),[]}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.resizeObserver.unobserve(this.$el)}},{key:"PushSize",value:function(){var e=document.querySelector(this.pushHeightTargetSelector);null!=e&&(e.style.height="".concat(this.$el.getBoundingClientRect().height,"px"))}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:150})],Y_.prototype,"cellWidthPx",void 0),Object(v["a"])([Object(p["b"])({default:50})],Y_.prototype,"cellWidthMinimizedPx",void 0),Object(v["a"])([Object(p["b"])({default:null})],Y_.prototype,"pushHeightTargetSelector",void 0),Object(v["a"])([Object(p["b"])({default:null})],Y_.prototype,"agentId",void 0),Object(v["a"])([Object(p["b"])({default:null})],Y_.prototype,"date",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Y_.prototype,"columns",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],Y_.prototype,"minimizedColumns",void 0),Y_=Object(v["a"])([Object(p["a"])({components:{SchedulerCell:J_}})],Y_);var Q_=Y_,X_=Q_,Z_=Object(ha["a"])(X_,M_,A_,!1,null,"b26f0dd0",null),ew=Z_.exports,tw=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base",style:{minWidth:(e.minimized?e.cellWidthMinimizedPx:e.cellWidthPx)+"px",display:"flex",alignItems:"flex-end"}},[n("div",{class:{headerTextMinimized:e.minimized}},[e._v(" "+e._s(e.minimized?e.column.columnHeaderMinimized:e.column.columnHeader)+" ")])])},nw=[],aw=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.call(this)}return n}(p["c"]);Object(v["a"])([Object(p["b"])({default:!1})],aw.prototype,"minimized",void 0),Object(v["a"])([Object(p["b"])({default:150})],aw.prototype,"cellWidthPx",void 0),Object(v["a"])([Object(p["b"])({default:50})],aw.prototype,"cellWidthMinimizedPx",void 0),Object(v["a"])([Object(p["b"])({default:null})],aw.prototype,"column",void 0),aw=Object(v["a"])([Object(p["a"])({components:{}})],aw);var iw=aw,ow=iw,sw=(n("3d2c"),Object(ha["a"])(ow,tw,nw,!1,null,"f3797338",null)),rw=sw.exports,lw=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e.showDateSelect=!1,e.columns=[{type:"unscheduled",columnHeader:"Unscheduled",columnHeaderMinimized:"Unscheduled",localTimeStart:null,localTimeEnd:null},{type:"am1",columnHeader:"1st AM",columnHeaderMinimized:"1st AM",localTimeStart:null,localTimeEnd:null},{type:"am2",columnHeader:"2nd AM",columnHeaderMinimized:"2nd AM",localTimeStart:null,localTimeEnd:null},{type:"pm1",columnHeader:"1st PM",columnHeaderMinimized:"1st PM",localTimeStart:null,localTimeEnd:null},{type:"pm2",columnHeader:"2nd PM",columnHeaderMinimized:"2nd PM",localTimeStart:null,localTimeEnd:null},{type:"timespan",columnHeader:"Before Hours",columnHeaderMinimized:"Before",localTimeStart:{hour:0,minute:0,second:0},localTimeEnd:{hour:7,minute:59,second:59}},{type:"timespan",columnHeader:"8:00 AM",columnHeaderMinimized:"8 AM",localTimeStart:{hour:8,minute:0,second:0},localTimeEnd:{hour:8,minute:59,second:59}},{type:"timespan",columnHeader:"9:00 AM",columnHeaderMinimized:"9 AM",localTimeStart:{hour:9,minute:0,second:0},localTimeEnd:{hour:9,minute:59,second:59}},{type:"timespan",columnHeader:"10:00 AM",columnHeaderMinimized:"10 AM",localTimeStart:{hour:10,minute:0,second:0},localTimeEnd:{hour:10,minute:59,second:59}},{type:"timespan",columnHeader:"11:00 AM",columnHeaderMinimized:"11 AM",localTimeStart:{hour:11,minute:0,second:0},localTimeEnd:{hour:11,minute:59,second:59}},{type:"timespan",columnHeader:"12:00 PM",columnHeaderMinimized:"12 PM",localTimeStart:{hour:12,minute:0,second:0},localTimeEnd:{hour:12,minute:59,second:59}},{type:"timespan",columnHeader:"1:00 PM",columnHeaderMinimized:"1 PM",localTimeStart:{hour:13,minute:0,second:0},localTimeEnd:{hour:13,minute:59,second:59}},{type:"timespan",columnHeader:"2:00 PM",columnHeaderMinimized:"2 PM",localTimeStart:{hour:14,minute:0,second:0},localTimeEnd:{hour:14,minute:59,second:59}},{type:"timespan",columnHeader:"3:00 PM",columnHeaderMinimized:"3 PM",localTimeStart:{hour:15,minute:0,second:0},localTimeEnd:{hour:15,minute:59,second:59}},{type:"timespan",columnHeader:"4:00 PM",columnHeaderMinimized:"4 PM",localTimeStart:{hour:16,minute:0,second:0},localTimeEnd:{hour:16,minute:59,second:59}},{type:"timespan",columnHeader:"5:00 PM",columnHeaderMinimized:"5 PM",localTimeStart:{hour:17,minute:0,second:0},localTimeEnd:{hour:17,minute:59,second:59}},{type:"timespan",columnHeader:"After Hours",columnHeaderMinimized:"After",localTimeStart:{hour:18,minute:0,second:0},localTimeEnd:{hour:23,minute:59,second:59}}],e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(Pe.PermAgentsCanRequest()){var n=Pe.RequestAgents.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}if(Ze.PermAssignmentCanRequest()){var a=Ze.RequestAssignments.Send({sessionId:ce.CurrentSessionId()});a.completeRequestPromise&&t.push(a.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"HasMinimizedColumns",get:function(){var e,t=Object(G["a"])(this.MinimizedColumns);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n)return!0}}catch(a){t.e(a)}finally{t.f()}return!1}},{key:"MinimizedColumns",get:function(){var e,t=[],n=Object(G["a"])(this.columns);try{for(n.s();!(e=n.n()).done;){var a=e.value;switch(a.type){case"unscheduled":var i=Ze.ForSchedulerMinimization({date:this.date,isUnscheduled:!0,isFirstAM:!1,isSecondAM:!1,isFirstPM:!1,isSecondPM:!1,localTimeStart:null,localTimeEnd:null});t.push(!i);break;case"am1":var o=Ze.ForSchedulerMinimization({date:this.date,isUnscheduled:!1,isFirstAM:!0,isSecondAM:!1,isFirstPM:!1,isSecondPM:!1,localTimeStart:null,localTimeEnd:null});t.push(!o);break;case"am2":var s=Ze.ForSchedulerMinimization({date:this.date,isUnscheduled:!1,isFirstAM:!1,isSecondAM:!0,isFirstPM:!1,isSecondPM:!1,localTimeStart:null,localTimeEnd:null});t.push(!s);break;case"pm1":var r=Ze.ForSchedulerMinimization({date:this.date,isUnscheduled:!1,isFirstAM:!1,isSecondAM:!1,isFirstPM:!0,isSecondPM:!1,localTimeStart:null,localTimeEnd:null});t.push(!r);break;case"pm2":var l=Ze.ForSchedulerMinimization({date:this.date,isUnscheduled:!1,isFirstAM:!1,isSecondAM:!1,isFirstPM:!1,isSecondPM:!0,localTimeStart:null,localTimeEnd:null});t.push(!l);break;case"timespan":var c=Ze.ForSchedulerMinimization({date:this.date,isUnscheduled:!1,isFirstAM:!1,isSecondAM:!1,isFirstPM:!1,isSecondPM:!1,localTimeStart:a.localTimeStart,localTimeEnd:a.localTimeEnd});t.push(!c);break}}}catch(u){n.e(u)}finally{n.f()}return t}},{key:"Rows",get:function(){var e=this,t=F.a.filter(this.$store.state.Database.agents,(function(t){var n=!0;do{var a=t.json.employmentStatusId;if(null==a||y(a)){n=!1;break}var i=sn.ForId(a);if(null==i){n=!1;break}if(!1===i.json.shouldBeListedInScheduler){n=!1;break}var o="";o+=t.json.name,o=o.replace(/\W/g,""),o=o.toLowerCase();var s=e.filter.toLowerCase();if(s=s.replace(/\W/g,""),-1===o.indexOf(s)){n=!1;break}}while(0);return n})),n=F.a.sortBy(t,(function(e){return e.json.name}));return n}},{key:"GoToPreviousDate",value:function(){var e=I["DateTime"].fromFormat(this.date,"yyyy-MM-dd",{zone:"local",setZone:!0}),t=e.minus({days:1}),n=t.toFormat("yyyy-MM-dd");console.debug("newDate",n),this.$emit("OnDateChanged",n)}},{key:"GoToNextDate",value:function(){var e=I["DateTime"].fromFormat(this.date,"yyyy-MM-dd",{zone:"local",setZone:!0}),t=e.plus({days:1}),n=t.toFormat("yyyy-MM-dd");this.$emit("OnDateChanged",n)}},{key:"mounted",value:function(){this.LoadData()}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:150})],lw.prototype,"cellWidthPx",void 0),Object(v["a"])([Object(p["b"])({default:40})],lw.prototype,"cellWidthMinimizedPx",void 0),Object(v["a"])([Object(p["b"])({default:function(){return I["DateTime"].local().toFormat("yyyy-MM-dd")}})],lw.prototype,"date",void 0),lw=Object(v["a"])([Object(p["a"])({components:{ScrollSync:R_.a,AgentsListItem:ws,SchedulerRow:ew,SchedulerHeader:rw,SchedulerCell:J_,Draggable:L_.a},props:{}})],lw);var cw=lw,uw=cw,dw=(n("6ecc"),Object(ha["a"])(uw,__,w_,!1,null,"36f60d2d",null)),mw=dw.exports;ga()(dw,{VBtn:ya["a"],VDatePicker:Do["a"],VIcon:ka["a"],VListItemGroup:to["a"],VMenu:pi["a"],VTextField:wa["a"]});var vw=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Scheduler:0,scheduler:0,Unassigned:1,unassigned:1,"Open & Assigned":2,"open & assigned":2,Open:2,open:2,Closed:3,closed:3},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Assignments",disabled:!0,to:"/section/assignments/index"}],e.CSVDownloadAssignments=sr,e.DialoguesOpen=ca.Open,e.PermAssignmentCanRequest=Ze.PermAssignmentCanRequest,e.PermProjectsCanPush=ze.PermProjectsCanPush,e.PermContactsCanPush=un.PermContactsCanPush,e.PermAssignmentCanPush=Ze.PermAssignmentCanPush,e.PermCRMReportAssignmentPDF=Ze.PermCRMReportAssignmentPDF,e.PermCRMExportAssignmentCSV=Ze.PermCRMExportAssignmentCSV,e.schedulerDate=I["DateTime"].local().toFormat("yyyy-MM-dd"),e.loadingData=!1,e.addAssignmentModel=null,e.addAssignmentOpen=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.scheduler||!this.$refs.scheduler.IsLoadingData)||(!(!this.$refs.unassignedList||!this.$refs.unassignedList.IsLoadingData)||(!(!this.$refs.openList||!this.$refs.openList.IsLoadingData)||(!(!this.$refs.closedList||!this.$refs.closedList.IsLoadingData)||this.loadingData)))}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.scheduler&&this.$refs.scheduler.LoadData(),this.$refs.unassignedList&&this.$refs.unassignedList.LoadData(),this.$refs.openList&&this.$refs.openList.LoadData(),this.$refs.closedList&&this.$refs.closedList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),y(this.$route.query.schedulerDate)?this.schedulerDate=I["DateTime"].local().toFormat("yyyy-MM-dd"):this.schedulerDate=this.$route.query.schedulerDate,this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"OnClickNewCall",value:function(){console.log("OnClickNewCall()"),ca.Open({name:"NewCallDialogue",state:{}})}},{key:"DoPrint",value:function(){ca.Open({name:"AssignmentReportDialogue",state:{allLoadedProjects:!1}})}},{key:"OnSchedulerDateChanged",value:function(e){this.schedulerDate=e,this.$router.replace({query:Object(Di["a"])(Object(Di["a"])({},this.$route.query),{},{schedulerDate:e})}).catch((function(){}))}},{key:"OpenAddAssignment",value:function(){var e=this;this.addAssignmentModel=Ze.GetEmpty(),this.addAssignmentOpen=!0,requestAnimationFrame((function(){e.$refs.addAssignmentDialogue&&e.$refs.addAssignmentDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddAssignment",value:function(){this.addAssignmentOpen=!1}},{key:"SaveAddAssignment",value:function(){if(this.addAssignmentOpen=!1,this.addAssignmentModel&&this.addAssignmentModel.id&&!y(this.addAssignmentModel.id)){var e={};e[this.addAssignmentModel.id]=this.addAssignmentModel,Ze.UpdateIds(e),this.$router.push("/section/assignments/".concat(this.addAssignmentModel.id,"?tab=General")).catch((function(e){}))}else console.error("!this.addAssignmentModel || !this.addAssignmentModel.id || IsNullOrEmpty(this.addAssignmentModel.id)")}}]),n}(AO);vw=Object(v["a"])([Object(p["a"])({components:{AssignmentsList:io,AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,Scheduler:mw,ReloadButton:ms,AddAssignmentDialogue2:Gl,NotificationBellButton:hl}})],vw);var pw=vw,fw=pw,hw=Object(ha["a"])(fw,k_,D_,!1,null,"04b42d50",null),bw=hw.exports;ga()(hw,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var gw=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Materials"})}).catch((function(e){}))}}},[e._v(" Materials ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Materials")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportMaterialsPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportMaterialsCSV()},on:{click:function(t){return e.CSVDownloadMaterials()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("MaterialsDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-materials-index-add-material",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermMaterialsCanPush()},on:{click:function(t){return e.AddMaterial()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_grocery_store")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Material")])],1)],1)],1)],1)],1)],1)},yw=[],Cw=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-materials-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermMaterialsCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllMaterials,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.quantity",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.quantity)+" "+e._s(a.json.quantityUnit||"❌"))])]}},{key:"item.json.projectId",fn:function(t){var a=t.item;return[n("DataLoaderProject",{attrs:{projectId:a.json.projectId}},[a&&a.json&&a.json.projectId?n("router-link",{attrs:{to:"/section/projects/"+a.json.projectId+"?tab=Materials"}},[e._v(" "+e._s(e.ProjectCombinedDescriptionForId(a.json.projectId))+" ")]):e._e()],1)]}},{key:"item.json.dateUsedISO8601",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.ISO8601ToLocalDateOnly(n.json.dateUsedISO8601))+" ")]}},{key:"item.json.productId",fn:function(t){var a=t.item;return[n("DataLoaderProduct",{attrs:{productId:a.json.productId}},[e._v(" "+e._s(e.ProductNameForId(a.json.productId))+" ")])]}},{key:"item.json.isBilled",fn:function(t){var a=t.item;return[a.json.isBilled?n("span",[e._v("✔")]):n("span",[e._v("❌")])]}},{key:"item.json.isExtra",fn:function(t){var a=t.item;return[a.json.isExtra?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermMaterialsCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermMaterialsCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},jw=[],Sw=function(e,t){var n=null,a=null;return n=null==e?"?":ye(e),a=null==t?"?":ye(t),n===a?n:"".concat(n,"—").concat(a)},Iw=function(e,t){var n=I["DateTime"].fromISO(e),a=n.toLocal(),i=I["DateTime"].fromISO(t),o=i.toLocal(),s=o.diff(a,["hours","minutes","seconds"]).toObject();return s.hasOwnProperty("hours")&&s.hasOwnProperty("minutes")&&s.hasOwnProperty("seconds")?s:(console.error("DataTableBase.Difference() !res",s,e,t),{hours:-9999,minutes:-9999,seconds:-9999})},Pw=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.DialoguesOpen=ca.Open,e.ISO8601ToLocalDatetime=Ce,e.ISO8601ToLocalDateOnly=ye,e.ISO8601LocalDateOnlyTimeSpan=Sw,e.ISO8601Difference=Iw,e.AssignmentWorkDescriptionForId=Ze.WorkDescriptionForId,e.ProjectNameForId=ze.NameForId,e.ProjectCombinedDescriptionForId=ze.CombinedDescriptionForId,e.ProjectAddressForId=ze.AddressForId,e.ProductNameForId=xn.NameForId,e.AgentNameForId=Pe.NameForId,e.LabourTypeIconForId=_e.IconForId,e.LabourTypeNameForId=_e.NameForId,e.LabourTypeIsBillableForId=_e.IsBillableForId,e.LabourTypeIsHolidayForId=_e.IsHolidayForId,e.LabourTypeIsNonBillableForId=_e.IsNonBillableForId,e.LabourTypeIsExceptionForId=_e.IsExceptionForId,e.LabourTypeIsPayOutBankedForId=_e.IsPayOutBankedForId,e.LabourSubtypeExceptionNameForId=Me.NameForId,e.LabourSubtypeExceptionIconForId=Me.IconForId,e.LabourSubtypeHolidayNameForId=Be.NameForId,e.LabourSubtypeHolidayIconForId=Be.IconForId,e.LabourSubtypeNonBillableNameForId=Fe.NameForId,e.LabourSubtypeNonBillableIconForId=Fe.IconForId,e}return n}(p["c"]);Object(v["a"])([Object(p["b"])({default:!1})],Pw.prototype,"disabled",void 0),Pw=Object(v["a"])([Object(p["a"])({components:{}})],Pw);var Ow=Pw,kw=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[e._t("default")],2)],1)},Dw=[],_w=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null==xn.ForId(e.productId)){var t=[];if(xn.PermProductsCanRequest()){var n=xn.FetchForId(e.productId);n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"productIdChanged",value:function(e,t){this.LoadData()}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],_w.prototype,"productId",void 0),Object(v["a"])([Object(p["d"])("productId")],_w.prototype,"productIdChanged",null),_w=Object(v["a"])([Object(p["a"])({components:{}})],_w);var ww=_w,xw=ww,Rw=Object(ha["a"])(xw,kw,Dw,!1,null,"4c6dd23c",null),Mw=Rw.exports,Aw=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Date Used",value:"json.dateUsedISO8601",align:"center",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Project",value:"json.projectId",align:"left",sort:function(e,t){var n=ze.CombinedDescriptionForId(e),a=ze.CombinedDescriptionForId(t);return n.localeCompare(a)}},{text:"Quantity",value:"json.quantity",align:"left",sortable:!1},{text:"Product",value:"json.productId",align:"left",sort:function(t,n){var a=e.ProductNameForId(t)||"",i=e.ProductNameForId(n)||"";return a.localeCompare(i)}},{text:"Extra",value:"json.isExtra",align:"center",sort:function(e,t){var n=e?"yes":"no",a=t?"yes":"no";return n.localeCompare(a)}},{text:"Billed",value:"json.isBilled",align:"center",sort:function(e,t){var n=e?"yes":"no",a=t?"yes":"no";return n.localeCompare(a)}},{text:"Location",value:"json.location",align:"center",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermMaterialsCanRequest=gn.PermMaterialsCanRequest,e.PermMaterialsCanDelete=gn.PermMaterialsCanDelete,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllMaterials",get:function(){return Object.values(this.$store.state.Database.materials)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(gn.PermMaterialsCanRequest()){var n=gn.RequestMaterials.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.dateUsedISO8601||y(n.json.dateUsedISO8601)||(a=""+this.ISO8601ToLocalDateOnly(n.json.dateUsedISO8601),i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(!(!n.json.projectId||y(n.json.projectId)||(a=""+ze.CombinedDescriptionForId(n.json.projectId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(a=n.json.quantity+" "+n.json.quantityUnit,i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+this.ProductNameForId(n.json.productId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.location,i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=n.json.isExtra?"extra":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=n.json.isBilled?"extra":"billed",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i))))))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyMaterialDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteMaterialDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);Aw=Object(v["a"])([Object(p["a"])({components:{DataLoaderProject:ho,DataLoaderProduct:Mw,PermissionsDeniedAlert:Qi}})],Aw);var Tw=Aw,Vw=Tw,Bw=Object(ha["a"])(Vw,Cw,jw,!1,null,null,null),Lw=Bw.exports;ga()(Bw,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var Nw=function(){var e=ra.state.Database.materials;if(e){for(var t=[["Export Type:","Materials","Export Version:","CSV1"],["id","lastModifiedISO8601","lastModifiedBillingId","dateUsedISO8601","projectId","quantity","quantityUnit","productId","isExtra","isBilled","location","notes"]],n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.lastModifiedISO8601||"",i.json.lastModifiedBillingId||"",i.json.dateUsedISO8601||"",i.json.projectId||"","".concat(i.json.quantity)||"",i.json.quantityUnit||"",i.json.productId||"",i.json.isExtra?"YES":"NO",i.json.isBilled?"YES":"NO",i.json.location||"",i.json.notes||""])}Eo("Materials-All.csv",t)}},Ew=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Material Entries",disabled:!0,to:"/section/material-entries/index"}],e.CSVDownloadMaterials=Nw,e.PermMaterialsCanPush=gn.PermMaterialsCanPush,e.PermCRMReportMaterialsPDF=gn.PermCRMReportMaterialsPDF,e.PermCRMExportMaterialsCSV=gn.PermCRMExportMaterialsCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"DoPrint",value:function(){ca.Open({name:"MaterialsReportDialogue",state:{allLoadedMaterials:!0}})}},{key:"AddMaterial",value:function(){ca.Open({name:"ModifyMaterialDialogue",state:null})}}]),n}(AO);Ew=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,MaterialsDataTable:Lw,ReloadButton:ms,NotificationBellButton:hl}})],Ew);var Fw=Ew,qw=Fw,Gw=Object(ha["a"])(qw,gw,yw,!1,null,null,null),$w=Gw.exports;ga()(Gw,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var Uw=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Products"})}).catch((function(e){}))}}},[e._v(" Products ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Product Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportProductsCSV()},on:{click:function(t){return e.CSVDownloadProducts()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("ProductsDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-products-definitons-add-product",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProductsCanPush()},on:{click:function(t){return e.AddProduct()}}},[n("v-list-item-icon",[n("v-icon",[e._v("local_grocery_store")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Product")])],1)],1)],1)],1)],1)],1)},Hw=[],Ww=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-products-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermProductsCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllProducts,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.json.quantityUnit",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.json.quantityUnit)+" ")]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProductsCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProductsCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},Kw=[],zw=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Quantity Unit",value:"json.quantityUnit",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermProductsCanRequest=xn.PermProductsCanRequest,e.PermProductsCanPush=xn.PermProductsCanPush,e.PermProductsCanDelete=xn.PermProductsCanDelete,e.loadingData=!1,e.resizeObserver=null,e.closestMain=null,e}return Object(u["a"])(n,[{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(xn.PermProductsCanRequest()){var n=xn.RequestProducts.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"AllProducts",get:function(){return Object.values(this.$store.state.Database.products)}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||!(!n.json.quantityUnit||y(n.json.quantityUnit)||(a=""+n.json.quantityUnit,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyProductDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteProductDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);zw=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],zw);var Jw=zw,Yw=Jw,Qw=Object(ha["a"])(Yw,Ww,Kw,!1,null,null,null),Xw=Qw.exports;ga()(Qw,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var Zw=function(){var e=ra.state.Database.products;if(e){var t=[];t.push(["Export Type:","ProductDefinitions","Export Version:","CSV1"]),t.push(["id","name","quantityUnit"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||"",i.json.quantityUnit||""])}Eo("ProductDefinitions-All.csv",t)}},ex=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Product Definitions",disabled:!0,to:"/section/product-definitions"}],e.PermProductsCanPush=xn.PermProductsCanPush,e.CSVDownloadProducts=Zw,e.PermCRMExportProductsCSV=xn.PermCRMExportProductsCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddProduct",value:function(){ca.Open({name:"ModifyProductDialogue",state:null})}}]),n}(AO);ex=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ProductsDataTable:Xw,ReloadButton:ms,NotificationBellButton:hl}})],ex);var tx=ex,nx=tx,ax=Object(ha["a"])(nx,Uw,Hw,!1,null,null,null),ix=ax.exports;ga()(ax,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var ox=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Types"})}).catch((function(e){}))}}},[e._v(" Types ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Non Billable Labour Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportLabourSubtypeNonBillableCSV()},on:{click:function(t){return e.CSVDownloadLabourSubtypeNonBillable()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("LabourNonBillableDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-labour-non-billable-add-definition",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermLabourSubtypeNonBillableCanPush()},on:{click:function(t){return e.AddContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Entry")])],1)],1)],1)],1)],1)],1)},sx=[],rx=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-labour-non-billable-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermLabourSubtypeNonBillableCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllLabourNonBillable,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.json.description",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.description))])]}},{key:"item.json.icon",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.icon))])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourSubtypeNonBillableCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourSubtypeNonBillableCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},lx=[],cx=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Description",value:"json.description",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Icon",value:"json.icon",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermLabourSubtypeNonBillableCanPush=Fe.PermLabourSubtypeNonBillableCanPush,e.PermLabourSubtypeNonBillableCanRequest=Fe.PermLabourSubtypeNonBillableCanRequest,e.PermLabourSubtypeNonBillableCanDelete=Fe.PermLabourSubtypeNonBillableCanDelete,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllLabourNonBillable",get:function(){return Object.values(this.$store.state.Database.labourSubtypeNonBillable)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(Fe.PermLabourSubtypeNonBillableCanRequest()){var n=Fe.RequestLabourSubtypeNonBillable.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(!(!n.json.description||y(n.json.description)||(a=""+n.json.description,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||!(!n.json.icon||y(n.json.icon)||(a=""+n.json.icon,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i)))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyLabourNonBillableDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteLabourNonBillableDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);cx=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],cx);var ux=cx,dx=ux,mx=Object(ha["a"])(dx,rx,lx,!1,null,null,null),vx=mx.exports;ga()(mx,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var px=function(){var e=ra.state.Database.labourSubtypeNonBillable;if(e){var t=[];t.push(["Export Type:","LabourNonBillableDefinitions","Export Version:","CSV1"]),t.push(["id","name","description","icon"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||"",i.json.description||"",i.json.icon||""])}Eo("LabourNonBillableDefinitions-All.csv",t)}},fx=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Non Billable Types",disabled:!0,to:"/section/labour-non-billable-definitions"}],e.DialoguesOpen=ca.Open,e.CSVDownloadLabourSubtypeNonBillable=px,e.PermLabourSubtypeNonBillableCanPush=Fe.PermLabourSubtypeNonBillableCanPush,e.PermLabourSubtypeNonBillableCanRequest=Fe.PermLabourSubtypeNonBillableCanRequest,e.PermLabourSubtypeNonBillableCanDelete=Fe.PermLabourSubtypeNonBillableCanDelete,e.PermCRMExportLabourSubtypeNonBillableCSV=Fe.PermCRMExportLabourSubtypeNonBillableCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddContact",value:function(){ca.Open({name:"ModifyLabourNonBillableDialogue",state:null})}}]),n}(AO);fx=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,LabourNonBillableDataTable:vx,ReloadButton:ms,NotificationBellButton:hl}})],fx);var hx=fx,bx=hx,gx=Object(ha["a"])(bx,ox,sx,!1,null,null,null),yx=gx.exports;ga()(gx,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var Cx=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Holidays"})}).catch((function(e){}))}}},[e._v(" Holidays ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Labour Holiday Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportLabourSubtypeHolidayCSV()},on:{click:function(t){return e.CSVDownloadLabourSubtypeHolidays()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("LabourHolidayDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-labour-holidays-definitions-add-definition",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermLabourSubtypeHolidayCanPush()},on:{click:function(t){return e.AddContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Entry")])],1)],1)],1)],1)],1)],1)},jx=[],Sx=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-labour-holiday-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermLabourSubtypeHolidayCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllLabourHolidays,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.json.description",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.description))])]}},{key:"item.json.icon",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.icon))])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourSubtypeHolidayCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourSubtypeHolidayCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},Ix=[],Px=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Description",value:"json.description",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Icon",value:"json.icon",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Static Date",value:"json.isStaticDate",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Static Month",value:"json.staticDateMonth",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Static Day",value:"json.staticDateDay",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Is Observation Day",value:"json.isObservationDay",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Observation Day Static",value:"json.observationDayStatic",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Observation Day Static Month",value:"json.observationDayStaticMonth",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Observation Day Static Day",value:"json.observationDayStaticDay",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Observation Day Activate If Weekend",value:"json.observationDayActivateIfWeekend",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"First Monday In Month Date",value:"json.isFirstMondayInMonthDate",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"First Monday Month",value:"json.firstMondayMonth",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Good Friday",value:"json.isGoodFriday",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Third Monday In Month Date",value:"json.isThirdMondayInMonthDate",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Third Monday Month",value:"json.thirdMondayMonth",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Second Monday In Month Date",value:"json.isSecondMondayInMonthDate",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Second Monday Month",value:"json.secondMondayMonth",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Monday Before Date",value:"json.isMondayBeforeDate",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Monday Before Date Month",value:"json.mondayBeforeDateMonth",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Monday Before Date Day",value:"json.mondayBeforeDateDay",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermLabourSubtypeHolidayCanRequest=Be.PermLabourSubtypeHolidayCanRequest,e.PermLabourSubtypeHolidayCanPush=Be.PermLabourSubtypeHolidayCanPush,e.PermLabourSubtypeHolidayCanDelete=Be.PermLabourSubtypeHolidayCanDelete,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllLabourHolidays",get:function(){return Object.values(this.$store.state.Database.labourSubtypeHolidays)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(Be.PermLabourSubtypeHolidayCanRequest()){var n=Be.RequestLabourSubtypeHolidays.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(!(!n.json.description||y(n.json.description)||(a=""+n.json.description,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||!(!n.json.icon||y(n.json.icon)||(a=""+n.json.icon,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i)))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyLabourHolidayDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteLabourHolidayDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);Px=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],Px);var Ox=Px,kx=Ox,Dx=Object(ha["a"])(kx,Sx,Ix,!1,null,null,null),_x=Dx.exports;ga()(Dx,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var wx=function(){var e=ra.state.Database.labourSubtypeHolidays;if(e){var t=[];t.push(["Export Type:","LabourHolidayDefinitions","Export Version:","CSV1"]),t.push(["id","name","icon","description","isStaticDate","staticDateMonth","staticDateDay","isObservationDay","observationDayStatic","observationDayStaticMonth","observationDayStaticDay","observationDayActivateIfWeekend","isFirstMondayInMonthDate","firstMondayMonth","isGoodFriday","isThirdMondayInMonthDate","thirdMondayMonth","isSecondMondayInMonthDate","secondMondayMonth","isMondayBeforeDate","mondayBeforeDateMonth","mondayBeforeDateDay"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||"",i.json.icon||"",i.json.description||"",i.json.isStaticDate?"YES":"NO","".concat(i.json.staticDateMonth||""),"".concat(i.json.staticDateDay||"")||"",i.json.isObservationDay?"YES":"NO",i.json.observationDayStatic?"YES":"NO","".concat(i.json.observationDayStaticMonth||"")||"","".concat(i.json.observationDayStaticDay||"")||"",i.json.observationDayActivateIfWeekend?"YES":"NO",i.json.isFirstMondayInMonthDate?"YES":"NO","".concat(i.json.firstMondayMonth||"")||"",i.json.isGoodFriday?"YES":"NO",i.json.isThirdMondayInMonthDate?"YES":"NO","".concat(i.json.thirdMondayMonth||"")||"",i.json.isSecondMondayInMonthDate?"YES":"NO","".concat(i.json.secondMondayMonth||"")||"",i.json.isMondayBeforeDate?"YES":"NO","".concat(i.json.mondayBeforeDateMonth||"")||"","".concat(i.json.mondayBeforeDateDay||"")||""])}Eo("LabourHolidayDefinitions-All.csv",t)}},xx=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Labour Holiday Definitions",disabled:!0,to:"/section/labour-holiday-definitions"}],e.DialoguesOpen=ca.Open,e.CSVDownloadLabourSubtypeHolidays=wx,e.PermLabourSubtypeHolidayCanPush=Be.PermLabourSubtypeHolidayCanPush,e.PermLabourSubtypeHolidayCanRequest=Be.PermLabourSubtypeHolidayCanRequest,e.PermLabourSubtypeHolidayCanDelete=Be.PermLabourSubtypeHolidayCanDelete,e.PermCRMExportLabourSubtypeHolidayCSV=Be.PermCRMExportLabourSubtypeHolidayCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddContact",value:function(){ca.Open({name:"ModifyLabourHolidayDialogue",state:null})}}]),n}(AO);xx=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,LabourHolidayDataTable:_x,ReloadButton:ms,NotificationBellButton:hl}})],xx);var Rx=xx,Mx=Rx,Ax=Object(ha["a"])(Mx,Cx,jx,!1,null,null,null),Tx=Ax.exports;ga()(Ax,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var Vx=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Definitions"})}).catch((function(e){}))}}},[e._v(" Definitions ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Labour Exception Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportLabourExceptionCSV()},on:{click:function(t){return e.CSVDownloadLabourSubtypeException()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("LabourExceptionDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-labour-exception-definitons-add-definition",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermLabourSubtypeExceptionCanPush()},on:{click:function(t){return e.AddContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Exception")])],1)],1)],1)],1)],1)],1)},Bx=[],Lx=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-labour-exception-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermLabourSubtypeExceptionCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllLabourExceptions,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.json.description",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.description))])]}},{key:"item.json.icon",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.icon))])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourSubtypeExceptionCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermLabourSubtypeExceptionCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},Nx=[],Ex=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Description",value:"json.description",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Icon",value:"json.icon",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermLabourSubtypeExceptionCanRequest=Me.PermLabourSubtypeExceptionCanRequest,e.PermLabourSubtypeExceptionCanPush=Me.PermLabourSubtypeExceptionCanPush,e.PermLabourSubtypeExceptionCanDelete=Me.PermLabourSubtypeExceptionCanDelete,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllLabourExceptions",get:function(){return Object.values(this.$store.state.Database.labourSubtypeException)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(Me.PermLabourSubtypeExceptionCanRequest()){var n=Me.RequestLabourSubtypeException.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(!(!n.json.description||y(n.json.description)||(a=""+n.json.description,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||!(!n.json.icon||y(n.json.icon)||(a=""+n.json.icon,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i)))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyLabourExceptionDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteLabourExceptionDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);Ex=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],Ex);var Fx=Ex,qx=Fx,Gx=Object(ha["a"])(qx,Lx,Nx,!1,null,null,null),$x=Gx.exports;ga()(Gx,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var Ux=function(){var e=ra.state.Database.labourSubtypeException;if(e){var t=[];t.push(["Export Type:","LabourExceptionDefinitions","Export Version:","CSV1"]),t.push(["id","name","description","icon"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||"",i.json.description||"",i.json.icon||""])}Eo("LabourExceptionDefinitions-All.csv",t)}},Hx=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Labour Exception Definitions",disabled:!0,to:"/section/labour-exception-definitions"}],e.DialoguesOpen=ca.Open,e.CSVDownloadLabourSubtypeException=Ux,e.PermLabourSubtypeExceptionCanPush=Me.PermLabourSubtypeExceptionCanPush,e.PermLabourSubtypeExceptionCanRequest=Me.PermLabourSubtypeExceptionCanRequest,e.PermLabourSubtypeExceptionCanDelete=Me.PermLabourSubtypeExceptionCanDelete,e.PermCRMExportLabourExceptionCSV=Me.PermCRMExportLabourExceptionCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddContact",value:function(){ca.Open({name:"ModifyLabourExceptionDialogue",state:null})}}]),n}(AO);Hx=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,LabourExceptionDataTable:$x,ReloadButton:ms,NotificationBellButton:hl}})],Hx);var Wx=Hx,Kx=Wx,zx=Object(ha["a"])(Kx,Vx,Bx,!1,null,null,null),Jx=zx.exports;ga()(zx,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var Yx=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Definitions"})}).catch((function(e){}))}}},[e._v(" Definitions ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Employment Status Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportEmploymentStatusCSV()},on:{click:function(t){return e.CSVDownloadAgentsEmploymentStatuses()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("EmploymentStatusDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-employment-status-definitons-add-definition",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermEmploymentStatusCanPush()},on:{click:function(t){return e.AddDefinition()}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Definition")])],1)],1)],1)],1)],1)],1)},Qx=[],Xx=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-employment-status-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermEmploymentStatusCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllEmploymentStatuses,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermEmploymentStatusCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermEmploymentStatusCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},Zx=[],eR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermEmploymentStatusCanRequest=sn.PermEmploymentStatusCanRequest,e.PermEmploymentStatusCanPush=sn.PermEmploymentStatusCanPush,e.PermEmploymentStatusCanDelete=sn.PermEmploymentStatusCanDelete,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllEmploymentStatuses",get:function(){return Object.values(this.$store.state.Database.agentsEmploymentStatus)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(sn.PermEmploymentStatusCanRequest()){var n=sn.RequestAgentsEmploymentStatus.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyEmploymentStatusDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteEmploymentStatusDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);eR=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],eR);var tR=eR,nR=tR,aR=Object(ha["a"])(nR,Xx,Zx,!1,null,null,null),iR=aR.exports;ga()(aR,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var oR=function(){var e=ra.state.Database.agentsEmploymentStatus;if(e){var t=[];t.push(["Export Type:","EmploymentStatusDefinitions","Export Version:","CSV1"]),t.push(["id","name"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||""])}Eo("EmploymentStatusDefinitions-All.csv",t)}},sR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Employment Status Definitions",disabled:!0,to:"/section/employment-status-definitions"}],e.PermEmploymentStatusCanPush=sn.PermEmploymentStatusCanPush,e.PermEmploymentStatusCanRequest=sn.PermEmploymentStatusCanRequest,e.PermEmploymentStatusCanDelete=sn.PermEmploymentStatusCanDelete,e.DialoguesOpen=ca.Open,e.CSVDownloadAgentsEmploymentStatuses=oR,e.PermCRMExportEmploymentStatusCSV=sn.PermCRMExportEmploymentStatusCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddDefinition",value:function(){ca.Open({name:"ModifyEmploymentStatusDialogue",state:null})}}]),n}(AO);sR=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,EmploymentStatusDataTable:iR,ReloadButton:ms,NotificationBellButton:hl}})],sR);var rR=sR,lR=rR,cR=Object(ha["a"])(lR,Yx,Qx,!1,null,null,null),uR=cR.exports;ga()(cR,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var dR=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Labour"})}).catch((function(e){}))}}},[e._v(" Labour ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Labour")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportLabourPDF()},on:{click:function(t){return e.DoPrint()}}},[n("v-list-item-icon",[n("v-icon",[e._v("print")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Print/Report…")])],1)],1),n("v-list-item",{attrs:{disabled:!e.PermCRMExportLabourCSV()},on:{click:function(t){return e.CSVDownloadLabour()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("LabourDataTable",{ref:"dataTable"})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-labour-index-add-labour",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermLabourCanPush()||!e.PermCRMLabourManualEntries()},on:{click:function(t){return e.AddContact()}}},[n("v-list-item-icon",[n("v-icon",[e._v("timelapse")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Labour")])],1)],1)],1)],1)],1)],1)},mR=[],vR=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-labour-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.SearchString,callback:function(t){e.SearchString=t},expression:"SearchString"}}),e.PermLabourCanRequest()?n("v-data-table",{ref:"dataTable",staticClass:"data-table-labour",attrs:{headers:e.headers,items:e.AllLabour,search:e.SearchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"must-sort":"","sort-by":"json.startISO8601","sort-desc":!0,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.startISO8601",fn:function(t){var a=t.item;return["date-and-hours"==a.json.timeMode?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("calendar_today")])],1),e._v(" "+e._s(e.ISO8601ToLocalDateOnly(a.json.startISO8601))+" ")],1)]}}],null,!0)},[n("span",[e._v("Date")])]):"start-stop-timestamp"==a.json.timeMode?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("calendar_today")])],1),e._v(" "+e._s(e.ISO8601LocalDateOnlyTimeSpan(a.json.startISO8601,a.json.endISO8601))+" ")],1)]}}],null,!0)},[n("span",[e._v("Date Timespan")])]):n("span",[e._v("—")])]}},{key:"item.json.agentId",fn:function(t){var a=t.item;return[a.json.agentId?n("DataLoaderAgent",{attrs:{agentId:a.json.agentId}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticClass:"e2e-agent-chip",staticStyle:{margin:"4px",color:"rgba(0, 0, 0, 0.87) !important"},attrs:{label:"",outlined:"",to:"/section/agents/"+a.json.agentId+"?tab=Labour",color:"primary"}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("directions_walk")])],1),e._v(" "+e._s(e.AgentNameForId(a.json.agentId))+" ")],1)]}}],null,!0)},[n("span",[e._v("Agent")])])],1):e._e()]}},{key:"item.json.projectId",fn:function(t){var a=t.item;return[a.json.projectId?n("DataLoaderProject",{attrs:{projectId:a.json.projectId}},[e.ProjectAddressForId(a.json.projectId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticClass:"e2e-address-chip",staticStyle:{margin:"4px",color:"rgba(0, 0, 0, 0.87) !important"},attrs:{label:"",outlined:"",to:"/section/projects/"+a.json.projectId+"?tab=Labour",color:"primary"}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-home")])],1),e._v(" "+e._s(e.ProjectAddressForId(a.json.projectId))+" ")],1)]}}],null,!0)},[n("span",[e._v("Project Address")])]):e._e(),e.ProjectNameForId(a.json.projectId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticClass:"e2e-project-name-chip",staticStyle:{margin:"4px",color:"rgba(0, 0, 0, 0.87) !important"},attrs:{label:"",outlined:"",to:"/section/projects/"+a.json.projectId+"?tab=Labour",color:"primary"}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("assignment")])],1),e._v(" "+e._s(e.ProjectNameForId(a.json.projectId))+" ")],1)]}}],null,!0)},[n("span",[e._v("Project Name")])]):e._e()],1):e._e(),e.LabourTypeIsHolidayForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s(e.LabourSubtypeHolidayIconForId(a.json.holidayTypeId))}})],1),e._v(" "+e._s(e.LabourSubtypeHolidayNameForId(a.json.holidayTypeId))+" ")],1)]}}],null,!0)},[n("span",[e._v("Observed Holiday")])]):e._e(),e.LabourTypeIsNonBillableForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s(e.LabourSubtypeNonBillableIconForId(a.json.nonBillableTypeId))}})],1),e._v(" "+e._s(e.LabourSubtypeNonBillableNameForId(a.json.nonBillableTypeId))+" ")],1)]}}],null,!0)},[n("span",[e._v("Non Billable Type")])]):e._e(),e.LabourTypeIsExceptionForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s(e.LabourSubtypeExceptionIconForId(a.json.exceptionTypeId))}})],1),e._v(" "+e._s(e.LabourSubtypeExceptionNameForId(a.json.exceptionTypeId))+" ")],1)]}}],null,!0)},[n("span",[e._v("Exception Type")])]):e._e(),e.LabourTypeIsPayOutBankedForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},a),[e._v(" Payout Banked ")])]}}],null,!0)},[n("span",[e._v("Banked Payout")])]):e._e(),a.json.assignmentId?n("DataLoaderAssignment",{attrs:{assignmentId:a.json.assignmentId}},[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticClass:"e2e-assignment-chip",staticStyle:{margin:"4px",color:"rgba(0, 0, 0, 0.87) !important"},attrs:{to:"/section/assignments/"+a.json.assignmentId+"?tab=Labour",color:"primary",label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-tasks")])],1),e._v(" "+e._s(e.AssignmentWorkDescriptionForId(a.json.assignmentId)||"No Work Specified")+" ")],1)]}}],null,!0)},[n("span",[e._v("Assignment")])])],1):e._e()]}},{key:"item.json.typeId",fn:function(t){var a=t.item;return[e.LabourTypeNameForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""},domProps:{textContent:e._s(e.LabourTypeIconForId(a.json.typeId))}})],1),e._v(" "+e._s(e.LabourTypeNameForId(a.json.typeId))+" ")],1)]}}],null,!0)},[n("span",[e._v("Entry Type")])]):e.LabourTypeIsBillableForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},a),[e._v(" Is Billable ")])]}}],null,!0)},[n("span",[e._v("Entry Type")])]):e.LabourTypeIsHolidayForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},a),[e._v(" Is Holiday ")])]}}],null,!0)},[n("span",[e._v("Entry Type")])]):e.LabourTypeIsNonBillableForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},a),[e._v(" Is Non-Billable ")])]}}],null,!0)},[n("span",[e._v("Entry Type")])]):e.LabourTypeIsExceptionForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},a),[e._v(" Is Exception ")])]}}],null,!0)},[n("span",[e._v("Entry Type")])]):e.LabourTypeIsPayOutBankedForId(a.json.typeId)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{outlined:"",label:""}},a),[e._v(" Is Banked Payout ")])]}}],null,!0)},[n("span",[e._v("Entry Type")])]):e._e()]}},{key:"item.time",fn:function(t){var a=t.item;return["date-and-hours"==a.json.timeMode?n("div",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),e._v(" "+e._s(Math.floor(+a.json.hours))+"h "+e._s((+a.json.hours%1*60).toFixed(0).padStart(2,"0"))+"m ")],1)]}}],null,!0)},[n("span",[e._v("Duration")])])],1):e._e(),"start-stop-timestamp"==a.json.timeMode?n("div",[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("timelapse")])],1),a.json.isActive?n("span",[e._v("In Progress")]):n("span",[e._v(" "+e._s(e.ISO8601Difference(a.json.startISO8601,a.json.endISO8601).hours.toFixed(0))+"h "+e._s(e.ISO8601Difference(a.json.startISO8601,a.json.endISO8601).minutes.toFixed(0).padStart(2,"0"))+"m ")])],1)]}}],null,!0)},[n("span",[e._v("Duration")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-start")])],1),e._v(" "+e._s(e.ISO8601ToLocalDatetime(a.json.startISO8601))+" ")],1)]}}],null,!0)},[n("span",[e._v("Start Time")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[n("v-avatar",{attrs:{left:""}},[n("v-icon",{attrs:{small:""}},[e._v("fa-hourglass-end")])],1),a.json.isActive?n("span",[e._v("In Progress")]):n("span",[e._v(" "+e._s(e.ISO8601ToLocalDatetime(a.json.endISO8601))+" ")])],1)]}}],null,!0)},[n("span",[e._v("End Time")])])],1):e._e()]}},{key:"item.details",fn:function(t){var a=t.item;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a.json.isActive?n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[e._v(" Active ")]):e._e()]}}],null,!0)},[n("span",[e._v("This entry is currently in progress.")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a.json.locationType&&"none"!=a.json.locationType?n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),["travel"==a.json.locationType?n("span",[e._v("Travel")]):"on-site"==a.json.locationType?n("span",[e._v("On Site")]):"remote"==a.json.locationType?n("span",[e._v("Remote")]):n("span",{domProps:{textContent:e._s(a.json.locationType)}})]):e._e()]}}],null,!0)},[n("span",[e._v("Where this entry takes place.")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[e.LabourIsExtraForId(a.id)?n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[e._v(" Extra ")]):e._e()]}}],null,!0)},[n("span",[e._v("This entry is not included in the client's contract.")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a.json.isBilled?n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[e._v(" Billed ")]):e._e()]}}],null,!0)},[n("span",[e._v("This entry has been billed to the client.")])]),n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a.json.isPaidOut?n("v-chip",e._g({staticStyle:{margin:"4px"},attrs:{label:"",outlined:""}},i),[e._v(" Paid Out ")]):e._e()]}}],null,!0)},[n("span",[e._v("This entry has been paid out to the agent.")])]),a.json.notes?n("PopUpChip",{attrs:{tooltipText:"This entry has notes."}},[n("v-card-text",[e._v(" "+e._s(a.json.notes)+" ")])],1):e._e()]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:""}},a),[n("v-icon",{attrs:{small:""}},[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{staticClass:"e2e-labour-data-table-item-edit",attrs:{disabled:e.disabled||!e.PermLabourCanPush()||!e.PermCRMLabourManualEntries()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",{attrs:{small:""}},[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{staticClass:"e2e-labour-data-table-item-delete",attrs:{disabled:e.disabled||!e.PermLabourCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",{attrs:{small:""}},[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},pR=[],fR=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"inline-block"}},[n("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on;return[n("v-chip",e._g(e._b({staticStyle:{margin:"4px"},attrs:{color:"primary",label:"",outlined:""}},"v-chip",i,!1),Object.assign({},a,o)),[e._v(" Notes ")])]}}],null,!0)},[n("span",[e._v(e._s(e.tooltipText))])])]}}]),model:{value:e.menuActive,callback:function(t){e.menuActive=t},expression:"menuActive"}},[n("v-card",[e._t("default"),n("v-card-actions",[e._t("actions",(function(){return[n("v-spacer"),n("v-btn",{attrs:{small:"",text:""},on:{click:function(t){e.menuActive=!1}}},[e._v("Close")])]}))],2)],2)],1)],1)},hR=[],bR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.menuActive=!1,e}return n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],bR.prototype,"tooltipText",void 0),bR=Object(v["a"])([Object(p["a"])({components:{}})],bR);var gR=bR,yR=gR,CR=Object(ha["a"])(yR,fR,hR,!1,null,null,null),jR=CR.exports;ga()(CR,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VChip:Vi["a"],VMenu:pi["a"],VSpacer:_a["a"],VTooltip:Ni["a"]});var SR=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[e._t("default")],2)],1)},IR=[],PR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null==Pe.ForId(e.agentId)){var t=[];if(Pe.PermAgentsCanRequest()){var n=Pe.FetchForId(e.agentId);n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"agentIdChanged",value:function(e,t){this.LoadData()}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],PR.prototype,"agentId",void 0),Object(v["a"])([Object(p["d"])("agentId")],PR.prototype,"agentIdChanged",null),PR=Object(v["a"])([Object(p["a"])({components:{}})],PR);var OR=PR,kR=OR,DR=Object(ha["a"])(kR,SR,IR,!1,null,"2d34ee26",null),_R=DR.exports,wR=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loadingData?n("content-placeholders",[n("content-placeholders-text",{attrs:{lines:1}})],1):n("div",[e._t("default")],2)],1)},xR=[],RR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"mounted",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null==Ze.ForId(e.assignmentId)){var t=[];if(Ze.PermAssignmentCanRequest()){var n=Ze.FetchForId(e.assignmentId);n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"assignmentIdChanged",value:function(e,t){this.LoadData()}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],RR.prototype,"assignmentId",void 0),Object(v["a"])([Object(p["d"])("assignmentId")],RR.prototype,"assignmentIdChanged",null),RR=Object(v["a"])([Object(p["a"])({components:{}})],RR);var MR=RR,AR=MR,TR=Object(ha["a"])(AR,wR,xR,!1,null,"61aea9bc",null),VR=TR.exports,BR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Date",value:"json.startISO8601",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Agent",value:"json.agentId",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Description",value:"json.projectId",align:"left",sort:function(e,t){var n=""+ze.CombinedDescriptionForId(e),a=""+ze.CombinedDescriptionForId(e);return n.localeCompare(a)}},{text:"Type",value:"json.typeId",align:"left",sortable:!1},{text:"Time",value:"time",align:"left",sortable:!1},{text:"Details",value:"details",align:"left",sortable:!1},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.searchStringTimeout=null,e.PermLabourCanRequest=Ue.PermLabourCanRequest,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermLabourCanDelete=Ue.PermLabourCanDelete,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.LabourIsExtraForId=Ue.IsExtraForId,e.loadingData=!1,e.resizeObserver=null,e.closestMain=null,e}return Object(u["a"])(n,[{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(Ue.PermLabourCanRequest()){var n=Ue.RequestLabour.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"SearchString",get:function(){return this.searchString},set:function(e){var t=this;this.searchStringTimeout&&(clearTimeout(this.searchStringTimeout),this.searchStringTimeout=null),this.searchStringTimeout=setTimeout((function(){p["c"].set(t,"searchString",e)}),500)}},{key:"AllLabour",get:function(){var e=Object.values(this.$store.state.Database.labour);return e}},{key:"CustomDataTableFilter",value:function(e,t,n){if(!n||!n.id)return!1;if(null==t||y(t))return!0;var a=null,i=null;if(a=""+this.AgentNameForId(n.json.agentId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a=""+ze.AddressForId(n.json.projectId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a=""+ze.NameForId(n.json.projectId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a=""+this.LabourSubtypeHolidayNameForId(n.json.holidayTypeId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a=""+this.LabourSubtypeNonBillableNameForId(n.json.nonBillableTypeId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a=""+this.LabourSubtypeExceptionNameForId(n.json.exceptionTypeId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a="banked payout",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a=""+(this.AssignmentWorkDescriptionForId(n.json.assignmentId)||"No Work Specified"),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;var o=this.LabourTypeNameForId(n.json.typeId);if(null==o||y(o)){if(this.LabourTypeIsBillableForId(n.json.typeId)){if(a="Is Billable",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0}else if(this.LabourTypeIsHolidayForId(n.json.typeId)){if(a="Is Holiday",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0}else if(this.LabourTypeIsNonBillableForId(n.json.typeId)){if(a="Is Non-Billable",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0}else if(this.LabourTypeIsExceptionForId(n.json.typeId)){if(a="Is Exception",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0}else if(this.LabourTypeIsPayOutBankedForId(n.json.typeId)&&(a="Is Banked Payout",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i))return!0}else if(a=""+this.LabourTypeNameForId(n.json.typeId),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(a="",n.json.isActive&&(a+="active "),n.json.locationType&&!y(n.json.locationType)&&"none"!==n.json.locationType&&("travel"===n.json.locationType?a+="travel ":"on-site"===n.json.locationType?a+="on site on-site ":"remote"===n.json.locationType?a+="remote ":a+=n.json.locationType+" "),Ue.IsExtraForId(n.id)&&(a+="extra "),n.json.isBilled&&(a+="billed "),n.json.isPaidOut&&(a+="paid out paid-out"),n.json.notes&&!y(n.json.notes)&&(a+=n.json.notes),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0;if(n.json.startISO8601&&!y(n.json.startISO8601)&&(a="date-and-hours"===n.json.timeMode?"".concat(this.ISO8601ToLocalDateOnly(n.json.startISO8601)).concat(n.json.endISO8601):"start-stop-timestamp"===n.json.timeMode?"".concat(this.ISO8601LocalDateOnlyTimeSpan(n.json.startISO8601,n.json.endISO8601)):"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i))return!0;if(n.json.hours&&"date-and-hours"===n.json.timeMode){if(a="".concat(Math.floor(+n.json.hours),"h ").concat((+n.json.hours%1*60).toFixed(0).padStart(2,"0"),"m"),i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0}else if(n.json.startISO8601&&n.json.endISO8601&&"start-stop-timestamp"===n.json.timeMode){var s=this.ISO8601Difference(n.json.startISO8601,n.json.endISO8601);if(a="",s&&s.hours&&s.minutes&&(a+="".concat(s.hours.toFixed(0).padStart(2,"0"),"h ").concat(s.minutes.toFixed(0).padStart(2,"0"),"m ")),a+=this.ISO8601ToLocalDatetime(n.json.startISO8601),a+=" ",a+=this.ISO8601ToLocalDatetime(n.json.endISO8601),a+=" ",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)return!0}return!1}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyLabourDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteLabourDialogue",state:{redirectToIndex:!0,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);BR=Object(v["a"])([Object(p["a"])({components:{PopUpChip:jR,DataLoaderProject:ho,DataLoaderProduct:Mw,DataLoaderAgent:_R,DataLoaderAssignment:VR,PermissionsDeniedAlert:Qi}})],BR);var LR=BR,NR=LR,ER=(n("508e"),Object(ha["a"])(NR,vR,pR,!1,null,null,null)),FR=ER.exports;ga()(ER,{VAvatar:Na["a"],VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VChip:Vi["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"],VTooltip:Ni["a"]});var qR=function(){var e=ra.state.Database.labour;if(e){var t=[];t.push(["Export Type:","Labour","Export Version:","CSV1"]),t.push(["id","lastModifiedISO8601","lastModifiedBillingId","projectId","agentId","assignmentId","typeId","timeMode","hours","startISO8601","endISO8601","isActive","locationType","isExtra","isBilled","isPaidOut","exceptionTypeId","holidayTypeId","nonBillableTypeId","notes","bankedPayOutAmount"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.lastModifiedISO8601||"",i.json.lastModifiedBillingId||"",i.json.projectId||"",i.json.agentId||"",i.json.assignmentId||"",i.json.typeId||"",i.json.timeMode||"","".concat(i.json.hours||"")||"",i.json.startISO8601||"",i.json.endISO8601||"",i.json.isActive?"YES":"NO",i.json.locationType||"",Ue.IsExtraForId(i.id||null)?"YES":"NO",i.json.isBilled?"YES":"NO",i.json.isPaidOut?"YES":"NO",i.json.exceptionTypeId||"",i.json.holidayTypeId||"",i.json.nonBillableTypeId||"",i.json.notes||"","".concat(i.json.bankedPayOutAmount||"")||""])}Eo("Labour-All.csv",t)}},GR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Labour",disabled:!0,to:"/section/labour/index"}],e.DialoguesOpen=ca.Open,e.CSVDownloadLabour=qR,e.PermLabourCanPush=Ue.PermLabourCanPush,e.PermCRMLabourManualEntries=Ue.PermCRMLabourManualEntries,e.PermCRMReportLabourPDF=Ue.PermCRMReportLabourPDF,e.PermCRMExportLabourCSV=Ue.PermCRMExportLabourCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"DoPrint",value:function(){ca.Open({name:"LabourReportDialogue",state:{allLoadedLabour:!0,specificLabour:[null]}})}},{key:"AddContact",value:function(){ca.Open({name:"ModifyLabourDialogue",state:{json:{agentId:Pe.LoggedInAgentId()}}})}}]),n}(AO);GR=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,LabourDataTable:FR,ReloadButton:ms,NotificationBellButton:hl}})],GR);var $R=GR,UR=$R,HR=Object(ha["a"])(UR,dR,mR,!1,null,null,null),WR=HR.exports;ga()(HR,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var KR=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Status Definitions"})}).catch((function(e){}))}}},[e._v(" Status Definitions ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Assignment Status Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportAssignmentStatusCSV()},on:{click:function(t){return e.CSVDownloadAssignmentStatuses()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("AssignmentStatusDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",[n("v-list-item",{staticClass:"e2e-assignment-status-definitons-add-definition",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermAssignmentStatusCanPush()},on:{click:function(t){return e.AddDefinition()}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Definition")])],1)],1)],1)],1)],1)],1)},zR=[],JR=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-assignment-status-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermAssignmentStatusCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllAssignmentStatuses,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.json.isOpen",fn:function(t){var a=t.item;return[a.json.isOpen?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isReOpened",fn:function(t){var a=t.item;return[a.json.isReOpened?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isAssigned",fn:function(t){var a=t.item;return[a.json.isAssigned?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isWaitingOnClient",fn:function(t){var a=t.item;return[a.json.isWaitingOnClient?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isWaitingOnVendor",fn:function(t){var a=t.item;return[a.json.isWaitingOnVendor?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isBillable",fn:function(t){var a=t.item;return[a.json.isBillable?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isBillableReview",fn:function(t){var a=t.item;return[a.json.isBillableReview?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isInProgress",fn:function(t){var a=t.item;return[a.json.isInProgress?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isNonBillable",fn:function(t){var a=t.item;return[a.json.isNonBillable?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isScheduled",fn:function(t){var a=t.item;return[a.json.isScheduled?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isDefault",fn:function(t){var a=t.item;return[a.json.isDefault?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermAssignmentStatusCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermAssignmentStatusCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},YR=[],QR=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Is Open",value:"json.isOpen",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Re-Opened",value:"json.isReOpened",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Assigned",value:"json.isAssigned",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Waiting on Client",value:"json.isWaitingOnClient",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Waiting on Vendor",value:"json.isWaitingOnVendor",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Billable",value:"json.isBillable",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Billable Review",value:"json.isBillableReview",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is In Progress",value:"json.isInProgress",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Non Billable",value:"json.isNonBillable",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Scheduled",value:"json.isScheduled",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Default",value:"json.isDefault",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermAssignmentStatusCanRequest=Qt.PermAssignmentStatusCanRequest,e.PermAssignmentStatusCanPush=Qt.PermAssignmentStatusCanPush,e.PermAssignmentStatusCanDelete=Qt.PermAssignmentStatusCanDelete,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllAssignmentStatuses",get:function(){return Object.values(this.$store.state.Database.assignmentStatus)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(Qt.PermAssignmentStatusCanRequest()){var n=Qt.RequestAssignmentStatus.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(a=""+n.json.isOpen?"open":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isReOpened?"reopened":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isAssigned?"assigned":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isWaitingOnClient?"waiting on client":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isWaitingOnVendor?"waiting on vendor":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isBillable?"billable":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isBillable?"billable review":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isBillable?"default":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i))))))))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyAssignmentStatusDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteAssignmentStatusDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);QR=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],QR);var XR=QR,ZR=XR,eM=Object(ha["a"])(ZR,JR,YR,!1,null,null,null),tM=eM.exports;ga()(eM,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var nM=function(){var e=ra.state.Database.assignmentStatus;if(e){var t=[];t.push(["Export Type:","AssignmentStatus","Export Version:","CSV1"]),t.push(["id","name","isOpen","isReOpened","isAssigned","isWaitingOnClient","isWaitingOnVendor","isBillable","isBillableReview","isDefault"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||"",i.json.isOpen?"YES":"NO",i.json.isReOpened?"YES":"NO",i.json.isAssigned?"YES":"NO",i.json.isWaitingOnClient?"YES":"NO",i.json.isWaitingOnVendor?"YES":"NO",i.json.isBillable?"YES":"NO",i.json.isBillableReview?"YES":"NO",i.json.isDefault?"YES":"NO"])}Eo("AssignmentStatus-All.csv",t)}},aM=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Assignment Status Definitions",disabled:!0,to:"/section/assignment-status-definitions"}],e.PermAssignmentStatusCanPush=Qt.PermAssignmentStatusCanPush,e.CSVDownloadAssignmentStatuses=nM,e.PermCRMExportAssignmentStatusCSV=Qt.PermCRMExportAssignmentStatusCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddDefinition",value:function(){ca.Open({name:"ModifyAssignmentStatusDialogue",state:null})}}]),n}(AO);aM=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,AssignmentStatusDataTable:tM,ReloadButton:ms,NotificationBellButton:hl}})],aM);var iM=aM,oM=iM,sM=Object(ha["a"])(oM,KR,zR,!1,null,null,null),rM=sM.exports;ga()(sM,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var lM=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Statuses"})}).catch((function(e){}))}}},[e._v(" Statuses ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Project Status Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportProjectStatusCSV()},on:{click:function(t){return e.CSVDownloadProjectStatus()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("ProjectStatusDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-project-status-definitions-add-project-status",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermProjectStatusCanPush()},on:{click:function(t){return e.AddDefinition()}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Definition")])],1)],1)],1)],1)],1)],1)},cM=[],uM=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-project-status-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermProjectStatusCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllProjectStatuses,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.json.isOpen",fn:function(t){var a=t.item;return[a.json.isOpen?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isAwaitingPayment",fn:function(t){var a=t.item;return[a.json.isAwaitingPayment?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isClosed",fn:function(t){var a=t.item;return[a.json.isClosed?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.json.isNewProjectStatus",fn:function(t){var a=t.item;return[a.json.isNewProjectStatus?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProjectStatusCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermProjectStatusCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},dM=[],mM=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Is Open",value:"json.isOpen",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Awaiting Payment",value:"json.isAwaitingPayment",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is Closed",value:"json.isClosed",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Is New Project Status",value:"json.isNewProjectStatus",align:"center",sort:function(e,t){var n=e?"true":"false",a=t?"true":"false";return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermProjectStatusCanRequest=kn.PermProjectStatusCanRequest,e.PermProjectStatusCanPush=kn.PermProjectStatusCanPush,e.PermProjectStatusCanDelete=kn.PermProjectStatusCanDelete,e.loadingData=!1,e.resizeObserver=null,e.closestMain=null,e}return Object(u["a"])(n,[{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(kn.PermProjectStatusCanRequest()){var n=kn.RequestProjectStatus.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"AllProjectStatuses",get:function(){return Object.values(this.$store.state.Database.projectStatus)}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(a=""+n.json.isOpen?"open":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isAwaitingPayment?"awaiting payment":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||(a=""+n.json.isClosed?"closed":"",i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i)))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyProjectStatusDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteProjectStatusDialogue",state:{redirectToIndex:!0,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);mM=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],mM);var vM=mM,pM=vM,fM=Object(ha["a"])(pM,uM,dM,!1,null,null,null),hM=fM.exports;ga()(fM,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var bM=function(){var e=ra.state.Database.projectStatus;if(e){var t=[];t.push(["Export Type:","ProjectStatus","Export Version:","CSV1"]),t.push(["id","name","isOpen","isAwaitingPayment","isClosed"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.name||"",i.json.isOpen?"YES":"NO",i.json.isAwaitingPayment?"YES":"NO",i.json.isClosed?"YES":"NO"])}Eo("ProjectStatus-All.csv",t)}},gM=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Project Status Definitions",disabled:!0,to:"/section/project-status-definitions"}],e.PermProjectStatusCanPush=kn.PermProjectStatusCanPush,e.CSVDownloadProjectStatus=bM,e.PermCRMExportProjectStatusCSV=kn.PermCRMExportProjectStatusCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddDefinition",value:function(){ca.Open({name:"ModifyProjectStatusDialogue",state:null})}}]),n}(AO);gM=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ProjectStatusDataTable:hM,ReloadButton:ms,NotificationBellButton:hl}})],gM);var yM=gM,CM=yM,jM=Object(ha["a"])(CM,lM,cM,!1,null,null,null),SM=jM.exports;ga()(jM,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var IM=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Man Hours"})}).catch((function(e){}))}}},[e._v(" Man Hours ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Man Hours Definitions")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!e.PermCRMExportManHoursCSV()},on:{click:function(t){return e.CSVDownloadManHours()}}},[n("v-list-item-icon",[n("v-icon",[e._v("import_export")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Export to CSV…")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("ManHoursDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-man-hours-definitions-add-definition",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermEstimatingManHoursCanPush()},on:{click:function(t){return e.AddDefinition()}}},[n("v-list-item-icon",[n("v-icon",[e._v("add")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Definition")])],1)],1)],1)],1)],1)],1)},PM=[],OM=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4 e2e-man-hours-data-table-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermEstimatingManHoursCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllManHours,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.quantity",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.quantity)+" "+e._s(a.json.quantityUnit||"❌"))])]}},{key:"item.json.projectId",fn:function(t){var a=t.item;return[a&&a.json&&a.json.projectId?n("router-link",{attrs:{to:"/section/projects/"+a.json.projectId+"?tab=Materials"}},[e._v(" "+e._s(e.ProjectCombinedDescriptionForId(a.json.projectId))+" ")]):e._e()]}},{key:"item.json.dateUsedISO8601",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.ISO8601ToLocalDateOnly(n.json.dateUsedISO8601))+" ")]}},{key:"item.json.productId",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.ProductNameForId(n.json.productId))+" ")]}},{key:"item.json.isBilled",fn:function(t){var a=t.item;return[a.json.isBilled?n("span",[e._v("✔")]):n("span",[e._v("❌")])]}},{key:"item.json.isExtra",fn:function(t){var a=t.item;return[a.json.isExtra?n("div",[e._v("✔")]):n("div",[e._v("❌")])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermEstimatingManHoursCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermEstimatingManHoursCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},kM=[],DM=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Task",value:"json.item",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Hours",value:"json.manHours",align:"right",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Measurement",value:"json.measurement",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermEstimatingManHoursCanRequest=pn.PermEstimatingManHoursCanRequest,e.PermEstimatingManHoursCanPush=pn.PermEstimatingManHoursCanPush,e.PermEstimatingManHoursCanDelete=pn.PermEstimatingManHoursCanDelete,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllManHours",get:function(){return Object.values(this.$store.state.Database.estimatingManHours)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(pn.PermEstimatingManHoursCanRequest()){var n=pn.RequestEstimatingManHours.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.item||y(n.json.item)||(a=""+n.json.item,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))||(a=""+n.json.manHours,i=a.toLowerCase().indexOf(t.toLowerCase()),-1!==i||!(!n.json.measurement||y(n.json.measurement)||(a=""+n.json.measurement,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i)))}},{key:"EditEntry",value:function(e){ca.Open({name:"ModifyManHourDialogue",state:e})}},{key:"DeleteEntry",value:function(e){ca.Open({name:"DeleteManHourDialogue",state:{redirectToIndex:!1,id:e.id}})}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);DM=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],DM);var _M=DM,wM=_M,xM=Object(ha["a"])(wM,OM,kM,!1,null,null,null),RM=xM.exports;ga()(xM,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var MM=function(){var e=ra.state.Database.estimatingManHours;if(e){var t=[];t.push(["Export Type:","ManHoursDefinitions","Export Version:","CSV1"]),t.push(["id","item","manHours","measurement"]);for(var n=0,a=Object.values(e);n<a.length;n++){var i=a[n];t.push([i.id||"",i.json.item||"",i.json.manHours||"",i.json.measurement||""])}Eo("ManHoursDefinitions-All.csv",t)}},AM=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Man Hours Definitions",disabled:!0,to:"/section/man-hours-definitions"}],e.DialoguesOpen=ca.Open,e.CSVDownloadManHours=MM,e.PermEstimatingManHoursCanPush=pn.PermEstimatingManHoursCanPush,e.PermCRMExportManHoursCSV=pn.PermCRMExportManHoursCSV,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddDefinition",value:function(){ca.Open({name:"ModifyManHourDialogue",state:null})}}]),n}(AO);AM=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ManHoursDataTable:RM,ReloadButton:ms,NotificationBellButton:hl}})],AM);var TM=AM,VM=TM,BM=Object(ha["a"])(VM,IM,PM,!1,null,null,null),LM=BM.exports;ga()(BM,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var NM=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Quotes"})}).catch((function(e){}))}}},[e._v(" Quotes ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Quotes")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[e._v(" quotes list ")])],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus},on:{click:function(t){return e.AddQuote()}}},[n("v-list-item-icon",[n("v-icon",[e._v("attach_money")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Quote")])],1)],1)],1)],1)],1)],1)},EM=[],FM=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Quotes",disabled:!0,to:"/section/quotes/index"}],e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"AddContact",value:function(){ca.Open({name:"ModifyContactDialogue",state:null})}}]),n}(AO);FM=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],FM);var qM=FM,GM=qM,$M=Object(ha["a"])(GM,NM,EM,!1,null,null,null),UM=$M.exports;ga()($M,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var HM=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"My Account"})}).catch((function(e){}))}}},[e._v(" My Account ")]),n("v-tab",{attrs:{disabled:!e.PermBillingCompaniesCanModify()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Company Accounts"})}).catch((function(e){}))}}},[e._v(" Company Accounts ")]),n("v-tab",{attrs:{disabled:!e.PermBillingCompaniesCanModify()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Company Settings"})}).catch((function(e){}))}}},[e._v(" Company Settings ")]),n("v-tab",{attrs:{disabled:!e.PermCRMCanRequestSubscriptions()&&!e.PermCRMCanRequestInvoices()&&!e.PermCRMCanRequestJournalEntries()},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Billing"})}).catch((function(e){}))}}},[e._v(" Billing ")]),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Admin, Backup & Restore"})}).catch((function(e){}))}}},[e._v(" Admin, Backup & Restore ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Settings")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{"padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{staticStyle:{margin:"30px","margin-top":"15px"}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("v-text-field",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,readonly:!e.PermCRMCanModifySelf(),autocomplete:"newpassword",label:"Name",hint:"Your name."},model:{value:e.BillingContactName,callback:function(t){e.BillingContactName=t},expression:"BillingContactName"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("v-btn",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus||!e.PermCRMCanModifySelf(),color:"primary"},on:{click:function(t){return e.DialoguesOpen({name:"ChangePasswordDialogue",state:null})}}},[e._v("Change Password")])],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("div",{staticClass:"title"},[e._v("Contact")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"5","offset-sm":"1"}},[n("v-text-field",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,readonly:!e.PermCRMCanModifySelf(),autocomplete:"newpassword",label:"Telephone Number",type:"phone",hint:""},model:{value:e.BillingContactPhone,callback:function(t){e.BillingContactPhone=t},expression:"BillingContactPhone"}})],1),n("v-col",{attrs:{cols:"12",sm:"5"}},[n("v-text-field",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,readonly:!e.PermCRMCanModifySelf(),autocomplete:"newpassword",label:"E-Mail",type:"email",hint:""},model:{value:e.BillingContactEMail,callback:function(t){e.BillingContactEMail=t},expression:"BillingContactEMail"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("div",{staticClass:"subtitle-1"},[e._v("Contact Preferences")]),n("p",[e._v("We will always send messages related to app functionality and billing, but for anything not required here you can manage your preferences:")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"5","offset-sm":"1"}},[n("v-switch",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,readonly:!e.PermCRMCanModifySelf(),label:"Tutorials"},model:{value:e.BillingContactEmailListTutorials,callback:function(t){e.BillingContactEmailListTutorials=t},expression:"BillingContactEmailListTutorials"}})],1),n("v-col",{attrs:{cols:"12",sm:"5"}},[n("v-switch",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,readonly:!e.PermCRMCanModifySelf(),label:"Marketing"},model:{value:e.BillingContactEmailListMarketing,callback:function(t){e.BillingContactEmailListMarketing=t},expression:"BillingContactEmailListMarketing"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("div",{staticClass:"title"},[e._v("Associated Dispatch Pulse Information")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("ContactSelectField",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,readonly:!e.PermCRMCanModifySelf(),showDetails:!1},model:{value:e.BillingContactDispatchPulseContactId,callback:function(t){e.BillingContactDispatchPulseContactId=t},expression:"BillingContactDispatchPulseContactId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("AgentSelectField",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,readonly:!e.PermCRMCanModifySelf()},model:{value:e.BillingContactDispatchPulseAgentId,callback:function(t){e.BillingContactDispatchPulseAgentId=t},expression:"BillingContactDispatchPulseAgentId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of your user."},model:{value:e.BillingContactUniqueID,callback:function(t){e.BillingContactUniqueID=t},expression:"BillingContactUniqueID"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"How you found out about us.",hint:""},model:{value:e.BillingContactMarketingCampaign,callback:function(t){e.BillingContactMarketingCampaign=t},expression:"BillingContactMarketingCampaign"}})],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[e.PermBillingCompaniesCanModify()?n("v-card",{staticStyle:{margin:"30px","margin-top":"15px"}},[n("v-card-title",[e._v("Accounts")]),n("ModifyBillingContactDialogue2",{ref:"modifyBillingContactDialogue",attrs:{isOpen:e.modifyBillingContactOpen,dialogueName:"Modify Company Account",isMakingNew:!1},on:{save:e.SaveModifyBillingContact,cancel:e.CancelModifyBillingContact},model:{value:e.modifyBillingContactModel,callback:function(t){e.modifyBillingContactModel=t},expression:"modifyBillingContactModel"}}),n("ModifyBillingContactPermissionsDialogue2",{ref:"modifyBillingContactPermissionsDialogue",attrs:{isOpen:e.modifyBillingContactPermissionsOpen,dialogueName:"Modify Company Account Permissions",isMakingNew:!1},on:{save:e.SaveModifyBillingContactPermissions,close:e.CloseModifyBillingContactPermissions},model:{value:e.modifyBillingContactPermissionsModel,callback:function(t){e.modifyBillingContactPermissionsModel=t},expression:"modifyBillingContactPermissionsModel"}}),n("ModifyBillingContactLicensesDialogue2",{ref:"modifyBillingContactLicensesDialogue",attrs:{isOpen:e.modifyBillingContactLicensesOpen,dialogueName:"Modify Company Account Licenses",isMakingNew:!1},on:{save:e.SaveModifyBillingContactLicenses,close:e.CloseModifyBillingContactLicenses},model:{value:e.modifyBillingContactLicensesModel,callback:function(t){e.modifyBillingContactLicensesModel=t},expression:"modifyBillingContactLicensesModel"}}),n("ModifyBillingContactDialogue2",{ref:"newBillingContactDialogue",attrs:{isOpen:e.newBillingContactOpen,dialogueName:"New Company Account",isMakingNew:!0},on:{save:e.SaveNewBillingContact,cancel:e.CancelNewBillingContact},model:{value:e.newBillingContactModel,callback:function(t){e.newBillingContactModel=t},expression:"newBillingContactModel"}}),n("DeleteBillingContactDialogue2",{ref:"deleteBillingContactDialogue",attrs:{isOpen:e.deleteBillingContactOpen},on:{save:e.SaveDeleteBillingContact,cancel:e.CancelDeleteBillingContact},model:{value:e.deleteBillingContactModel,callback:function(t){e.deleteBillingContactModel=t},expression:"deleteBillingContactModel"}}),n("v-list",[n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.CompanyAccounts,(function(t,a){return n("BilingContactListItem",{key:a,on:{"edit-entry":e.OpenModifyBillingContact,"edit-entry-permissions":e.OpenModifyBillingContactPermissions,"edit-entry-licenses":e.OpenModifyBillingContactLicenses,"delete-entry":e.OpenDeleteBillingContact},model:{value:e.CompanyAccounts[a],callback:function(t){e.$set(e.CompanyAccounts,a,t)},expression:"CompanyAccounts[i]"}})})),1)],1),n("v-toolbar",{attrs:{flat:""}},[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:e.OpenNewBillingContact}},[n("v-icon",[e._v("add")]),e._v(" Add Account ")],1)],1)],1):n("PermissionsDeniedAlert")],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("PhoneIdCard",{staticStyle:{margin:"30px","margin-top":"15px"},attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus}}),n("v-card",{staticStyle:{margin:"30px","margin-top":"15px"}},[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Company ID",hint:"The id of your company."},model:{value:e.BillingContactCompanyID,callback:function(t){e.BillingContactCompanyID=t},expression:"BillingContactCompanyID"}})],1)],1)],1)],1)],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("BillingPaymentsCard",{staticStyle:{margin:"30px","margin-top":"15px"},attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus}}),n("BillingSubscriptionsCard",{staticStyle:{margin:"30px","margin-top":"15px"},attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus}}),n("BillingInvoicesCard",{staticStyle:{margin:"30px","margin-top":"15px"},attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus}}),n("BillingJournalEntriesCard",{staticStyle:{margin:"30px","margin-top":"15px"},attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus}})],1),n("v-tab-item",{staticStyle:{flex:"1"}},[n("BackupLocalDataCard",{staticStyle:{margin:"30px","margin-top":"15px"},attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus}}),n("v-card",{staticStyle:{margin:"30px","margin-top":"15px"}},[n("v-card-title",[e._v("Restore")]),n("v-card-text",[n("p",[e._v(" Please contact support to restore the database. ")])])],1)],1)],1),n("div",{staticStyle:{height:"50px"}})],1)},WM=[],KM=function(e,t){return void 0===e||null===e?"":"$".concat(e.toFixed(2)," ").concat(t).trim()},zM=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-contact-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("person")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.fullName))]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.IsLicensedForProjectsSchedulingAndTime?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-icon",{attrs:{"x-small":"",left:""}},[e._v("mdi-license")]),e._v(" Projects, Scheduling, and Time ")],1)]}}],null,!1,1053720380)},[n("span",[e._v('This account is licensed for "Projects, Scheduling, and Time".')])]):e._e(),e.IsLicensedForOnCall?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-icon",{attrs:{"x-small":"",left:""}},[e._v("mdi-license")]),e._v(" On Call Responder ")],1)]}}],null,!1,2405174881)},[n("span",[e._v('This account is licensed for "On Call Responder".')])]):e._e()],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled||e.IsOwnBillingContact},on:{click:function(t){return e.$emit("edit-entry",e.value.uuid)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled||e.IsOwnBillingContact},on:{click:function(t){return e.$emit("edit-entry-permissions",e.value.uuid)}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-shield-lock")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Permissions…")])],1)],1),n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("edit-entry-licenses",e.value.uuid)}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-license")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Licenses…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||e.IsOwnBillingContact},on:{click:function(t){return e.$emit("delete-entry",e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},JM=[],YM=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&Promise.all(t).finally((function(){e.loadingData=!1}))}}))}))}},{key:"IsLicensedForProjectsSchedulingAndTime",get:function(){return!!(this.value&&this.value.json&&this.value.json.licenseAssignedProjectsSchedulingTime)&&this.value.json.licenseAssignedProjectsSchedulingTime}},{key:"IsLicensedForOnCall",get:function(){return!!(this.value&&this.value.json&&this.value.json.licenseAssignedOnCall)&&this.value.json.licenseAssignedOnCall}},{key:"IsOwnBillingContact",get:function(){return null!==this.value&&this.value.uuid===he.CurrentBillingContactId()}},{key:"ClickEntry",value:function(){this.$emit("ClickEntry",this.value)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],YM.prototype,"value",void 0),YM=Object(v["a"])([Object(p["a"])({})],YM);var QM=YM,XM=QM,ZM=Object(ha["a"])(XM,zM,JM,!1,null,null,null),eA=ZM.exports;ga()(ZM,{VBtn:ya["a"],VChip:Vi["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VTooltip:Ni["a"]});var tA=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.dialogueName))]),n("v-divider"),n("v-card-text",[n("BillingContactEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:e.isMakingNew,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},nA=[],aA=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Company Account"),e.FullName?n("span",[e._v(": "+e._s(e.FullName))]):e._e()]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company Account Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}})],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{display:"none"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Basic")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-billing-contact-editor-name",attrs:{autocomplete:"newpassword",label:"Full Name",hint:"The full name for this account.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.FullName,callback:function(t){e.FullName=t},expression:"FullName"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-billing-contact-editor-email",attrs:{autocomplete:"newpassword",label:"E-Mail",hint:"Used to login.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.EMail,callback:function(t){e.EMail=t},expression:"EMail"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Password")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Password",hint:"Password used to log into Dispatch Pulse.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,type:"password"},model:{value:e.Password,callback:function(t){e.Password=t},expression:"Password"}})],1),n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Password (again)",hint:"Retype the password.",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus,type:"password"},model:{value:e.PasswordAgain,callback:function(t){e.PasswordAgain=t},expression:"PasswordAgain"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Associated Dispatch Pulse Information")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("ContactSelectField",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,showDetails:!1,isDialogue:e.isDialogue},model:{value:e.BillingContactDispatchPulseContactId,callback:function(t){e.BillingContactDispatchPulseContactId=t},expression:"BillingContactDispatchPulseContactId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("AgentSelectField",{attrs:{disabled:e.GetDemoMode()||"Connected"!=e.connectionStatus,showDetails:!1,isDialogue:e.isDialogue},model:{value:e.BillingContactDispatchPulseAgentId,callback:function(t){e.BillingContactDispatchPulseAgentId=t},expression:"BillingContactDispatchPulseAgentId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Communication Preferences")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Marketing Emails"},model:{value:e.MarketingEmails,callback:function(t){e.MarketingEmails=t},expression:"MarketingEmails"}}),n("v-switch",{attrs:{label:"Tutorial Emails"},model:{value:e.TutorialEmails,callback:function(t){e.TutorialEmails=t},expression:"TutorialEmails"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{staticClass:"e2e-billing-contact-editor-phone",attrs:{autocomplete:"newpassword",label:"Phone Number",hint:"",rules:[e.ValidateRequiredField],disabled:"Connected"!=e.connectionStatus},model:{value:e.Phone,callback:function(t){e.Phone=t},expression:"Phone"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Advanced")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{readonly:"readonly",label:"Unique ID",hint:"The id of this contact."},model:{value:e.Id,callback:function(t){e.Id=t},expression:"Id"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Company Account Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The company account no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the company account while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DoDelete()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},iA=[],oA=function(e){switch(e){case"billing.contacts.read-company":return"See company contacts.";case"billing.permissions-bool.read-self":return"See their own permissions #2.";case"billing.sessions.read-self":return"See their own sessions.";case"billing.permissions-groups-memberships.read-self":return"See their own group membership.";case"billing.subscription-provisioning-status.request-company":return"See how the app is configured.";case"billing.contacts.add-company":return"Add company accounts.";case"billing.contacts.modify-company":return"Modify company accounts.";case"billing.contacts.delete-company":return"Delete company accounts.";case"billing.coupon-codes.read-company":return"See DP coupon codes (company).";case"billing.industries.read-company":return"See DP industries (company).";case"billing.invoices.read-company":return"See DP invoices (company).";case"billing.journal-entries.read-company":return"See DP journal entries (company).";case"billing.packages.read-company":return"See DP packages (company).";case"billing.packages-type.read-company":return"See DP packages type (company).";case"billing.payment-frequencies.read-company":return"See DP payment frequencies (company).";case"billing.payment-method.read-company":return"See DP payment method (company).";case"billing.permissions-bool.read-company":return"See company account permissions.";case"billing.permissions-bool.modify-company":return"Modify company account permissions.";case"billing.permissions-bool.delete-company":return"Delete company account permissions.";case"billing.sessions.read-company":return"See company account sessions.";case"billing.sessions.add-company":return"Add company account sessions.";case"billing.sessions.modify-company":return"Modify company account sessions.";case"billing.subscription.read-company":return"See DP subscriptions (company).";case"billing.permissions-groups.read-company":return"See company permissions groups.";case"billing.permissions-groups-memberships.read-company":return"See company permissions group memberships.";case"crm.agents.request-company":return"See agents (company).";case"crm.assignments.request-company":return"See assignments (company).";case"crm.assignments-status.request-company":return"See assignment's status (company).";case"crm.companies.request-company":return"See companies (company).";case"crm.contacts.request-company":return"See contacts (company).";case"crm.labour.request-company":return"See labour (company).";case"crm.labour-subtype-exception.request-company":return"See labour subtype exception (company).";case"crm.labour-subtype-holidays.request-company":return"See labour subtype holidays (company).";case"crm.labour-subtype-non-billable.request-company":return"See labour subtype non-billable (company).";case"crm.labour-types.request-company":return"See labour types (company).";case"crm.products.request-company":return"See products (company).";case"crm.projects.request-company":return"See projects (company).";case"crm.project-status.request-company":return"See project's status.";case"crm.settings-provisioning.request-company":return"See provisioning (company).";case"crm.settings-user.request-company":return"See user settngs (company).";case"crm.skills.request-company":return"See skills (company).";case"crm.project-notes.request-company":return"See project notes (company).";case"crm.agents-employment-status.delete-company":return"Delete agent's employment status (company).";case"crm.agents-employment-status.push-company":return"Modify agent's employment status (company).";case"crm.agents-employment-status.request-company":return"See agent's employment status (company).";case"crm.assignments.delete-company":return"Delete assignments (company).";case"crm.assignments.push-company":return"Modify assignments (company).";case"crm.assignments-status.delete-company":return"Delete assignment's status (company).";case"crm.assignments-status.push-company":return"Modify assignment's status (company).";case"crm.companies.delete-company":return"Delete companies (company).";case"crm.companies.push-company":return"Modify companies (company).";case"crm.contacts.delete-company":return"Delete company (company).";case"crm.contacts.push-company":return"Modify company (company).";case"crm.estimating-man-hours.delete-company":return"Delete man hours (company).";case"crm.estimating-man-hours.request-company":return"See man hours (company).";case"crm.labour.delete-company":return"Delete labour (company).";case"crm.labour.push-company":return"Modify labour (company).";case"crm.labour-subtype-exception.push-company":return"Modify labour subtype exception (company).";case"crm.labour-subtype-holidays.delete-company":return"Delete labour subtype holidays (company).";case"crm.labour-subtype-holidays.push-company":return"Modify labour subtype holidays (company).";case"crm.labour-subtype-non-billable.delete-company":return"Delete labour subtype non billable (company).";case"crm.labour-subtype-non-billable.push-company":return"Modify labour subtype non billable (company).";case"crm.labour-types.delete-company":return"Delete labour types (company).";case"crm.labour-types.push-company":return"Modify labour types (company).";case"crm.materials.delete-company":return"Delete materials (company).";case"crm.materials.push-company":return"Modify materials (company).";case"crm.materials.request-company":return"See materials (company).";case"crm.products.delete-company":return"Delete products (company).";case"crm.products.push-company":return"Modify products (company).";case"crm.project-notes.delete-company":return"Delete product notes (company).";case"crm.project-notes.push-company":return"Modify product notes (company).";case"crm.projects.push-company":return"Modify company (company).";case"crm.project-status.delete-company":return"Delete company (company).";case"crm.project-status.push-company":return"Modify project status (company).";case"crm.settings-default.delete-company":return"Delete settings default (company).";case"crm.settings-default.push-company":return"Modify settings default (company).";case"crm.settings-default.request-company":return"See settings default (company).";case"crm.settings-provisioning.push-company":return"Modify settings provisioning (company).";case"crm.settings-user.delete-company":return"Modify user settings (company).";case"crm.skills.push-company":return"Modify skills (company)";case"crm.agents.delete-company":return"Delete agents (company).";case"crm.agents.push-company":return"Modify agents (company).";case"crm.settings-user.push-company":return"Modify user settings (company).";case"crm.estimating-man-hours.push-company":return"Modify man hours (company).";case"crm.labour-subtype-exception.delete-company":return"Delete labour subtype exception (company).";case"billing.currency.read-company":return"See DP Currency (company)";case"billing.permissions-bool.add-company":return"Add DP permissions (company) #2";case"billing.sessions.delete-company":return"Delete DP Sessions (company).";case"billing.permissions-groups-memberships.modify-company":return"Modify DP permissions group memberships (company).";case"billing.permissions-groups-memberships.delete-company":return"Delete DP permissions group memberships (company).";case"billing.journal-entries-type.read-company":return"See DP journal entries type (company).";case"crm.projects.delete-company":return"Delete projects (company).";case"crm.settings-provisioning.delete-company":return"Delete settings provisioning (company).";case"crm.skills.delete-company":return"Delete skills (company).";case"crm.backups.run-local":return"Run local backups.";case"crm.backups.run-server":return"Run server backups.";default:return e}},sA=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.GetDemoMode=O,e.ValidateRequiredField=zs,e.CSVDownloadContact=Kb,e.DialoguesOpen=ca.Open,e.PermissionsKeyToDisplayName=oA,e.loadingData=!1,e.password1Initial="UNCHANGED".concat(k()),e.password1=e.password1Initial,e.password2Initial="UNCHANGED".concat(k()),e.password2=e.password2Initial,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"ResetPasswordToDefault",value:function(){this.password1=this.password1Initial,this.password2=this.password2Initial}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Permissions:1,permissions:1}}},{key:"valueChanged",value:function(e,t){this.LoadData(),console.log("valueChanged",e)}},{key:"MountedAfter",value:function(){this.LoadData(),this.ResetPasswordToDefault()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(e.value&&e.value.applicationData){if(e.value.applicationData.dispatchPulseContactId&&!y(e.value.applicationData.dispatchPulseContactId)){var n=un.ForId(e.value.applicationData.dispatchPulseContactId);if(!n){var a=un.FetchForId(e.value.applicationData.dispatchPulseContactId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}if(e.value.applicationData.dispatchPulseAgentId&&!y(e.value.applicationData.dispatchPulseAgentId)){var i=Pe.ForId(e.value.applicationData.dispatchPulseAgentId);if(!i){var o=Pe.FetchForId(e.value.applicationData.dispatchPulseAgentId);o.completeRequestPromise&&t.push(o.completeRequestPromise)}}}t.length>0?(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1}))):e.loadingData=!1}))}))}},{key:"FullName",get:function(){return this.value&&this.value.fullName?this.value.fullName:null},set:function(e){this.value&&(this.value.fullName=y(e)?null:e,this.SignalChanged())}},{key:"BillingContactDispatchPulseContactId",get:function(){return this.value&&this.value.applicationData&&this.value.applicationData.dispatchPulseContactId?this.value.applicationData.dispatchPulseContactId:null},set:function(e){this.value&&(this.value.applicationData||(this.value.applicationData={}),this.value.applicationData.dispatchPulseContactId=y(e)?null:e,this.SignalChanged())}},{key:"BillingContactDispatchPulseAgentId",get:function(){return this.value&&this.value.applicationData&&this.value.applicationData.dispatchPulseAgentId?this.value.applicationData.dispatchPulseAgentId:null},set:function(e){this.value&&(this.value.applicationData||(this.value.applicationData={}),this.value.applicationData.dispatchPulseAgentId=y(e)?null:e,this.SignalChanged())}},{key:"MarketingEmails",get:function(){return!(!this.value||!this.value.emailListMarketing)&&this.value.emailListMarketing},set:function(e){this.value&&(this.value.emailListMarketing=void 0!==e&&e,this.SignalChanged())}},{key:"TutorialEmails",get:function(){return!(!this.value||!this.value.emailListTutorials)&&this.value.emailListTutorials},set:function(e){this.value&&(this.value.emailListTutorials=void 0!==e&&e,this.SignalChanged())}},{key:"EMail",get:function(){return this.value&&this.value.email?this.value.email:null},set:function(e){console.debug("set EMail 1",e),this.value&&(this.value.email=y(e)?null:e,this.SignalChanged())}},{key:"Password",get:function(){return this.password1},set:function(e){this.password1=e,this.MaybeSetPasscode()}},{key:"PasswordAgain",get:function(){return this.password2},set:function(e){this.password2=e,this.MaybeSetPasscode()}},{key:"MaybeSetPasscode",value:function(){if(this.value)if(this.password1=this.password1.trim(),this.password2=this.password2.trim(),y(this.password1))console.debug("Not setting passcode because it is empty.");else if(this.password1===this.password2)if(this.password1!==this.password1Initial)if(this.password2!==this.password2Initial){var e=mp.a.genSaltSync(11),t=mp.a.hashSync(this.password1,e);this.value.passwordHash=t,this.SignalChanged()}else console.debug("Not setting because password 2 is set to the default password.");else console.debug("Not setting because password 1 is set to the default password.");else console.debug("Not setting passcode because 1 and 2 don't match.")}},{key:"Phone",get:function(){return this.value&&this.value.phone?this.value.phone:null},set:function(e){this.value&&(this.value.phone=y(e)?null:e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.uuid?this.value.uuid:null}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/support/","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],sA.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],sA.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],sA.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],sA.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],sA.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],sA.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],sA.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["d"])("value")],sA.prototype,"valueChanged",null),sA=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,PhoneNumberEditRowArrayAdapter:gb,EMailEditRowArrayAdapter:Mb,AddressEditRowArrayAdapter:Wb,CompanySelectField:Lh,ReloadButton:ms,NotificationBellButton:hl}})],sA);var rA=sA,lA=rA,cA=Object(ha["a"])(lA,aA,iA,!1,null,"2781d0d4",null),uA=cA.exports;ga()(cA,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbarTitle:wo["a"]});var dA=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.json.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$refs.editor.ResetValidation(),this.$emit("cancel",null),this.$refs.editor.SelectFirstTab(),this.$refs.editor.ResetPasswordToDefault()}},{key:"Save",value:function(){console.log("Save",this.$refs),this.$refs.editor.IsValidated()?(this.$emit("save",this.value),this.$refs.editor.ResetValidation(),this.$refs.editor.SelectFirstTab(),this.$refs.editor.ResetPasswordToDefault()):D.AddNotification({severity:"error",message:"Some of the form fields didn't pass validation.",autoClearInSeconds:10})}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],dA.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],dA.prototype,"isMakingNew",void 0),dA=Object(v["a"])([Object(p["a"])({components:{BillingContactEditor:uA}})],dA);var mA=dA,vA=mA,pA=Object(ha["a"])(vA,tA,nA,!1,null,null,null),fA=pA.exports;ga()(pA,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var hA=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.dialogueName))]),n("v-divider"),n("v-card-text",[n("BillingContactPermissionsEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:e.isMakingNew,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")])],1)],1)],1)},bA=[],gA=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")]),n("v-tab",{attrs:{disabled:!e.value||e.isMakingNew},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Permissions"})}).catch((function(e){}))}}},[e._v(" Projects ")])],1)]},proxy:!0}],null,!1,2798835550)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Company Account"),e.FullName?n("span",[e._v(": "+e._s(e.FullName))]):e._e()]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company Account Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}})],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{display:"none"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" Permissions ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-card-title",{staticStyle:{"padding-left":"0px","padding-right":"0px"}},[e._v("Groups")]),n("v-card-subtitle",{staticStyle:{"padding-left":"0px","padding-right":"0px"}},[e._v("Select the groups for this account.")]),n("v-card-text",{staticStyle:{"padding-left":"0px","padding-right":"0px"}},[e._v("Changes to groups take effect immediately on change.")]),n("v-select",{attrs:{hint:"Select the main group for this account.",items:e.Groups,label:"Select","single-line":"",multiple:"",chips:""},model:{value:e.SelectedGroups,callback:function(t){e.SelectedGroups=t},expression:"SelectedGroups"}}),n("v-expansion-panels",{attrs:{accordion:""}},[n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Group Provided Permissions")]),e._l(e.PermissionsForSelectedGroups,(function(t,a){return n("v-expansion-panel-content",{key:a},[n("v-icon",[e._v("done")]),e._v(" "+e._s(e.PermissionsKeyToDisplayName(t))+" ")],1)}))],2),n("v-expansion-panel",[n("v-expansion-panel-header",[e._v("Other Permissions")]),n("v-expansion-panel-content",[n("v-card-subtitle",{staticStyle:{"padding-left":"0px","padding-right":"0px","padding-top":"0px"}},[e._v("In addition to the permissions given by the groups, what else should this account be able to do?")]),n("p",{staticStyle:{"font-weight":"bold"}},[e._v("Billing")]),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Accounts")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.contacts.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.contacts.read-company"),"hide-details":!0},model:{value:e.PermBillingContactsReadCompany,callback:function(t){e.PermBillingContactsReadCompany=t},expression:"PermBillingContactsReadCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.contacts.add-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.contacts.add-company"),"hide-details":!0},model:{value:e.PermBillingContactsAddCompany,callback:function(t){e.PermBillingContactsAddCompany=t},expression:"PermBillingContactsAddCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.contacts.modify-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.contacts.modify-company"),"hide-details":!0},model:{value:e.PermBillingContactsModifyCompany,callback:function(t){e.PermBillingContactsModifyCompany=t},expression:"PermBillingContactsModifyCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.contacts.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.contacts.delete-company"),"hide-details":!0},model:{value:e.PermBillingContactsDeleteCompany,callback:function(t){e.PermBillingContactsDeleteCompany=t},expression:"PermBillingContactsDeleteCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Permissions #2")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-bool.read-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-bool.read-self"),"hide-details":!0},model:{value:e.PermBillingPermissionsBoolReadSelf,callback:function(t){e.PermBillingPermissionsBoolReadSelf=t},expression:"PermBillingPermissionsBoolReadSelf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-bool.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-bool.read-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsBoolReadCompany,callback:function(t){e.PermBillingPermissionsBoolReadCompany=t},expression:"PermBillingPermissionsBoolReadCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-bool.modify-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-bool.modify-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsBoolModifyCompany,callback:function(t){e.PermBillingPermissionsBoolModifyCompany=t},expression:"PermBillingPermissionsBoolModifyCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-bool.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-bool.delete-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsBoolDeleteCompany,callback:function(t){e.PermBillingPermissionsBoolDeleteCompany=t},expression:"PermBillingPermissionsBoolDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-bool.add-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-bool.add-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsBoolAddCompany,callback:function(t){e.PermBillingPermissionsBoolAddCompany=t},expression:"PermBillingPermissionsBoolAddCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Permission Groups")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-groups-memberships.read-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-groups-memberships.read-self"),"hide-details":!0},model:{value:e.PermbillingPermissionsGroupsMembershipsReadSelf,callback:function(t){e.PermbillingPermissionsGroupsMembershipsReadSelf=t},expression:"PermbillingPermissionsGroupsMembershipsReadSelf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-groups.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-groups.read-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsGroupsReadCompany,callback:function(t){e.PermBillingPermissionsGroupsReadCompany=t},expression:"PermBillingPermissionsGroupsReadCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-groups-memberships.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-groups-memberships.read-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsGroupsMembershipsReadCompany,callback:function(t){e.PermBillingPermissionsGroupsMembershipsReadCompany=t},expression:"PermBillingPermissionsGroupsMembershipsReadCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-groups-memberships.modify-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-groups-memberships.modify-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsGroupsMembershipsModifyCompany,callback:function(t){e.PermBillingPermissionsGroupsMembershipsModifyCompany=t},expression:"PermBillingPermissionsGroupsMembershipsModifyCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.permissions-groups-memberships.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.permissions-groups-memberships.delete-company"),"hide-details":!0},model:{value:e.PermBillingPermissionsGroupsMembershipsDeleteCompany,callback:function(t){e.PermBillingPermissionsGroupsMembershipsDeleteCompany=t},expression:"PermBillingPermissionsGroupsMembershipsDeleteCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Sessions")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.sessions.read-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.sessions.read-self"),"hide-details":!0},model:{value:e.PermBillingSessionsReadSelf,callback:function(t){e.PermBillingSessionsReadSelf=t},expression:"PermBillingSessionsReadSelf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.sessions.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.sessions.read-company"),"hide-details":!0},model:{value:e.PermBillingSessionsReadCompany,callback:function(t){e.PermBillingSessionsReadCompany=t},expression:"PermBillingSessionsReadCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.sessions.add-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.sessions.add-company"),"hide-details":!0},model:{value:e.PermBillingSessionsAddCompany,callback:function(t){e.PermBillingSessionsAddCompany=t},expression:"PermBillingSessionsAddCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.sessions.modify-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.sessions.modify-company"),"hide-details":!0},model:{value:e.PermBillingSessionsModifyCompany,callback:function(t){e.PermBillingSessionsModifyCompany=t},expression:"PermBillingSessionsModifyCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("billing.sessions.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.sessions.delete-company"),"hide-details":!0},model:{value:e.PermBillingSessionsDeleteCompany,callback:function(t){e.PermBillingSessionsDeleteCompany=t},expression:"PermBillingSessionsDeleteCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Provisioning Status")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.subscription-provisioning-status.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.subscription-provisioning-status.request-company"),"hide-details":!0},model:{value:e.PermBillingSubscriptionProvisioningStatusRequestCompany,callback:function(t){e.PermBillingSubscriptionProvisioningStatusRequestCompany=t},expression:"PermBillingSubscriptionProvisioningStatusRequestCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Coupon Codes")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.coupon-codes.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.coupon-codes.read-company"),"hide-details":!0},model:{value:e.PermBillingCouponCodesReadCompany,callback:function(t){e.PermBillingCouponCodesReadCompany=t},expression:"PermBillingCouponCodesReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Industries")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.industries.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.industries.read-company"),"hide-details":!0},model:{value:e.PermBillingIndustriesReadCompany,callback:function(t){e.PermBillingIndustriesReadCompany=t},expression:"PermBillingIndustriesReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Invoices")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.invoices.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.invoices.read-company"),"hide-details":!0},model:{value:e.PermBillingInvoicesReadCompany,callback:function(t){e.PermBillingInvoicesReadCompany=t},expression:"PermBillingInvoicesReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Journal Entries")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.journal-entries.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.journal-entries.read-company"),"hide-details":!0},model:{value:e.PermBillingJournalEntriesReadCompany,callback:function(t){e.PermBillingJournalEntriesReadCompany=t},expression:"PermBillingJournalEntriesReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Packages")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.packages.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.packages.read-company"),"hide-details":!0},model:{value:e.PermBillingPackagesReadCompany,callback:function(t){e.PermBillingPackagesReadCompany=t},expression:"PermBillingPackagesReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Package Types")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.packages-type.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.packages-type.read-company"),"hide-details":!0},model:{value:e.PermBillingPackagesTypeReadCompany,callback:function(t){e.PermBillingPackagesTypeReadCompany=t},expression:"PermBillingPackagesTypeReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Payment Frequencies")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.payment-frequencies.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.payment-frequencies.read-company"),"hide-details":!0},model:{value:e.PermBillingPaymentFrequenciesReadCompany,callback:function(t){e.PermBillingPaymentFrequenciesReadCompany=t},expression:"PermBillingPaymentFrequenciesReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Payment Methods")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.payment-method.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.payment-method.read-company"),"hide-details":!0},model:{value:e.PermBillingPaymentMethodReadCompany,callback:function(t){e.PermBillingPaymentMethodReadCompany=t},expression:"PermBillingPaymentMethodReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Subscriptions")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.subscription.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.subscription.read-company"),"hide-details":!0},model:{value:e.PermBillingSubscriptionReadCompany,callback:function(t){e.PermBillingSubscriptionReadCompany=t},expression:"PermBillingSubscriptionReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Currencies")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.currency.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.currency.read-company"),"hide-details":!0},model:{value:e.PermBillingCurrencyReadCompany,callback:function(t){e.PermBillingCurrencyReadCompany=t},expression:"PermBillingCurrencyReadCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Journal Entry Types")]),-1===e.PermissionsForSelectedGroups.indexOf("billing.journal-entries-type.read-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("billing.journal-entries-type.read-company"),"hide-details":!0},model:{value:e.PermBillingJournalEntriesTypeReadCompany,callback:function(t){e.PermBillingJournalEntriesTypeReadCompany=t},expression:"PermBillingJournalEntriesTypeReadCompany"}})],1):e._e(),n("p",{staticStyle:{"font-weight":"bold","margin-top":"40px"}},[e._v("Dispatch Pulse")]),n("p",[e._v("Agents")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.agents.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.agents.request-company"),"hide-details":!0},model:{value:e.PermCrmAgentsRequestCompany,callback:function(t){e.PermCrmAgentsRequestCompany=t},expression:"PermCrmAgentsRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.agents.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.agents.delete-company"),"hide-details":!0},model:{value:e.PermCrmAgentsDeleteCompany,callback:function(t){e.PermCrmAgentsDeleteCompany=t},expression:"PermCrmAgentsDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.agents.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.agents.push-company"),"hide-details":!0},model:{value:e.PermCrmAgentsPushCompany,callback:function(t){e.PermCrmAgentsPushCompany=t},expression:"PermCrmAgentsPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.agents.request-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.agents.request-self"),"hide-details":!0},model:{value:e.PermCrmAgentsRequestSelf,callback:function(t){e.PermCrmAgentsRequestSelf=t},expression:"PermCrmAgentsRequestSelf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.agents.display-own")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.agents.display-own"),"hide-details":!0},model:{value:e.PermCrmAgentsDisplayOwn,callback:function(t){e.PermCrmAgentsDisplayOwn=t},expression:"PermCrmAgentsDisplayOwn"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Agent's Employment Status")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.employment-status.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.employment-status.delete-company"),"hide-details":!0},model:{value:e.PermCrmAgentsEmploymentStatusDeleteCompany,callback:function(t){e.PermCrmAgentsEmploymentStatusDeleteCompany=t},expression:"PermCrmAgentsEmploymentStatusDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.employment-status.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.employment-status.push-company"),"hide-details":!0},model:{value:e.PermCrmAgentsEmploymentStatusPushCompany,callback:function(t){e.PermCrmAgentsEmploymentStatusPushCompany=t},expression:"PermCrmAgentsEmploymentStatusPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.employment-status.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.employment-status.request-company"),"hide-details":!0},model:{value:e.PermCrmAgentsEmploymentStatusRequestCompany,callback:function(t){e.PermCrmAgentsEmploymentStatusRequestCompany=t},expression:"PermCrmAgentsEmploymentStatusRequestCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Assignments")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.assignments.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.assignments.request-company"),"hide-details":!0},model:{value:e.PermCrmAssignmentsRequestCompany,callback:function(t){e.PermCrmAssignmentsRequestCompany=t},expression:"PermCrmAssignmentsRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.assignments.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.assignments.delete-company"),"hide-details":!0},model:{value:e.PermCrmAssignmentsDeleteCompany,callback:function(t){e.PermCrmAssignmentsDeleteCompany=t},expression:"PermCrmAssignmentsDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.assignments.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.assignments.push-company"),"hide-details":!0},model:{value:e.PermCrmAssignmentsPushCompany,callback:function(t){e.PermCrmAssignmentsPushCompany=t},expression:"PermCrmAssignmentsPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.assignments.request-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.assignments.request-self"),"hide-details":!0},model:{value:e.PermCrmAssignmentsRequestSelf,callback:function(t){e.PermCrmAssignmentsRequestSelf=t},expression:"PermCrmAssignmentsRequestSelf"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Assignment's Status")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.assignments-status.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.assignments-status.request-company"),"hide-details":!0},model:{value:e.PermCrmAssignmentsStatusRequestCompany,callback:function(t){e.PermCrmAssignmentsStatusRequestCompany=t},expression:"PermCrmAssignmentsStatusRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.assignments-status.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.assignments-status.delete-company"),"hide-details":!0},model:{value:e.PermCrmAssignmentsStatusDeleteCompany,callback:function(t){e.PermCrmAssignmentsStatusDeleteCompany=t},expression:"PermCrmAssignmentsStatusDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.assignments-status.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.assignments-status.push-company"),"hide-details":!0},model:{value:e.PermCrmAssignmentsStatusPushCompany,callback:function(t){e.PermCrmAssignmentsStatusPushCompany=t},expression:"PermCrmAssignmentsStatusPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Companies")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.companies.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.companies.request-company"),"hide-details":!0},model:{value:e.PermCrmCompaniesRequestCompany,callback:function(t){e.PermCrmCompaniesRequestCompany=t},expression:"PermCrmCompaniesRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.companies.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.companies.delete-company"),"hide-details":!0},model:{value:e.PermCrmCompaniesDeleteCompany,callback:function(t){e.PermCrmCompaniesDeleteCompany=t},expression:"PermCrmCompaniesDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.companies.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.companies.push-company"),"hide-details":!0},model:{value:e.PermCrmCompaniesPushCompany,callback:function(t){e.PermCrmCompaniesPushCompany=t},expression:"PermCrmCompaniesPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Contacts")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.contacts.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.contacts.request-company"),"hide-details":!0},model:{value:e.PermCrmContactsRequestCompany,callback:function(t){e.PermCrmContactsRequestCompany=t},expression:"PermCrmContactsRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.contacts.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.contacts.delete-company"),"hide-details":!0},model:{value:e.PermCrmContactsDeleteCompany,callback:function(t){e.PermCrmContactsDeleteCompany=t},expression:"PermCrmContactsDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.contacts.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.contacts.push-company"),"hide-details":!0},model:{value:e.PermCrmContactsPushCompany,callback:function(t){e.PermCrmContactsPushCompany=t},expression:"PermCrmContactsPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Labour")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour.request-company"),"hide-details":!0},model:{value:e.PermCrmLabourRequestCompany,callback:function(t){e.PermCrmLabourRequestCompany=t},expression:"PermCrmLabourRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour.delete-company"),"hide-details":!0},model:{value:e.PermCrmEstimatingManHoursDeleteCompany,callback:function(t){e.PermCrmEstimatingManHoursDeleteCompany=t},expression:"PermCrmEstimatingManHoursDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour.push-company"),"hide-details":!0},model:{value:e.PermCrmLabourPushCompany,callback:function(t){e.PermCrmLabourPushCompany=t},expression:"PermCrmLabourPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour.manual-entries")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour.manual-entries"),"hide-details":!0},model:{value:e.PermCrmLabourManualEntries,callback:function(t){e.PermCrmLabourManualEntries=t},expression:"PermCrmLabourManualEntries"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour.delete-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour.delete-self"),"hide-details":!0},model:{value:e.PermCrmLabourDeleteSelf,callback:function(t){e.PermCrmLabourDeleteSelf=t},expression:"PermCrmLabourDeleteSelf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour.push-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour.push-self"),"hide-details":!0},model:{value:e.PermCrmLabourPushSelf,callback:function(t){e.PermCrmLabourPushSelf=t},expression:"PermCrmLabourPushSelf"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Labour Subtype Exception")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-exception.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-exception.request-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeExceptionRequestCompany,callback:function(t){e.PermCrmLabourSubtypeExceptionRequestCompany=t},expression:"PermCrmLabourSubtypeExceptionRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-exception.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-exception.push-company"),"hide-details":!0},model:{value:e.PermcrmLabourSubtypeExceptionPushCompany,callback:function(t){e.PermcrmLabourSubtypeExceptionPushCompany=t},expression:"PermcrmLabourSubtypeExceptionPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-exception.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-exception.delete-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeExceptionDeleteCompany,callback:function(t){e.PermCrmLabourSubtypeExceptionDeleteCompany=t},expression:"PermCrmLabourSubtypeExceptionDeleteCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Labour Subtype Holidays")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-holidays.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-holidays.request-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeHolidaysRequestCompany,callback:function(t){e.PermCrmLabourSubtypeHolidaysRequestCompany=t},expression:"PermCrmLabourSubtypeHolidaysRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-holidays.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-holidays.delete-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeHolidaysDeleteCompany,callback:function(t){e.PermCrmLabourSubtypeHolidaysDeleteCompany=t},expression:"PermCrmLabourSubtypeHolidaysDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-holidays.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-holidays.push-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeHolidaysPushCompany,callback:function(t){e.PermCrmLabourSubtypeHolidaysPushCompany=t},expression:"PermCrmLabourSubtypeHolidaysPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Labour Subtype Non-billable")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-non-billable.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-non-billable.request-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeNonBillableRequestCompany,callback:function(t){e.PermCrmLabourSubtypeNonBillableRequestCompany=t},expression:"PermCrmLabourSubtypeNonBillableRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-non-billable.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-non-billable.delete-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeNonBillableDeleteCompany,callback:function(t){e.PermCrmLabourSubtypeNonBillableDeleteCompany=t},expression:"PermCrmLabourSubtypeNonBillableDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-subtype-non-billable.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-subtype-non-billable.push-company"),"hide-details":!0},model:{value:e.PermCrmLabourSubtypeNonBillablePushCompany,callback:function(t){e.PermCrmLabourSubtypeNonBillablePushCompany=t},expression:"PermCrmLabourSubtypeNonBillablePushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Labour Types")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-types.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-types.request-company"),"hide-details":!0},model:{value:e.PermCrmLabourTypesRequestCompany,callback:function(t){e.PermCrmLabourTypesRequestCompany=t},expression:"PermCrmLabourTypesRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-types.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-types.delete-company"),"hide-details":!0},model:{value:e.PermCrmLabourTypesDeleteCompany,callback:function(t){e.PermCrmLabourTypesDeleteCompany=t},expression:"PermCrmLabourTypesDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.labour-types.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.labour-types.push-company"),"hide-details":!0},model:{value:e.PermCrmLabourTypesPushCompany,callback:function(t){e.PermCrmLabourTypesPushCompany=t},expression:"PermCrmLabourTypesPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Products")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.products.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.products.request-company"),"hide-details":!0},model:{value:e.PermCrmProductsRequestCompany,callback:function(t){e.PermCrmProductsRequestCompany=t},expression:"PermCrmProductsRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.products.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.products.delete-company"),"hide-details":!0},model:{value:e.PermCrmProductsDeleteCompany,callback:function(t){e.PermCrmProductsDeleteCompany=t},expression:"PermCrmProductsDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.products.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.products.push-company"),"hide-details":!0},model:{value:e.PermCrmProductsPushCompany,callback:function(t){e.PermCrmProductsPushCompany=t},expression:"PermCrmProductsPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Projects")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.projects.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.projects.request-company"),"hide-details":!0},model:{value:e.PermCrmProjectsRequestCompany,callback:function(t){e.PermCrmProjectsRequestCompany=t},expression:"PermCrmProjectsRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.projects.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.projects.push-company"),"hide-details":!0},model:{value:e.PermCrmProjectsPushCompany,callback:function(t){e.PermCrmProjectsPushCompany=t},expression:"PermCrmProjectsPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.projects.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.projects.delete-company"),"hide-details":!0},model:{value:e.PermCrmProjectsDeleteCompany,callback:function(t){e.PermCrmProjectsDeleteCompany=t},expression:"PermCrmProjectsDeleteCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Project's Status")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.project-status.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.project-status.request-company"),"hide-details":!0},model:{value:e.PermCrmProjectStatusRequestCompany,callback:function(t){e.PermCrmProjectStatusRequestCompany=t},expression:"PermCrmProjectStatusRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.project-status.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.project-status.delete-company"),"hide-details":!0},model:{value:e.PermCrmProjectStatusDeleteCompany,callback:function(t){e.PermCrmProjectStatusDeleteCompany=t},expression:"PermCrmProjectStatusDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.project-status.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.project-status.push-company"),"hide-details":!0},model:{value:e.PermCrmProjectStatusPushCompany,callback:function(t){e.PermCrmProjectStatusPushCompany=t},expression:"PermCrmProjectStatusPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.view.billing-index.merge-projects")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.view.billing-index.merge-projects"),"hide-details":!0},model:{value:e.PermCrmViewBllingIndexMergeProjects,callback:function(t){e.PermCrmViewBllingIndexMergeProjects=t},expression:"PermCrmViewBllingIndexMergeProjects"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Settings (User)")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.settings-user.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.settings-user.request-company"),"hide-details":!0},model:{value:e.PermCrmSettingsUserRequestCompany,callback:function(t){e.PermCrmSettingsUserRequestCompany=t},expression:"PermCrmSettingsUserRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.settings-user.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.settings-user.push-company"),"hide-details":!0},model:{value:e.PermCrmSettingsUserPushCompany,callback:function(t){e.PermCrmSettingsUserPushCompany=t},expression:"PermCrmSettingsUserPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.settings-user.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.settings-user.delete-company"),"hide-details":!0},model:{value:e.PermCrmSettingsUserDeleteCompany,callback:function(t){e.PermCrmSettingsUserDeleteCompany=t},expression:"PermCrmSettingsUserDeleteCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Skills")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.skills.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.skills.request-company"),"hide-details":!0},model:{value:e.PermCrmSkillsRequestCompany,callback:function(t){e.PermCrmSkillsRequestCompany=t},expression:"PermCrmSkillsRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.skills.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.skills.push-company"),"hide-details":!0},model:{value:e.PermCrmSkillsPushCompany,callback:function(t){e.PermCrmSkillsPushCompany=t},expression:"PermCrmSkillsPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.skills.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.skills.delete-company"),"hide-details":!0},model:{value:e.PermCrmSkillsDeleteCompany,callback:function(t){e.PermCrmSkillsDeleteCompany=t},expression:"PermCrmSkillsDeleteCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Project Notes")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.project-notes.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.project-notes.request-company"),"hide-details":!0},model:{value:e.PermCrmProjectNotesRequestCompany,callback:function(t){e.PermCrmProjectNotesRequestCompany=t},expression:"PermCrmProjectNotesRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.project-notes.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.project-notes.delete-company"),"hide-details":!0},model:{value:e.PermCrmProjectNotesDeleteCompany,callback:function(t){e.PermCrmProjectNotesDeleteCompany=t},expression:"PermCrmProjectNotesDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.project-notes.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.project-notes.push-company"),"hide-details":!0},model:{value:e.PermCrmProjectNotesPushCompany,callback:function(t){e.PermCrmProjectNotesPushCompany=t},expression:"PermCrmProjectNotesPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Man Hours")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.estimating-man-hours.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.estimating-man-hours.delete-company"),"hide-details":!0},model:{value:e.PermCrmEstimatingManHoursDeleteCompany,callback:function(t){e.PermCrmEstimatingManHoursDeleteCompany=t},expression:"PermCrmEstimatingManHoursDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.estimating-man-hours.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.estimating-man-hours.request-company"),"hide-details":!0},model:{value:e.PermCrmEstimatingManHoursRequestCompany,callback:function(t){e.PermCrmEstimatingManHoursRequestCompany=t},expression:"PermCrmEstimatingManHoursRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.estimating-man-hours.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.estimating-man-hours.push-company"),"hide-details":!0},model:{value:e.PermCrmEstimatingManHoursPushCompany,callback:function(t){e.PermCrmEstimatingManHoursPushCompany=t},expression:"PermCrmEstimatingManHoursPushCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Materials")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.materials.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.materials.delete-company"),"hide-details":!0},model:{value:e.PermCrmMaterialsDeleteCompany,callback:function(t){e.PermCrmMaterialsDeleteCompany=t},expression:"PermCrmMaterialsDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.materials.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.materials.push-company"),"hide-details":!0},model:{value:e.PermCrmMaterialsPushCompany,callback:function(t){e.PermCrmMaterialsPushCompany=t},expression:"PermCrmMaterialsPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.materials.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.materials.request-company"),"hide-details":!0},model:{value:e.PermCrmMaterialsRequestCompany,callback:function(t){e.PermCrmMaterialsRequestCompany=t},expression:"PermCrmMaterialsRequestCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.materials.request-self")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.materials.request-self"),"hide-details":!0},model:{value:e.PermCrmMaterialsRequestSelf,callback:function(t){e.PermCrmMaterialsRequestSelf=t},expression:"PermCrmMaterialsRequestSelf"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Default Settings")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.settings-default.delete-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.settings-default.delete-company"),"hide-details":!0},model:{value:e.PermCrmSettingsDefaultDeleteCompany,callback:function(t){e.PermCrmSettingsDefaultDeleteCompany=t},expression:"PermCrmSettingsDefaultDeleteCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.settings-default.push-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.settings-default.push-company"),"hide-details":!0},model:{value:e.PermCrmSettingsDefaultPushCompany,callback:function(t){e.PermCrmSettingsDefaultPushCompany=t},expression:"PermCrmSettingsDefaultPushCompany"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.settings-default.request-company")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.settings-default.request-company"),"hide-details":!0},model:{value:e.PermCrmSettingsDefaultRequestCompany,callback:function(t){e.PermCrmSettingsDefaultRequestCompany=t},expression:"PermCrmSettingsDefaultRequestCompany"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Dashboard")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.view.dashboard.dispatch-tab")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.view.dashboard.dispatch-tab"),"hide-details":!0},model:{value:e.PermCrmViewDashboardDispatchTab,callback:function(t){e.PermCrmViewDashboardDispatchTab=t},expression:"PermCrmViewDashboardDispatchTab"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.view.dashboard.billing-tab")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.view.dashboard.billing-tab"),"hide-details":!0},model:{value:e.PermCrmViewDashboardBillingTab,callback:function(t){e.PermCrmViewDashboardBillingTab=t},expression:"PermCrmViewDashboardBillingTab"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.view.dashboard.management-tab")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.view.dashboard.management-tab"),"hide-details":!0},model:{value:e.PermCrmViewDashboardManagementTab,callback:function(t){e.PermCrmViewDashboardManagementTab=t},expression:"PermCrmViewDashboardManagementTab"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Navigation")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.address-book")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.address-book"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAddressBook,callback:function(t){e.PermCrmNavigationShowAddressBook=t},expression:"PermCrmNavigationShowAddressBook"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.all-contacts")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.all-contacts"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAllContacts,callback:function(t){e.PermCrmNavigationShowAllContacts=t},expression:"PermCrmNavigationShowAllContacts"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.all-companies")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.all-companies"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAllCompanies,callback:function(t){e.PermCrmNavigationShowAllCompanies=t},expression:"PermCrmNavigationShowAllCompanies"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.projects")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.projects"),"hide-details":!0},model:{value:e.PermCrmNavigationShowProjects,callback:function(t){e.PermCrmNavigationShowProjects=t},expression:"PermCrmNavigationShowProjects"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.all-projects")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.all-projects"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAllProjects,callback:function(t){e.PermCrmNavigationShowAllProjects=t},expression:"PermCrmNavigationShowAllProjects"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.all-material-entries")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.all-material-entries"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAllMaterialEntries,callback:function(t){e.PermCrmNavigationShowAllMaterialEntries=t},expression:"PermCrmNavigationShowAllMaterialEntries"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.project-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.project-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowProjectDefinitions,callback:function(t){e.PermCrmNavigationShowProjectDefinitions=t},expression:"PermCrmNavigationShowProjectDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.product-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.product-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowProductDefinitions,callback:function(t){e.PermCrmNavigationShowProductDefinitions=t},expression:"PermCrmNavigationShowProductDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.assignment-status-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.assignment-status-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAssignmentStatusDefinitions,callback:function(t){e.PermCrmNavigationShowAssignmentStatusDefinitions=t},expression:"PermCrmNavigationShowAssignmentStatusDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.man-hours-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.man-hours-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowManHoursDefinitions,callback:function(t){e.PermCrmNavigationShowManHoursDefinitions=t},expression:"PermCrmNavigationShowManHoursDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.project-status-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.project-status-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowProjectStatusDefinitions,callback:function(t){e.PermCrmNavigationShowProjectStatusDefinitions=t},expression:"PermCrmNavigationShowProjectStatusDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.agents")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.agents"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAgents,callback:function(t){e.PermCrmNavigationShowAgents=t},expression:"PermCrmNavigationShowAgents"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.all-agents")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.all-agents"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAllAgents,callback:function(t){e.PermCrmNavigationShowAllAgents=t},expression:"PermCrmNavigationShowAllAgents"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.all-labour-entries")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.all-labour-entries"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAllLabourEntries,callback:function(t){e.PermCrmNavigationShowAllLabourEntries=t},expression:"PermCrmNavigationShowAllLabourEntries"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.agents-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.agents-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAgentsDefinitions,callback:function(t){e.PermCrmNavigationShowAgentsDefinitions=t},expression:"PermCrmNavigationShowAgentsDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.employment-status-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.employment-status-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowEmploymentStatusDefinitions,callback:function(t){e.PermCrmNavigationShowEmploymentStatusDefinitions=t},expression:"PermCrmNavigationShowEmploymentStatusDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.labour-exception-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.labour-exception-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowLabourExceptionDefinitions,callback:function(t){e.PermCrmNavigationShowLabourExceptionDefinitions=t},expression:"PermCrmNavigationShowLabourExceptionDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.labour-holidays-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.labour-holidays-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowLabourHolidaysDefinitions,callback:function(t){e.PermCrmNavigationShowLabourHolidaysDefinitions=t},expression:"PermCrmNavigationShowLabourHolidaysDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.labour-non-billable-definitions")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.labour-non-billable-definitions"),"hide-details":!0},model:{value:e.PermCrmNavigationShowLabourNonBillableDefinitions,callback:function(t){e.PermCrmNavigationShowLabourNonBillableDefinitions=t},expression:"PermCrmNavigationShowLabourNonBillableDefinitions"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.reports")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.reports"),"hide-details":!0},model:{value:e.PermCrmNavigationShowReports,callback:function(t){e.PermCrmNavigationShowReports=t},expression:"PermCrmNavigationShowReports"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.all-reports")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.all-reports"),"hide-details":!0},model:{value:e.PermCrmNavigationShowAllReports,callback:function(t){e.PermCrmNavigationShowAllReports=t},expression:"PermCrmNavigationShowAllReports"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.navigation.show.settings")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.navigation.show.settings"),"hide-details":!0},model:{value:e.PermCrmNavigationShowSettings,callback:function(t){e.PermCrmNavigationShowSettings=t},expression:"PermCrmNavigationShowSettings"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Reports")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.report.contacts-pdf")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.report.contacts-pdf"),"hide-details":!0},model:{value:e.PermCrmReportContactsPdf,callback:function(t){e.PermCrmReportContactsPdf=t},expression:"PermCrmReportContactsPdf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.report.companies-pdf")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.report.companies-pdf"),"hide-details":!0},model:{value:e.PermCrmReportCompaniesPdf,callback:function(t){e.PermCrmReportCompaniesPdf=t},expression:"PermCrmReportCompaniesPdf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.report.projects-pdf")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.report.projects-pdf"),"hide-details":!0},model:{value:e.PermCrmReportProjectsPdf,callback:function(t){e.PermCrmReportProjectsPdf=t},expression:"PermCrmReportProjectsPdf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.report.assignments-pdf")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.report.assignments-pdf"),"hide-details":!0},model:{value:e.PermCrmReportAssignmentsPdf,callback:function(t){e.PermCrmReportAssignmentsPdf=t},expression:"PermCrmReportAssignmentsPdf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.report.materials-pdf")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.report.materials-pdf"),"hide-details":!0},model:{value:e.PermCrmReportMaterialsPdf,callback:function(t){e.PermCrmReportMaterialsPdf=t},expression:"PermCrmReportMaterialsPdf"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.report.labour-pdf")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.report.labour-pdf"),"hide-details":!0},model:{value:e.PermCrmReportLabourPdf,callback:function(t){e.PermCrmReportLabourPdf=t},expression:"PermCrmReportLabourPdf"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("CSV Exports")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.contacts-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.contacts-csv"),"hide-details":!0},model:{value:e.PermCrmExportContactsCsv,callback:function(t){e.PermCrmExportContactsCsv=t},expression:"PermCrmExportContactsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.companies-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.companies-csv"),"hide-details":!0},model:{value:e.PermCrmExportCompaniesCsv,callback:function(t){e.PermCrmExportCompaniesCsv=t},expression:"PermCrmExportCompaniesCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.materials-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.materials-csv"),"hide-details":!0},model:{value:e.PermCrmExportMaterialsCsv,callback:function(t){e.PermCrmExportMaterialsCsv=t},expression:"PermCrmExportMaterialsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.product-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.product-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportProductDefinitionsCsv,callback:function(t){e.PermCrmExportProductDefinitionsCsv=t},expression:"PermCrmExportProductDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.assignment-status-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.assignment-status-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportAssignmentStatusDefinitionsCsv,callback:function(t){e.PermCrmExportAssignmentStatusDefinitionsCsv=t},expression:"PermCrmExportAssignmentStatusDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.man-hours-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.man-hours-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportManHoursDefinitionsCsv,callback:function(t){e.PermCrmExportManHoursDefinitionsCsv=t},expression:"PermCrmExportManHoursDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.project-status-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.project-status-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportProjectStatusDefinitionsCsv,callback:function(t){e.PermCrmExportProjectStatusDefinitionsCsv=t},expression:"PermCrmExportProjectStatusDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.labour-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.labour-csv"),"hide-details":!0},model:{value:e.PermCrmExportLabourCsv,callback:function(t){e.PermCrmExportLabourCsv=t},expression:"PermCrmExportLabourCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.employment-status-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.employment-status-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportEmploymentStatusDefinitionsCsv,callback:function(t){e.PermCrmExportEmploymentStatusDefinitionsCsv=t},expression:"PermCrmExportEmploymentStatusDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.labour-exception-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.labour-exception-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportLabourExceptionDefinitionsCsv,callback:function(t){e.PermCrmExportLabourExceptionDefinitionsCsv=t},expression:"PermCrmExportLabourExceptionDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.labour-holidays-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.labour-holidays-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportLabourHolidaysDefinitionsCsv,callback:function(t){e.PermCrmExportLabourHolidaysDefinitionsCsv=t},expression:"PermCrmExportLabourHolidaysDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.labour-non-billable-definitions-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.labour-non-billable-definitions-csv"),"hide-details":!0},model:{value:e.PermCrmExportLabourNonBillableDefinitionsCsv,callback:function(t){e.PermCrmExportLabourNonBillableDefinitionsCsv=t},expression:"PermCrmExportLabourNonBillableDefinitionsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.agents-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.agents-csv"),"hide-details":!0},model:{value:e.PermCrmExportAgentsCsv,callback:function(t){e.PermCrmExportAgentsCsv=t},expression:"PermCrmExportAgentsCsv"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.export.projects-csv")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.export.projects-csv"),"hide-details":!0},model:{value:e.PermCrmExportProjectsCsv,callback:function(t){e.PermCrmExportProjectsCsv=t},expression:"PermCrmExportProjectsCsv"}})],1):e._e(),n("p",{staticStyle:{"margin-top":"20px"}},[e._v("Backups")]),-1===e.PermissionsForSelectedGroups.indexOf("crm.backups.run-local")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.backups.run-local"),"hide-details":!0},model:{value:e.PermCrmBackupsRunLocal,callback:function(t){e.PermCrmBackupsRunLocal=t},expression:"PermCrmBackupsRunLocal"}})],1):e._e(),-1===e.PermissionsForSelectedGroups.indexOf("crm.backups.run-server")?n("div",[n("v-switch",{attrs:{label:e.PermissionsKeyToDisplayName("crm.backups.run-server"),"hide-details":!0},model:{value:e.PermCrmBackupsRunServer,callback:function(t){e.PermCrmBackupsRunServer=t},expression:"PermCrmBackupsRunServer"}})],1):e._e()],1)],1)],1)],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Company Account Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The company account no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the company account while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus,color:"white",text:"",rounded:""},on:{click:function(t){return e.DoDelete()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},yA=[],CA=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.GetDemoMode=O,e.ValidateRequiredField=zs,e.CSVDownloadContact=Kb,e.DialoguesOpen=ca.Open,e.PermissionsKeyToDisplayName=oA,e.loadingData=!1,e.password1Initial="UNCHANGED".concat(k()),e.password1=e.password1Initial,e.password2Initial="UNCHANGED".concat(k()),e.password2=e.password2Initial,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0,Permissions:1,permissions:1}}},{key:"valueChanged",value:function(e,t){this.LoadData(),console.log("valueChanged",e)}},{key:"MountedAfter",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(e.value&&e.value.applicationData){if(e.value.applicationData.dispatchPulseContactId&&!y(e.value.applicationData.dispatchPulseContactId)){var n=un.ForId(e.value.applicationData.dispatchPulseContactId);if(!n){var a=un.FetchForId(e.value.applicationData.dispatchPulseContactId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}if(e.value.applicationData.dispatchPulseAgentId&&!y(e.value.applicationData.dispatchPulseAgentId)){var i=Pe.ForId(e.value.applicationData.dispatchPulseAgentId);if(!i){var o=Pe.FetchForId(e.value.applicationData.dispatchPulseAgentId);o.completeRequestPromise&&t.push(o.completeRequestPromise)}}}t.length>0?(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1}))):e.loadingData=!1}))}))}},{key:"PermBillingContactsReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.contacts.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.read-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsBoolReadSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-bool.read-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.read-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.read-self"]}):console.error("!this.value")}},{key:"PermBillingSessionsReadSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.sessions.read-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.read-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.read-self"]}):console.error("!this.value")}},{key:"PermbillingPermissionsGroupsMembershipsReadSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-groups-memberships.read-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.read-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.read-self"]}):console.error("!this.value")}},{key:"PermBillingContactsAddCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.contacts.add-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.add-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.add-company"]}):console.error("!this.value")}},{key:"PermBillingContactsModifyCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.contacts.modify-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.modify-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.modify-company"]}):console.error("!this.value")}},{key:"PermBillingContactsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.contacts.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.contacts.delete-company"]}):console.error("!this.value")}},{key:"PermBillingCouponCodesReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.coupon-codes.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.coupon-codes.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.coupon-codes.read-company"]}):console.error("!this.value")}},{key:"PermBillingIndustriesReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.industries.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.industries.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.industries.read-company"]}):console.error("!this.value")}},{key:"PermBillingInvoicesReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.invoices.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.invoices.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.invoices.read-company"]}):console.error("!this.value")}},{key:"PermBillingJournalEntriesReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.journal-entries.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.journal-entries.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.journal-entries.read-company"]}):console.error("!this.value")}},{key:"PermBillingPackagesReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.packages.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.packages.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.packages.read-company"]}):console.error("!this.value")}},{key:"PermBillingPackagesTypeReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.packages-type.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.packages-type.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.packages-type.read-company"]}):console.error("!this.value")}},{key:"PermBillingPaymentFrequenciesReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.payment-frequencies.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.payment-frequencies.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.payment-frequencies.read-company"]}):console.error("!this.value")}},{key:"PermBillingPaymentMethodReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.payment-method.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.payment-method.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.payment-method.read-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsBoolReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-bool.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.read-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsBoolModifyCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-bool.modify-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.modify-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.modify-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsBoolDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-bool.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.delete-company"]}):console.error("!this.value")}},{key:"PermBillingSessionsReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.sessions.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.read-company"]}):console.error("!this.value")}},{key:"PermBillingSessionsAddCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.sessions.add-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.add-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.add-company"]}):console.error("!this.value")}},{key:"PermBillingSessionsModifyCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.sessions.modify-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.modify-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.modify-company"]}):console.error("!this.value")}},{key:"PermBillingSubscriptionReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.subscription.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.subscription.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.subscription.read-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsGroupsReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-groups.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups.read-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsGroupsMembershipsReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-groups-memberships.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.read-company"]}):console.error("!this.value")}},{key:"PermCrmAgentsRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.agents.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.request-company"]}):console.error("!this.value")}},{key:"PermCrmAssignmentsRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.assignments.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.request-company"]}):console.error("!this.value")}},{key:"PermCrmAssignmentsStatusRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.assignments-status.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments-status.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments-status.request-company"]}):console.error("!this.value")}},{key:"PermCrmCompaniesRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.companies.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.companies.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.companies.request-company"]}):console.error("!this.value")}},{key:"PermCrmContactsRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.contacts.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.contacts.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.contacts.request-company"]}):console.error("!this.value")}},{key:"PermCrmLabourRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.request-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeExceptionRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-exception.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-exception.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-exception.request-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeHolidaysRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-holidays.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-holidays.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-holidays.request-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeNonBillableRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-non-billable.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-non-billable.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-non-billable.request-company"]}):console.error("!this.value")}},{key:"PermCrmLabourTypesRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-types.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-types.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-types.request-company"]}):console.error("!this.value")}},{key:"PermCrmProductsRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.products.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.products.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.products.request-company"]}):console.error("!this.value")}},{key:"PermCrmProjectsRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.projects.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.projects.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.projects.request-company"]}):console.error("!this.value")}},{key:"PermCrmProjectStatusRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.project-status.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-status.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-status.request-company"]}):console.error("!this.value")}},{key:"PermCrmSettingsUserRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.settings-user.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-user.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-user.request-company"]}):console.error("!this.value")}},{key:"PermCrmSkillsRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.skills.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.skills.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.skills.request-company"]}):console.error("!this.value")}},{key:"PermCrmProjectNotesRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.project-notes.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-notes.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-notes.request-company"]}):console.error("!this.value")}},{key:"PermCrmAgentsEmploymentStatusDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.employment-status.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.employment-status.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.employment-status.delete-company"]}):console.error("!this.value")}},{key:"PermCrmAgentsEmploymentStatusPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.employment-status.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.employment-status.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.employment-status.push-company"]}):console.error("!this.value")}},{key:"PermCrmAgentsEmploymentStatusRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.employment-status.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.employment-status.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.employment-status.request-company"]}):console.error("!this.value")}},{key:"PermCrmAssignmentsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.assignments.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.delete-company"]}):console.error("!this.value")}},{key:"PermCrmAssignmentsPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.assignments.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.push-company"]}):console.error("!this.value")}},{key:"PermCrmAssignmentsStatusDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.assignments-status.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments-status.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments-status.delete-company"]}):console.error("!this.value")}},{key:"PermCrmAssignmentsStatusPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.assignments-status.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments-status.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments-status.push-company"]}):console.error("!this.value")}},{key:"PermCrmCompaniesDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.companies.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.companies.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.companies.delete-company"]}):console.error("!this.value")}},{key:"PermCrmCompaniesPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.companies.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.companies.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.companies.push-company"]}):console.error("!this.value")}},{key:"PermCrmContactsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.contacts.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.contacts.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.contacts.delete-company"]}):console.error("!this.value")}},{key:"PermCrmContactsPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.contacts.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.contacts.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.contacts.push-company"]}):console.error("!this.value")}},{key:"PermCrmEstimatingManHoursDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.estimating-man-hours.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.estimating-man-hours.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.estimating-man-hours.delete-company"]}):console.error("!this.value")}},{key:"PermCrmEstimatingManHoursRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.estimating-man-hours.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.estimating-man-hours.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.estimating-man-hours.request-company"]}):console.error("!this.value")}},{key:"PermCrmLabourDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.delete-company"]}):console.error("!this.value")}},{key:"PermCrmLabourPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.push-company"]}):console.error("!this.value")}},{key:"PermcrmLabourSubtypeExceptionPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-exception.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-exception.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-exception.push-company"]}):console.error("!this.value")}},{key:"PermBillingSubscriptionProvisioningStatusRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.subscription-provisioning-status.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.subscription-provisioning-status.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.subscription-provisioning-status.request-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeHolidaysDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-holidays.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-holidays.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-holidays.delete-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeHolidaysPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-holidays.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-holidays.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-holidays.push-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeNonBillableDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-non-billable.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-non-billable.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-non-billable.delete-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeNonBillablePushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-non-billable.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-non-billable.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-non-billable.push-company"]}):console.error("!this.value")}},{key:"PermCrmLabourTypesDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-types.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-types.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-types.delete-company"]}):console.error("!this.value")}},{key:"PermCrmLabourTypesPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-types.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-types.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-types.push-company"]}):console.error("!this.value")}},{key:"PermCrmMaterialsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.materials.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.delete-company"]}):console.error("!this.value")}},{key:"PermCrmMaterialsPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.materials.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.push-company"]}):console.error("!this.value")}},{key:"PermCrmMaterialsRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.materials.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.request-company"]}):console.error("!this.value")}},{key:"PermCrmProductsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.products.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.products.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.products.delete-company"]}):console.error("!this.value")}},{key:"PermCrmProductsPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.products.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.products.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.products.push-company"]}):console.error("!this.value")}},{key:"PermCrmProjectNotesDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.project-notes.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-notes.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-notes.delete-company"]}):console.error("!this.value")}},{key:"PermCrmProjectNotesPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.project-notes.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-notes.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-notes.push-company"]}):console.error("!this.value")}},{key:"PermCrmProjectsPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.projects.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.projects.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.projects.push-company"]}):console.error("!this.value")}},{key:"PermCrmProjectStatusDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.project-status.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-status.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-status.delete-company"]}):console.error("!this.value")}},{key:"PermCrmProjectStatusPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.project-status.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-status.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.project-status.push-company"]}):console.error("!this.value")}},{key:"PermCrmSettingsDefaultDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.settings-default.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-default.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-default.delete-company"]}):console.error("!this.value")}},{key:"PermCrmSettingsDefaultPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.settings-default.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-default.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-default.push-company"]}):console.error("!this.value")}},{key:"PermCrmSettingsDefaultRequestCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.settings-default.request-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-default.request-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-default.request-company"]}):console.error("!this.value")}},{key:"PermCrmSettingsUserDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.settings-user.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-user.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-user.delete-company"]}):console.error("!this.value")}},{key:"PermCrmSkillsPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.skills.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.skills.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.skills.push-company"]}):console.error("!this.value")}},{key:"PermCrmAgentsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.agents.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.delete-company"]}):console.error("!this.value")}},{key:"PermCrmAgentsPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.agents.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.push-company"]}):console.error("!this.value")}},{key:"PermCrmAgentsDisplayOwn",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.agents.display-own")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.display-own"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.display-own"]}):console.error("!this.value")}},{key:"PermCrmAgentsRequestSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.agents.request-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.request-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.agents.request-self"]}):console.error("!this.value")}},{key:"PermCrmSettingsUserPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.settings-user.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-user.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.settings-user.push-company"]}):console.error("!this.value")}},{key:"PermCrmEstimatingManHoursPushCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.estimating-man-hours.push-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.estimating-man-hours.push-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.estimating-man-hours.push-company"]}):console.error("!this.value")}},{key:"PermCrmLabourSubtypeExceptionDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour-subtype-exception.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-exception.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour-subtype-exception.delete-company"]}):console.error("!this.value")}},{key:"PermBillingCurrencyReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.currency.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.currency.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.currency.read-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsBoolAddCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-bool.add-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.add-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-bool.add-company"]}):console.error("!this.value")}},{key:"PermBillingSessionsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.sessions.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.sessions.delete-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsGroupsMembershipsModifyCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-groups-memberships.modify-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.modify-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.modify-company"]}):console.error("!this.value")}},{key:"PermBillingPermissionsGroupsMembershipsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.permissions-groups-memberships.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.permissions-groups-memberships.delete-company"]}):console.error("!this.value")}},{key:"PermBillingJournalEntriesTypeReadCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("billing.journal-entries-type.read-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.journal-entries-type.read-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["billing.journal-entries-type.read-company"]}):console.error("!this.value")}},{key:"PermCrmProjectsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.projects.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.projects.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.projects.delete-company"]}):console.error("!this.value")}},{key:"PermCrmSkillsDeleteCompany",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.skills.delete-company")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.skills.delete-company"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.skills.delete-company"]}):console.error("!this.value")}},{key:"PermCrmViewDashboardDispatchTab",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.view.dashboard.dispatch-tab")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.dashboard.dispatch-tab"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.dashboard.dispatch-tab"]}):console.error("!this.value")}},{key:"PermCrmViewDashboardBillingTab",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.view.dashboard.billing-tab")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.dashboard.billing-tab"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.dashboard.billing-tab"]}):console.error("!this.value")}},{key:"PermCrmViewDashboardManagementTab",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.view.dashboard.management-tab")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.dashboard.management-tab"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.dashboard.management-tab"]}):console.error("!this.value")}},{key:"PermCrmLabourManualEntries",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour.manual-entries")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.manual-entries"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.manual-entries"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAddressBook",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.address-book")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.address-book"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.address-book"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllContacts",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-contacts")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-contacts"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-contacts"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllCompanies",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-companies")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-companies"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-companies"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowProjects",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.projects")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.projects"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.projects"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllProjects",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-projects")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-projects"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-projects"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllAssignments",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-assignments")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-assignments"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-assignments"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllMaterialEntries",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-material-entries")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-material-entries"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-material-entries"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowProjectDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.project-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.project-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.project-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowProductDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.product-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.product-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.product-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAssignmentStatusDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.assignment-status-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.assignment-status-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.assignment-status-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowManHoursDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.man-hours-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.man-hours-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.man-hours-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowProjectStatusDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.project-status-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.project-status-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.project-status-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAgents",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.agents")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.agents"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.agents"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllAgents",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-agents")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-agents"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-agents"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllLabourEntries",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-labour-entries")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-labour-entries"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-labour-entries"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAgentsDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.agents-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.agents-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.agents-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowEmploymentStatusDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.employment-status-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.employment-status-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.employment-status-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowLabourExceptionDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.labour-exception-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.labour-exception-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.labour-exception-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowLabourHolidaysDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.labour-holidays-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.labour-holidays-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.labour-holidays-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowLabourNonBillableDefinitions",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.labour-non-billable-definitions")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.labour-non-billable-definitions"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.labour-non-billable-definitions"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowReports",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.reports")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.reports"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.reports"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowAllReports",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.all-reports")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-reports"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.all-reports"]}):console.error("!this.value")}},{key:"PermCrmNavigationShowSettings",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.navigation.show.settings")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.settings"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.navigation.show.settings"]}):console.error("!this.value")}},{key:"PermCrmReportContactsPdf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.report.contacts-pdf")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.contacts-pdf"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.contacts-pdf"]}):console.error("!this.value")}},{key:"PermCrmReportCompaniesPdf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.report.companies-pdf")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.companies-pdf"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.companies-pdf"]}):console.error("!this.value")}},{key:"PermCrmReportProjectsPdf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.report.projects-pdf")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.projects-pdf"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.projects-pdf"]}):console.error("!this.value")}},{key:"PermCrmReportAssignmentsPdf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.report.assignments-pdf")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.assignments-pdf"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.assignments-pdf"]}):console.error("!this.value")}},{key:"PermCrmReportMaterialsPdf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.report.materials-pdf")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.materials-pdf"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.materials-pdf"]}):console.error("!this.value")}},{key:"PermCrmReportLabourPdf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.report.labour-pdf")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.labour-pdf"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.report.labour-pdf"]}):console.error("!this.value")}},{key:"PermCrmExportContactsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.contacts-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.contacts-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.contacts-csv"]}):console.error("!this.value")}},{key:"PermCrmExportCompaniesCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.companies-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.companies-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.companies-csv"]}):console.error("!this.value")}},{key:"PermCrmExportAssignmentsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.assignments-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.assignments-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.assignments-csv"]}):console.error("!this.value")}},{key:"PermCrmExportMaterialsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.materials-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.materials-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.materials-csv"]}):console.error("!this.value")}},{key:"PermCrmExportProductDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.product-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.product-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.product-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportAssignmentStatusDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.assignment-status-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.assignment-status-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.assignment-status-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportManHoursDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.man-hours-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.man-hours-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.man-hours-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportProjectStatusDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.project-status-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.project-status-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.project-status-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportLabourCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.labour-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-csv"]}):console.error("!this.value")}},{key:"PermCrmExportEmploymentStatusDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.employment-status-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.employment-status-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.employment-status-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportLabourExceptionDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.labour-exception-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-exception-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-exception-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportLabourHolidaysDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.labour-holidays-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-holidays-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-holidays-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportLabourNonBillableDefinitionsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.labour-non-billable-definitions-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-non-billable-definitions-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.labour-non-billable-definitions-csv"]}):console.error("!this.value")}},{key:"PermCrmExportAgentsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.agents-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.agents-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.agents-csv"]}):console.error("!this.value")}},{key:"PermCrmMaterialsRequestSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.materials.request-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.request-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.materials.request-self"]}):console.error("!this.value")}},{key:"PermCrmLabourDeleteSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour.delete-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.delete-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.delete-self"]}):console.error("!this.value")}},{key:"PermCrmAssignmentsRequestSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.assignments.request-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.request-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.assignments.request-self"]}):console.error("!this.value")}},{key:"PermCrmLabourPushSelf",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.labour.push-self")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.push-self"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.labour.push-self"]}):console.error("!this.value")}},{key:"PermCrmExportProjectsCsv",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.export.projects-csv")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.projects-csv"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.export.projects-csv"]}):console.error("!this.value")}},{key:"PermCrmViewBllingIndexMergeProjects",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.view.billing-index.merge-projects")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.billing-index.merge-projects"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.view.billing-index.merge-projects"]}):console.error("!this.value")}},{key:"PermCrmBackupsRunLocal",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.backups.run-local")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.backups.run-local"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.backups.run-local"]}):console.error("!this.value")}},{key:"PermCrmBackupsRunServer",get:function(){return-1!==this.PermissionsForContact.indexOf("crm.backups.run-server")},set:function(e){this.value?e?Q.PerformBillingPermissionsBoolAdd.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.backups.run-server"]}):Q.PerformBillingPermissionsBoolRemove.Send({sessionId:ce.CurrentSessionId(),billingContactId:this.value.uuid,permissionKeys:["crm.backups.run-server"]}):console.error("!this.value")}},{key:"Groups",get:function(){var e=at.All();if(!e)return[];for(var t=Object.values(e),n=[],a=0,i=t;a<i.length;a++){var o=i[a];n.push({text:o.name||o.id,value:o.id})}return n}},{key:"PermissionsForSelectedGroups",get:function(){var e=this.SelectedGroups;if(0===e.length)return[];var t,n=[],a=Q.ForGroupIds(e),i=Object(G["a"])(a);try{for(i.s();!(t=i.n()).done;){var o=t.value;n.push(o.key)}}catch(s){i.e(s)}finally{i.f()}return n}},{key:"PermissionsForContact",get:function(){if(null==this.value)return[];var e,t=[],n=Q.ForBillingContactId(this.value.uuid),a=Object(G["a"])(n);try{for(a.s();!(e=a.n()).done;){var i=e.value;t.push(i.key)}}catch(o){a.e(o)}finally{a.f()}return t}},{key:"SelectedGroups",get:function(){if(!this.value)return[];var e=at.GroupIdsForBillingId(this.value.uuid);return e},set:function(e){if(this.value){var t=at.GroupIdsForBillingId(this.value.uuid),n=F.a.difference(t,e),a=F.a.difference(e,t);K.PerformRemoveMemberships(this.value.uuid,n),K.PerformAddMemberships(this.value.uuid,a)}}},{key:"FullName",get:function(){return this.value&&this.value.fullName?this.value.fullName:null},set:function(e){this.value&&(this.value.fullName=y(e)?null:e,this.SignalChanged())}},{key:"BillingContactDispatchPulseContactId",get:function(){return this.value&&this.value.applicationData&&this.value.applicationData.dispatchPulseContactId?this.value.applicationData.dispatchPulseContactId:null},set:function(e){this.value&&(this.value.applicationData||(this.value.applicationData={}),this.value.applicationData.dispatchPulseContactId=y(e)?null:e,this.SignalChanged())}},{key:"BillingContactDispatchPulseAgentId",get:function(){return this.value&&this.value.applicationData&&this.value.applicationData.dispatchPulseAgentId?this.value.applicationData.dispatchPulseAgentId:null},set:function(e){this.value&&(this.value.applicationData||(this.value.applicationData={}),this.value.applicationData.dispatchPulseAgentId=y(e)?null:e,this.SignalChanged())}},{key:"MarketingEmails",get:function(){return!(!this.value||!this.value.emailListMarketing)&&this.value.emailListMarketing},set:function(e){this.value&&(this.value.emailListMarketing=void 0!==e&&e,this.SignalChanged())}},{key:"TutorialEmails",get:function(){return!(!this.value||!this.value.emailListTutorials)&&this.value.emailListTutorials},set:function(e){this.value&&(this.value.emailListTutorials=void 0!==e&&e,this.SignalChanged())}},{key:"EMail",get:function(){return this.value&&this.value.email?this.value.email:null},set:function(e){console.debug("set EMail 1",e),this.value&&(this.value.email=y(e)?null:e,this.SignalChanged())}},{key:"Password",get:function(){return this.password1},set:function(e){this.password1=e,this.MaybeSetPasscode()}},{key:"PasswordAgain",get:function(){return this.password2},set:function(e){this.password2=e,this.MaybeSetPasscode()}},{key:"MaybeSetPasscode",value:function(){if(this.value)if(this.password1=this.password1.trim(),this.password2=this.password2.trim(),y(this.password1))console.debug("Not setting passcode because it is empty.");else if(this.password1===this.password2)if(this.password1!==this.password1Initial)if(this.password2!==this.password2Initial){var e=mp.a.genSaltSync(11),t=mp.a.hashSync(this.password1,e);this.value.passwordHash=t,this.SignalChanged()}else console.debug("Not setting because password 2 is set to the default password.");else console.debug("Not setting because password 1 is set to the default password.");else console.debug("Not setting passcode because 1 and 2 don't match.")}},{key:"Phone",get:function(){return this.value&&this.value.phone?this.value.phone:null},set:function(e){this.value&&(this.value.phone=y(e)?null:e,this.SignalChanged())}},{key:"Id",get:function(){return this.value&&this.value.uuid?this.value.uuid:null}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/support/","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],CA.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],CA.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],CA.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],CA.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],CA.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],CA.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],CA.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["d"])("value")],CA.prototype,"valueChanged",null),CA=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,PhoneNumberEditRowArrayAdapter:gb,EMailEditRowArrayAdapter:Mb,AddressEditRowArrayAdapter:Wb,CompanySelectField:Lh,ReloadButton:ms,NotificationBellButton:hl}})],CA);var jA=CA,SA=jA,IA=n("cd55"),PA=n("49e2"),OA=n("c865"),kA=n("0393"),DA=Object(ha["a"])(SA,gA,yA,!1,null,"1f9c3783",null),_A=DA.exports;ga()(DA,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCardSubtitle:ja["b"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VExpansionPanel:IA["a"],VExpansionPanelContent:PA["a"],VExpansionPanelHeader:OA["a"],VExpansionPanels:kA["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSelect:Dl["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var wA=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.json.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t),this.$emit("save",this.value))}},{key:"Close",value:function(){this.$refs.editor.ResetValidation(),this.$emit("close",null),this.$refs.editor.SelectFirstTab()}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],wA.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],wA.prototype,"isMakingNew",void 0),wA=Object(v["a"])([Object(p["a"])({components:{BillingContactPermissionsEditor:_A}})],wA);var xA=wA,RA=xA,MA=Object(ha["a"])(RA,hA,bA,!1,null,null,null),AA=MA.exports;ga()(MA,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var TA=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.dialogueName))]),n("v-divider"),n("v-card-text",[n("BillingContactLicensesEditor",{ref:"editor",attrs:{showAppBar:!1,showFooter:!1,preselectTabName:"General",isMakingNew:e.isMakingNew,isDialogue:!0},model:{value:e.EditorValue,callback:function(t){e.EditorValue=t},expression:"EditorValue"}})],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"darken-1",text:""},on:{click:function(t){return e.Close()}}},[e._v("Close")])],1)],1)],1)},VA=[],BA=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Licenses"})}).catch((function(e){}))}}},[e._v(" Licenses ")])],1)]},proxy:!0}],null,!1,2923501859)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Company Account"),e.FullName?n("span",[e._v(": "+e._s(e.FullName))]):e._e()]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Company Account Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}})],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{staticStyle:{display:"none"},attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" Licenses ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Licensed Products")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"Projects, Scheduling, and Time",disabled:!e.LicencedProjectsSchedulingTime&&e.UsedProjectsSchedulingTimeLicenses>=e.TotalProjectsSchedulingTimeLicenses,hint:"You are currently using "+this.UsedProjectsSchedulingTimeLicenses+" out of a max of "+this.TotalProjectsSchedulingTimeLicenses+" projects, scheduling, and time licenses.","persistent-hint":""},model:{value:e.LicencedProjectsSchedulingTime,callback:function(t){e.LicencedProjectsSchedulingTime=t},expression:"LicencedProjectsSchedulingTime"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-switch",{attrs:{label:"On Call Responder",disabled:!e.LicencedOnCall&&e.UsedOnCallLicenses>=e.TotalOnCallLicenses,hint:"You are currently using "+this.UsedOnCallLicenses+" out of a max of "+this.TotalOnCallLicenses+" on-call responder licenses.","persistent-hint":""},model:{value:e.LicencedOnCall,callback:function(t){e.LicencedOnCall=t},expression:"LicencedOnCall"}})],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Company Account Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The company account no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the company account while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}})],1):e._e()],1)},LA=[],NA=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.GetDemoMode=O,e.ValidateRequiredField=zs,e.CSVDownloadContact=Kb,e.DialoguesOpen=ca.Open,e.PermissionsKeyToDisplayName=oA,e.loadingData=!1,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0}}},{key:"valueChanged",value:function(e,t){this.LoadData(),console.log("valueChanged",e)}},{key:"MountedAfter",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(e.value&&e.value.applicationData){if(e.value.applicationData.dispatchPulseContactId&&!y(e.value.applicationData.dispatchPulseContactId)){var n=un.ForId(e.value.applicationData.dispatchPulseContactId);if(!n){var a=un.FetchForId(e.value.applicationData.dispatchPulseContactId);a.completeRequestPromise&&t.push(a.completeRequestPromise)}}if(e.value.applicationData.dispatchPulseAgentId&&!y(e.value.applicationData.dispatchPulseAgentId)){var i=Pe.ForId(e.value.applicationData.dispatchPulseAgentId);if(!i){var o=Pe.FetchForId(e.value.applicationData.dispatchPulseAgentId);o.completeRequestPromise&&t.push(o.completeRequestPromise)}}}t.length>0?(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1}))):e.loadingData=!1}))}))}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){e.$emit("input",e.value)}),250)}},{key:"LicencedProjectsSchedulingTime",get:function(){return!!(this.value&&this.value.json&&this.value.json.licenseAssignedProjectsSchedulingTime)&&this.value.json.licenseAssignedProjectsSchedulingTime},set:function(e){this.value?(this.value.json||(this.value.json={}),this.value.json.licenseAssignedProjectsSchedulingTime=e,this.SignalChanged()):console.error("set LicencedProjectsSchedulingTime !this.value")}},{key:"UsedProjectsSchedulingTimeLicenses",get:function(){var e=he.All();if(!e||0===Object.keys(e).length)return 0;for(var t=0,n=0,a=Object.values(e);n<a.length;n++){var i=a[n];i.json.licenseAssignedProjectsSchedulingTime&&t++}return t}},{key:"TotalProjectsSchedulingTimeLicenses",get:function(){var e=Ct.GetAll();if(null===e||0===e.length)return 0;var t,n=0,a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=i.packageId;if(null!==o&&!y(o)){var s=mt.ForId(o);null!==s&&(n+=s.provisionDispatchPulseUsers)}}}catch(r){a.e(r)}finally{a.f()}return n}},{key:"UsedOnCallLicenses",get:function(){var e=he.All();if(!e||0===Object.keys(e).length)return 0;for(var t=0,n=0,a=Object.values(e);n<a.length;n++){var i=a[n];i.json.licenseAssignedOnCall&&t++}return t}},{key:"TotalOnCallLicenses",get:function(){var e=Ct.GetAll();if(null===e||0===e.length)return 0;var t,n=0,a=Object(G["a"])(e);try{for(a.s();!(t=a.n()).done;){var i=t.value,o=i.packageId;if(null!==o&&!y(o)){var s=mt.ForId(o);null!==s&&s.json&&s.json.ProvisionOnCallUsers&&(n+=s.json.ProvisionOnCallUsers)}}}catch(r){a.e(r)}finally{a.f()}return n}},{key:"LicencedOnCall",get:function(){return!!(this.value&&this.value.json&&this.value.json.licenseAssignedOnCall)&&this.value.json.licenseAssignedOnCall},set:function(e){this.value?(this.value.json||(this.value.json={}),this.value.json.licenseAssignedOnCall=e,this.SignalChanged()):console.error("set LicencedOnCall !this.value")}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/support/","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],NA.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],NA.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],NA.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],NA.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],NA.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],NA.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],NA.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["d"])("value")],NA.prototype,"valueChanged",null),NA=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,PhoneNumberEditRowArrayAdapter:gb,EMailEditRowArrayAdapter:Mb,AddressEditRowArrayAdapter:Wb,CompanySelectField:Lh,ReloadButton:ms,NotificationBellButton:hl}})],NA);var EA=NA,FA=EA,qA=Object(ha["a"])(FA,BA,LA,!1,null,"6ea59b5b",null),GA=qA.exports;ga()(qA,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var $A=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor&&this.$refs.editor.SwitchToTabFromRoute()}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.json.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t),this.$emit("save",this.value))}},{key:"Close",value:function(){this.$refs.editor.ResetValidation(),this.$emit("close",null),this.$refs.editor.SelectFirstTab()}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],$A.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],$A.prototype,"isMakingNew",void 0),$A=Object(v["a"])([Object(p["a"])({components:{BillingContactLicensesEditor:GA}})],$A);var UA=$A,HA=UA,WA=Object(ha["a"])(HA,TA,VA,!1,null,null,null),KA=WA.exports;ga()(WA,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var zA=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.dialogueName))]),n("v-divider"),n("v-card-text",{staticStyle:{padding:"20px"}},[e._v(" Are you sure you want to delete "+e._s(e.value?e.value.fullName:"")+"? ")]),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Save()}}},[e._v("Delete")])],1)],1)],1)},JA=[],YA=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e}return Object(u["a"])(n,[{key:"Cancel",value:function(){this.$emit("cancel",null)}},{key:"Save",value:function(){console.log("Save",this.$refs),this.$emit("save",null)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],YA.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],YA.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["b"])({default:"Delete Account"})],YA.prototype,"dialogueName",void 0),YA=Object(v["a"])([Object(p["a"])({components:{BillingContactEditor:uA}})],YA);var QA=YA,XA=QA,ZA=Object(ha["a"])(XA,zA,JA,!1,null,null,null),eT=ZA.exports;ga()(ZA,{VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var tT=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"PermCRMBackupsRunLocal",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.backups.run-local");return t}},{key:"PermCRMBackupsRunServer",value:function(){if(O())return!0;var e=Q.AllForBillingContactId(),t=-1!==e.indexOf("crm.backups.run-server");return t}}]),e}(),nT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Subscriptions")]),e.PermCRMCanRequestSubscriptions()?n("v-card-text",[n("v-data-table",{attrs:{headers:e.subscriptionsHeaders,items:e.AllBillingSubscriptions(),"items-per-page":5},scopedSlots:e._u([{key:"item.packageId",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.BillingPackageNameForId(n.packageId))+" ")]}},{key:"item.name",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.BillingPackageDisplayNameForId(n.packageId))+" ")]}},{key:"item.cost",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.BillingPackageCostForId(n.packageId))+" ")]}}],null,!0)})],1):n("v-card-text",[n("PermissionsDeniedAlert")],1)],1)},aT=[],iT=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.subscriptionsHeaders=[{text:"Package",value:"packageId"},{text:"Name",value:"name"},{text:"Cost/month",value:"cost"}],e.PermCRMCanRequestSubscriptions=Ct.PermCRMCanRequestSubscriptions,e.BillingPackageNameForId=mt.NameForId,e.BillingPackageDisplayNameForId=mt.DisplayNameForId,e.BillingPackageCostForId=mt.CostForId,e.AllBillingSubscriptions=Ct.GetAll,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250)}}]),n}(mr);iT=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],iT);var oT=iT,sT=oT,rT=Object(ha["a"])(sT,nT,aT,!1,null,null,null),lT=rT.exports;ga()(rT,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDataTable:iO["a"]});var cT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Invoices")]),e.PermCRMCanRequestInvoices()?n("v-card-text",[n("v-data-table",{attrs:{headers:e.invoiceHeaders,items:e.AllBillingInvoices(),"items-per-page":5},scopedSlots:e._u([{key:"item.amountDue",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.FormatCurrency(n.amountDue,n.currency))+" ")]}},{key:"item.amountPaid",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.FormatCurrency(n.amountPaid,n.currency))+" ")]}},{key:"item.amountRemaining",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.FormatCurrency(n.amountRemaining,n.currency))+" ")]}}],null,!0)})],1):n("v-card-text",[n("PermissionsDeniedAlert")],1)],1)},uT=[],dT=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.invoiceHeaders=[{text:"Invoice #",value:"invoiceNumber"},{text:"Amount Due",value:"amountDue"},{text:"Amount Paid",value:"amountPaid"},{text:"Amount Remaining",value:"amountRemaining"}],e.PermCRMCanRequestInvoices=Mt.PermCRMCanRequestInvoices,e.BillingPackageNameForId=mt.NameForId,e.BillingPackageDisplayNameForId=mt.DisplayNameForId,e.BillingPackageCostForId=mt.CostForId,e.AllBillingInvoices=Mt.GetAll,e.FormatCurrency=KM,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250)}}]),n}(mr);dT=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],dT);var mT=dT,vT=mT,pT=Object(ha["a"])(vT,cT,uT,!1,null,null,null),fT=pT.exports;ga()(pT,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDataTable:iO["a"]});var hT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Journal Entries")]),e.PermCRMCanRequestJournalEntries()?n("v-card-text",[n("v-data-table",{attrs:{headers:e.journalEntriesHeaders,items:e.AllBillingJournalEntries(),"items-per-page":5},scopedSlots:e._u([{key:"item.timestamp",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.ISO8601ToLocalDateOnly(n.timestamp))+" ")]}},{key:"item.type",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.type)+" ")]}},{key:"item.description",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.description)+" ")]}},{key:"item.quantity",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.quantity)+" ")]}},{key:"item.unitPrice",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.FormatCurrency(n.unitPrice,n.currency))+" ")]}},{key:"item.taxPercentage",fn:function(t){var n=t.item;return[e._v(" "+e._s(n.taxPercentage)+" % ")]}},{key:"item.taxActual",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.FormatCurrency(n.taxActual,n.currency))+" ")]}},{key:"item.total",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.FormatCurrency(n.total,n.currency))+" ")]}}],null,!0)})],1):n("v-card-text",[n("PermissionsDeniedAlert")],1)],1)},bT=[],gT=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.journalEntriesHeaders=[{text:"Timestamp",value:"timestamp"},{text:"Type",value:"type"},{text:"Description",value:"description"},{text:"Quantity",value:"quantity"},{text:"Unit $",value:"unitPrice"},{text:"Tax %",value:"taxPercentage"},{text:"Tax $",value:"taxActual"},{text:"Total $",value:"total"}],e.PermCRMCanRequestJournalEntries=xt.PermCRMCanRequestJournalEntries,e.BillingPackageNameForId=mt.NameForId,e.BillingPackageDisplayNameForId=mt.DisplayNameForId,e.BillingPackageCostForId=mt.CostForId,e.AllBillingJournalEntries=xt.GetAll,e.ISO8601ToLocalDateOnly=ye,e.FormatCurrency=KM,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250)}}]),n}(mr);gT=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],gT);var yT=gT,CT=yT,jT=Object(ha["a"])(CT,hT,bT,!1,null,null,null),ST=jT.exports;ga()(jT,{VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDataTable:iO["a"]});var IT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Payments")]),e.IsInvoiceBilling?n("div",[n("v-card-text",{staticStyle:{color:"black","padding-bottom":"0px"}},[e._v(" You are currently setup to recieve invoices to your registered e-mail address. ")]),e.PermBillingCanMakeOneTimeCompanyCreditCardPayments?n("div",[n("v-card-subtitle",{staticStyle:{"font-weight":"bold"}},[e._v("One Time Payment (Interac e-Transfer)")]),n("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[e._v(" To send a payment with Interac e-Transfer, please send it to "),n("input",{staticStyle:{width:"270px","text-align":"center",border:"1px dashed #ccc"},attrs:{type:"text",value:"accounts.receivable@saulandpartners.ca",readonly:""}}),e._v(". After sending the e-transfer, please email the same address with the date, time, and amount of the payment, we will then apply it to your account. ")]),n("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[e._v(" There are no fees to send e-transfers. ")]),n("v-card-subtitle",{staticStyle:{"font-weight":"bold"}},[e._v("One Time Payment (Credit Card)")]),n("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[e._v(" To make a one time credit card payment, please use the following form, please be advised that a 2.9% + 30 cent surcharge is applied to one-time payments to cover the credit card processing fees. ")]),n("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[e._v(" If you wish to pay with credit cards every month, please setup pre-authorized payments, with pre-authorized payments we will cover the processing fees. ")]),n("v-card-text",[n("ExpandingIFrame",{attrs:{src:"https://squarepayments.dispatchpulse.com/OneTimePayment?SessionId="+e.BillingSessionsCurrentSessionId()}})],1),n("v-card-subtitle",{staticStyle:{"font-weight":"bold"}},[e._v("One Time Payment (Cheques)")]),n("v-card-text",{staticStyle:{"padding-bottom":"0px"}},[e._v(" Cheque payments are only accepted for quarterly or yearly payments. Refer to your invoice for the address to send cheques. Please ensure enough time for the cheque to arrive to ensure there is no interuption of service. ")])],1):n("div",[n("PermissionsDeniedAlert")],1)],1):e._e(),e.IsSquarePreAuthorizedBilling?n("v-card-text",[e._v(" You are currently setup with pre-authorized payments every month. ")]):e._e(),n("v-card-subtitle",{staticStyle:{"font-weight":"bold"}},[e._v("Pre-Authorized Payments (Credit Card)")]),n("v-card-text",{staticStyle:{color:"black","padding-bottom":"0px"}},[e._v(" Pre-authorized payments will debit the current balance of your account on or just after the 1st of each month. ")]),e.PermBillingCanSetupPreAuthorizedCreditCardPayments?n("div",[e.IsSquarePreAuthorizedBilling?e._e():n("v-card-text",[n("ExpandingIFrame",{attrs:{src:"https://squarepayments.dispatchpulse.com/SetupPreAuthorizedPayments?SessionId="+e.BillingSessionsCurrentSessionId()}})],1),e.IsSquarePreAuthorizedBilling?n("v-card-text",[n("ExpandingIFrame",{attrs:{src:"https://squarepayments.dispatchpulse.com/DisablePreAuthorizedPayments?SessionId="+e.BillingSessionsCurrentSessionId()}})],1):e._e()],1):n("div",[n("PermissionsDeniedAlert")],1)],1)},PT=[],OT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("iframe",{ref:"iframe",staticStyle:{width:"1px","min-width":"100%",border:"0px"},attrs:{src:e.src}})},kT=[],DT=n("99da"),_T=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(c["a"])(this,n),t.apply(this,arguments)}return Object(u["a"])(n,[{key:"mounted",value:function(){Object(DT["iframeResizer"])({log:!1},this.$refs.iframe)}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:"about:blank"})],_T.prototype,"src",void 0),_T=Object(v["a"])([Object(p["a"])({components:{}})],_T);var wT=_T;p["c"].component("ExpandingIFrame",_T);var xT=wT,RT=Object(ha["a"])(xT,OT,kT,!1,null,"17b70e8e",null),MT=RT.exports,AT=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermBillingCanMakeOneTimeCompanyCreditCardPayments=xt.PermBillingCanMakeOneTimeCompanyCreditCardPayments,e.PermBillingCanSetupPreAuthorizedCreditCardPayments=xt.PermBillingCanSetupPreAuthorizedCreditCardPayments,e.FormatCurrency=KM,e.BillingSessionsCurrentSessionId=ce.CurrentSessionId,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250)}},{key:"IsInvoiceBilling",get:function(){var e=_t.CompanyForCurrentBillingContact();return!!e&&"Invoice"===e.paymentMethod}},{key:"IsSquarePreAuthorizedBilling",get:function(){var e=_t.CompanyForCurrentBillingContact();return!!e&&"Square Pre-Authorized"===e.paymentMethod}}]),n}(mr);AT=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi,ExpandingIFrame:MT}})],AT);var TT=AT,VT=TT,BT=Object(ha["a"])(VT,IT,PT,!1,null,null,null),LT=BT.exports;ga()(BT,{VCard:Ca["a"],VCardSubtitle:ja["b"],VCardText:ja["c"],VCardTitle:ja["d"]});var NT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[e._v("Backup This PC's Database")]),n("v-card-text",[n("p",[e._v(" To download a backup of what is loaded on this PC click the below button. ")]),n("p",[n("span",{staticStyle:{color:"red"}},[e._v("Be aware, this will only save what is on this PC.")])]),n("p",[e._v(" For example: "),n("ul",[n("li",[e._v(" If you limited the amount of data downloaded to just this past year, it will only save this past year. ")]),n("li",[e._v(" If you only visited contacts when this was open, it will only save contacts as the rest isn't on your computer. ")])])]),n("p",[e._v(" The best time to use this is if you're stuck offline and are worried about losing data that isn't sent to our servers. ")]),n("p",[n("v-btn",{attrs:{disabled:e.disabled||!e.PermCRMBackupsRunLocal()},on:{click:e.DoBackupThisPC}},[e._v("Backup This PC's Database")])],1)])],1)},ET=[],FT=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.GetDemoMode=O,e.PermCRMBackupsRunLocal=tT.PermCRMBackupsRunLocal,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250)}},{key:"DoBackupThisPC",value:function(){console.debug("DoBackupThisPC()");var e=this.$store.state.Database,t={backupVersion:1,thisPCBackup:!0,database:e},n=JSON.stringify(t,null,"\t");P(n,"DispatchPulseThisPCBackup.json")}}]),n}(mr);FT=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi}})],FT);var qT=FT,GT=qT,$T=Object(ha["a"])(GT,NT,ET,!1,null,null,null),UT=$T.exports;ga()($T,{VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"]});var HT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("div",{staticClass:"title"},[e._v("Phone Id")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"10","offset-sm":"1"}},[n("ChangeCompanyPhoneIdDialogue2",{ref:"changeCompanyPhoneIdDialogue",attrs:{isOpen:e.changeCompanyPhoneIdOpen,dialogueName:"Change Company Phone ID"},on:{save:e.SaveChangeCompanyPhoneId,cancel:e.CancelChangeCompanyPhoneId},model:{value:e.changeCompanyPhoneIdModel,callback:function(t){e.changeCompanyPhoneIdModel=t},expression:"changeCompanyPhoneIdModel"}}),n("v-text-field",{attrs:{disabled:e.disabled,readonly:!0,autocomplete:"newpassword",label:"Phone ID#",hint:"The phone id # is used when calling in to access company access.","persistent-hint":""},scopedSlots:e._u([{key:"append-outer",fn:function(){return[n("v-btn",{attrs:{text:"",disabled:e.disabled||!e.PermBillingCompaniesCanModifyPhoneId()||!e.PermBillingCompaniesCanRequest()},on:{click:function(t){return e.ChangePhoneId()}}},[e._v(" Change ")])]},proxy:!0}]),model:{value:e.CompanyPhoneId,callback:function(t){e.CompanyPhoneId=t},expression:"CompanyPhoneId"}})],1)],1)],1)],1)},WT=[],KT=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v(e._s(e.dialogueName))]),n("v-divider"),n("v-card-text",[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"Current Phone ID",type:"text",hint:"",readonly:!0},model:{value:e.CurrentPhoneId,callback:function(t){e.CurrentPhoneId=t},expression:"CurrentPhoneId"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{autocomplete:"newpassword",label:"New Phone ID",type:"text",hint:""},model:{value:e.NewPhoneId,callback:function(t){e.NewPhoneId=t},expression:"NewPhoneId"}}),e.companyPhoneIdInUse&&e.CurrentPhoneId==e.NewPhoneId?n("v-alert",{attrs:{type:"warning","colored-border":"",elevation:"2",border:"bottom"}},[e._v(" Your company already has this ID. ")]):e.companyPhoneIdInUse?n("v-alert",{attrs:{type:"error","colored-border":"",elevation:"2",border:"bottom"}},[e._v(" This ID is already in use, and cannot be saved. ")]):e._e()],1)],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"green darken-1",text:"",disabled:e.companyPhoneIdInUse},on:{click:function(t){return e.Save()}}},[e._v("Save")])],1)],1)],1)},zT=[],JT=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e.companyPhoneIdInUse=!1,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){}},{key:"CurrentPhoneId",get:function(){var e;return(null===(e=this.value)||void 0===e?void 0:e.originalId)||""},set:function(e){}},{key:"NewPhoneId",get:function(){var e;return(null===(e=this.value)||void 0===e?void 0:e.newId)||""},set:function(e){if(this.value){e=e.replace("a","2"),e=e.replace("b","2"),e=e.replace("c","2"),e=e.replace("d","3"),e=e.replace("e","3"),e=e.replace("f","3"),e=e.replace("g","4"),e=e.replace("h","4"),e=e.replace("i","4"),e=e.replace("j","5"),e=e.replace("k","5"),e=e.replace("l","5"),e=e.replace("m","6"),e=e.replace("n","6"),e=e.replace("o","6"),e=e.replace("p","7"),e=e.replace("q","7"),e=e.replace("r","7"),e=e.replace("s","7"),e=e.replace("t","8"),e=e.replace("u","8"),e=e.replace("v","8"),e=e.replace("w","9"),e=e.replace("x","9"),e=e.replace("y","9"),e=e.replace("z","9"),e=e.replace(/\D/g,"");var t=F.a.cloneDeep(this.value);t.newId=e,this.$emit("input",t)}}},{key:"valueChanged",value:function(e,t){this.UpdateCheckInUse()}},{key:"UpdateCheckInUse",value:function(){var e,t=this;if(this.value&&this.value.newId){var n=_t.PerformCheckCompanyPhoneIdInUse.Send({sessionId:ce.CurrentSessionId(),companyId:(null===(e=this.value)||void 0===e?void 0:e.newId)||null});n.completeRequestPromise&&n.completeRequestPromise.then((function(e){p["c"].set(t,"companyPhoneIdInUse",e.inUse)}))}else p["c"].set(this,"companyPhoneIdInUse",!1)}},{key:"Cancel",value:function(){this.$emit("cancel",null)}},{key:"Save",value:function(){this.$emit("save",this.value)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],JT.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],JT.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["d"])("value")],JT.prototype,"valueChanged",null),JT=Object(v["a"])([Object(p["a"])({components:{BillingContactEditor:uA}})],JT);var YT=JT,QT=YT,XT=Object(ha["a"])(QT,KT,zT,!1,null,null,null),ZT=XT.exports;ga()(XT,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VDialog:Pa["a"],VDivider:Ea["a"],VForm:Oa["a"],VRow:Da["a"],VSpacer:_a["a"],VTextField:wa["a"]});var eV=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={originalId:null,newId:null};return e}}]),e}(),tV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.GetDemoMode=O,e.PermBillingCompaniesCanModifyPhoneId=_t.PermBillingCompaniesCanModifyPhoneId,e.PermBillingCompaniesCanRequest=_t.PermBillingCompaniesCanRequest,e.changeCompanyPhoneIdModel=null,e.changeCompanyPhoneIdOpen=!1,e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this.loadingData=!0,this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){e.loadingData=!1}),250)}},{key:"ChangePhoneId",value:function(){var e=this;this.changeCompanyPhoneIdModel=eV.GetEmpty();var t=_t.CompanyPhoneIdForCurrentBillingContact();this.changeCompanyPhoneIdOpen=!0,this.changeCompanyPhoneIdModel.originalId=t,this.changeCompanyPhoneIdModel.newId=t,requestAnimationFrame((function(){e.$refs.changeCompanyPhoneIdDialogue&&e.$refs.changeCompanyPhoneIdDialogue.SwitchToTabFromRoute()}))}},{key:"SaveChangeCompanyPhoneId",value:function(){var e,t,n,a=this;console.debug("SaveChangeCompanyPhoneId",null===(e=this.changeCompanyPhoneIdModel)||void 0===e?void 0:e.newId);var i=(null===(t=this.changeCompanyPhoneIdModel)||void 0===t?void 0:t.originalId)||null,o=(null===(n=this.changeCompanyPhoneIdModel)||void 0===n?void 0:n.newId)||null;if(o&&!y(o))if(i!==o){var s=_t.PerformUpdatePhoneId.Send({sessionId:ce.CurrentSessionId(),newPhoneId:o});s.completeRequestPromise&&s.completeRequestPromise.then((function(e){e.isError||(a.changeCompanyPhoneIdOpen=!1,requestAnimationFrame((function(){a.changeCompanyPhoneIdModel=eV.GetEmpty()})))}))}else D.AddNotification({severity:"warning",message:"Old ID is the same as New ID, no need up update.",autoClearInSeconds:10});else D.AddNotification({severity:"error",message:"New phone id is blank!",autoClearInSeconds:10})}},{key:"CancelChangeCompanyPhoneId",value:function(){var e=this;this.changeCompanyPhoneIdOpen=!1,requestAnimationFrame((function(){e.changeCompanyPhoneIdModel=eV.GetEmpty()}))}},{key:"CompanyPhoneId",get:function(){return _t.CompanyPhoneIdForCurrentBillingContact()},set:function(e){}}]),n}(mr);tV=Object(v["a"])([Object(p["a"])({components:{PermissionsDeniedAlert:Qi,ChangeCompanyPhoneIdDialogue2:ZT}})],tV);var nV=tV,aV=nV,iV=Object(ha["a"])(aV,HT,WT,!1,null,null,null),oV=iV.exports;ga()(iV,{VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VCol:Sa["a"],VRow:Da["a"],VTextField:wa["a"]});var sV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={"My Account":0,"my account":0,"Other Accounts":1,"other accounts":1,"Company Accounts":1,"company accounts":1,"Company Settings":2,"company settings":2,Billing:3,billing:3,"Admin, Backup & Restore":4,"admin, backup & restore":4},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Settings",disabled:!0,to:"/settings"}],e.GetDemoMode=O,e.FormatCurrency=KM,e.CurrentBillingContact=he.ForCurrentSession,e.ISO8601ToLocalDateOnly=ye,e.DialoguesOpen=ca.Open,e.PermCRMCanModifySelf=he.PermCRMCanModifySelf,e.PermBillingCompaniesCanModify=_t.PermBillingCompaniesCanModify,e.PermCRMCanRequestSubscriptions=Ct.PermCRMCanRequestSubscriptions,e.PermCRMCanRequestInvoices=Mt.PermCRMCanRequestInvoices,e.PermCRMCanRequestJournalEntries=xt.PermCRMCanRequestJournalEntries,e.PermCRMBackupsRunLocal=tT.PermCRMBackupsRunLocal,e.loadingData=!1,e.newBillingContactModel=null,e.newBillingContactOpen=!1,e.modifyBillingContactModel=null,e.modifyBillingContactOpen=!1,e.modifyBillingContactPermissionsModel=null,e.modifyBillingContactPermissionsOpen=!1,e.modifyBillingContactLicensesModel=null,e.modifyBillingContactLicensesOpen=!1,e.deleteBillingContactModel=null,e.deleteBillingContactOpen=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;O()||x.Ready((function(){Q.Ready((function(){var t=[];if(_t.PermBillingCompaniesCanRequest()){var n=_t.RequestBillingCompanyForCurrentSession.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}else console.warn("No permissions to request billing company.");if(he.PermBillingContactsCanRequest()){var a=he.RequestBillingContactsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});a.completeRequestPromise&&t.push(a.completeRequestPromise)}if(un.PermContactsCanRequest()){var i=un.RequestContacts.Send({sessionId:ce.CurrentSessionId()});i.completeRequestPromise&&t.push(i.completeRequestPromise)}if(Mt.PermBillingInvoicesCanRequest()){var o=Mt.RequestBillingInvoicesForCurrentSession.Send({sessionId:ce.CurrentSessionId()});o.completeRequestPromise&&t.push(o.completeRequestPromise)}if(xt.PermCRMCanRequestJournalEntries()){var s=xt.RequestBillingJournalEntriesForCurrentSession.Send({sessionId:ce.CurrentSessionId()});s.completeRequestPromise&&t.push(s.completeRequestPromise)}if(mt.PermBillingPackagesCanRequest()){var r=mt.RequestBillingPackagesForCurrentSession.Send({sessionId:ce.CurrentSessionId()});r.completeRequestPromise&&t.push(r.completeRequestPromise)}if(st.PermBillingPaymentMethodCanRequest()){var l=st.RequestBillingPaymentMethodForCurrentSession.Send({sessionId:ce.CurrentSessionId()});l.completeRequestPromise&&t.push(l.completeRequestPromise)}if(Q.PermBillingPermissionsBoolCanRequest()){var c=Q.RequestBillingPermissionsBoolForCurrentSession.Send({sessionId:ce.CurrentSessionId()});c.completeRequestPromise&&t.push(c.completeRequestPromise)}if(at.PermBillingPermissionsGroupsCanRequest()){var u=at.RequestBillingPermissionsGroupsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});u.completeRequestPromise&&t.push(u.completeRequestPromise)}if(K.PermBillingPermissionsGroupsMembershipsCanRequest()){var d=K.RequestBillingPermissionsGroupsMembershipsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});d.completeRequestPromise&&t.push(d.completeRequestPromise)}if(ce.PermBillingSessionsCanRequest()){var m=ce.RequestBillingSessionsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});m.completeRequestPromise&&t.push(m.completeRequestPromise)}if(Ct.PermCRMCanRequestSubscriptions()){var v=Ct.RequestBillingSubscriptionsForCurrentSession.Send({sessionId:ce.CurrentSessionId()});v.completeRequestPromise&&t.push(v.completeRequestPromise)}if(tt.PermBillingSubscriptionsProvisioningStatusCanRequest()){var p=tt.RequestBillingSubscriptionsProvisioningStatusForCurrentSession.Send({sessionId:ce.CurrentSessionId()});p.completeRequestPromise&&t.push(p.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){console.log("settings mounted"),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"MaintenanceMode",get:function(){return!1},set:function(e){console.debug("set MaintenanceMode ",e)}},{key:"BillingContactName",get:function(){var e=he.ForCurrentSession();return e?e.fullName:""},set:function(e){ce.PushBillingSessionName.Send({sessionId:ce.CurrentSessionId(),fullName:null==e||y(e)?"Unnamed":e})}},{key:"BillingContactPhone",get:function(){var e=he.ForCurrentSession();return e?e.phone:""},set:function(e){ce.PushBillingSessionPhone.Send({sessionId:ce.CurrentSessionId(),phone:null==e||y(e)?"":e})}},{key:"BillingContactEMail",get:function(){var e=he.ForCurrentSession();return e?e.email:""},set:function(e){ce.PushBillingSessionEMail.Send({sessionId:ce.CurrentSessionId(),eMail:e})}},{key:"BillingContactEmailListTutorials",get:function(){var e=he.ForCurrentSession();return!!e&&e.emailListTutorials},set:function(e){ce.PushBillingSessionEMailListTutorials.Send({sessionId:ce.CurrentSessionId(),eMailListTutorials:e})}},{key:"BillingContactEmailListMarketing",get:function(){var e=he.ForCurrentSession();return!!e&&e.emailListMarketing},set:function(e){ce.PushBillingSessionEMailListMarketing.Send({sessionId:ce.CurrentSessionId(),eMailListMarketing:e})}},{key:"BillingContactUniqueID",get:function(){var e=he.ForCurrentSession();return e?e.uuid:""},set:function(e){console.error("set BillingContactUniqueID not implemented")}},{key:"BillingContactCompanyID",get:function(){var e=he.ForCurrentSession();return e?e.companyId:""},set:function(e){console.error("set BillingContactCompanyID not implemented")}},{key:"BillingContactMarketingCampaign",get:function(){var e=he.ForCurrentSession();return e?e.marketingCampaign:""},set:function(e){}},{key:"BillingContactDispatchPulseContactId",get:function(){var e=he.ForCurrentSession();if(!e)return null;var t=e.applicationData;if(!t)return null;if(!t.hasOwnProperty("dispatchPulseContactId"))return null;var n=t.dispatchPulseContactId;return!n||y(n)?null:n},set:function(e){ce.PushBillingSessionContactId.Send({sessionId:ce.CurrentSessionId(),contactId:e})}},{key:"BillingContactDispatchPulseAgentId",get:function(){return Pe.LoggedInAgentId()},set:function(e){ce.PushBillingSessionAgentId.Send({sessionId:ce.CurrentSessionId(),agentId:e})}},{key:"CompanyAccounts",get:function(){return ra.state.Database.billingContacts}},{key:"OpenNewBillingContact",value:function(){var e,t=this;console.debug("OpenBewBillingContact"),this.newBillingContactModel=he.GetEmpty(),this.newBillingContactModel.emailListMarketing=!1,this.newBillingContactModel.emailListTutorials=!1,this.newBillingContactModel.marketingCampaign="Client Added User",this.newBillingContactModel.companyId=(null===(e=he.ForCurrentSession())||void 0===e?void 0:e.companyId)||null,this.newBillingContactOpen=!0,requestAnimationFrame((function(){t.$refs.newBillingContactDialogue&&t.$refs.newBillingContactDialogue.SwitchToTabFromRoute()}))}},{key:"CancelNewBillingContact",value:function(){this.newBillingContactOpen=!1}},{key:"SaveNewBillingContact",value:function(){if(console.debug("SaveNewBillingContact",this.newBillingContactModel),this.newBillingContactOpen=!1,null!=this.newBillingContactModel){var e=F.a.cloneDeep(this.newBillingContactModel);e.hasOwnProperty("applicationData")&&(e.applicationData=JSON.stringify(e.applicationData)),e.hasOwnProperty("json")&&(e.json=JSON.stringify(e.json)),he.Add(e)}}},{key:"OpenModifyBillingContact",value:function(e){var t=this;if(console.debug("OpenModifyBillingContact",e),null!==e&&!y(e)){var n=F.a.cloneDeep(he.ForId(e));this.modifyBillingContactModel=n,this.modifyBillingContactOpen=!0,requestAnimationFrame((function(){t.$refs.modifyBillingContactDialogue&&t.$refs.modifyBillingContactDialogue.SwitchToTabFromRoute()}))}}},{key:"CancelModifyBillingContact",value:function(){this.modifyBillingContactOpen=!1}},{key:"SaveModifyBillingContact",value:function(){if(console.debug("SaveModifyBillingContact",this.modifyBillingContactModel),this.modifyBillingContactOpen=!1,null!=this.modifyBillingContactModel){var e=F.a.cloneDeep(this.modifyBillingContactModel);e.hasOwnProperty("applicationData")&&(e.applicationData=JSON.stringify(e.applicationData)),e.hasOwnProperty("json")&&(e.json=JSON.stringify(e.json));var t={};t[e.uuid]=e,he.PerformUpdateBillingContactDetails.Send({sessionId:ce.CurrentSessionId(),billingContacts:t})}}},{key:"OpenModifyBillingContactPermissions",value:function(e){var t=this;if(console.debug("OpenModifyBillingContactPermissions",e),null!==e&&!y(e)){var n=F.a.cloneDeep(he.ForId(e));this.modifyBillingContactPermissionsModel=n,this.modifyBillingContactPermissionsOpen=!0,requestAnimationFrame((function(){t.$refs.modifyBillingContactPermissionsDialogue&&t.$refs.modifyBillingContactPermissionsDialogue.SwitchToTabFromRoute()}))}}},{key:"CloseModifyBillingContactPermissions",value:function(){this.modifyBillingContactPermissionsOpen=!1}},{key:"SaveModifyBillingContactPermissions",value:function(){if(console.debug("SaveModifyBillingContactPermissions",this.modifyBillingContactPermissionsModel),null!=this.modifyBillingContactPermissionsModel){var e=F.a.cloneDeep(this.modifyBillingContactPermissionsModel);e.hasOwnProperty("applicationData")&&(e.applicationData=JSON.stringify(e.applicationData)),e.hasOwnProperty("json")&&(e.json=JSON.stringify(e.json));var t={};t[e.uuid]=e,console.debug("payload",t),he.PerformUpdateBillingContactDetails.Send({sessionId:ce.CurrentSessionId(),billingContacts:t})}}},{key:"OpenModifyBillingContactLicenses",value:function(e){var t=this;if(console.debug("OpenModifyBillingContactLicenses",e),null!==e&&!y(e)){var n=F.a.cloneDeep(he.ForId(e));this.modifyBillingContactLicensesModel=n,this.modifyBillingContactLicensesOpen=!0,requestAnimationFrame((function(){t.$refs.modifyBillingContactLicensesDialogue&&t.$refs.modifyBillingContactLicensesDialogue.SwitchToTabFromRoute()}))}}},{key:"CloseModifyBillingContactLicenses",value:function(){this.modifyBillingContactLicensesOpen=!1}},{key:"SaveModifyBillingContactLicenses",value:function(){if(console.debug("SaveModifyBillingContactLicenses",this.modifyBillingContactLicensesModel),null!=this.modifyBillingContactLicensesModel){var e=F.a.cloneDeep(this.modifyBillingContactLicensesModel);e.hasOwnProperty("applicationData")&&(e.applicationData=JSON.stringify(e.applicationData)),e.hasOwnProperty("json")&&(e.json=JSON.stringify(e.json));var t={};t[e.uuid]=e,he.PerformUpdateBillingContactDetails.Send({sessionId:ce.CurrentSessionId(),billingContacts:t})}}},{key:"OpenDeleteBillingContact",value:function(e){var t=this;null!==e&&(console.debug("OpenDeleteBillingContact",e),this.deleteBillingContactModel=e,this.deleteBillingContactOpen=!0,requestAnimationFrame((function(){t.$refs.deleteBillingContactDialogue&&t.$refs.deleteBillingContactDialogue.SwitchToTabFromRoute()})))}},{key:"CancelDeleteBillingContact",value:function(){this.deleteBillingContactOpen=!1}},{key:"SaveDeleteBillingContact",value:function(){var e=this;if(console.debug("SaveDeleteBillingContact",this.deleteBillingContactModel),this.deleteBillingContactOpen=!1,null!=this.deleteBillingContactModel&&null!=this.deleteBillingContactModel.uuid&&!y(this.deleteBillingContactModel.uuid)){var t=he.DeleteId(this.deleteBillingContactModel.uuid);null!==t&&void 0!==t&&t.completeRequestPromise&&(null===t||void 0===t||t.completeRequestPromise.then((function(){e.deleteBillingContactOpen=!1,e.deleteBillingContactModel=null})))}}}]),n}(AO);sV=Object(v["a"])([Object(p["a"])({components:{ReloadButton:ms,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,BilingContactListItem:eA,ModifyBillingContactDialogue2:fA,ModifyBillingContactPermissionsDialogue2:AA,ModifyBillingContactLicensesDialogue2:KA,DeleteBillingContactDialogue2:eT,PermissionsDeniedAlert:Qi,NotificationBellButton:hl,BillingSubscriptionsCard:lT,BillingInvoicesCard:fT,BillingJournalEntriesCard:ST,BillingPaymentsCard:LT,BackupLocalDataCard:UT,PhoneIdCard:oV}})],sV);var rV=sV,lV=rV,cV=(n("c586"),Object(ha["a"])(lV,HM,WM,!1,null,"ec385aa8",null)),uV=cV.exports;ga()(cV,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VCardTitle:ja["d"],VCol:Sa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemGroup:to["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VSwitch:il["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VToolbar:_o["a"],VToolbarTitle:wo["a"]});var dV=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AgentEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.Agent,callback:function(t){e.Agent=t},expression:"Agent"}})},mV=[],vV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"Breadcrumbs",get:function(){return this.Agent?[{text:"Dashboard",disabled:!1,to:"/"},{text:"Agents Index",disabled:!1,to:"/section/agents/index"},{text:this.AgentName,disabled:!0,to:""}]:[]}},{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=Pe.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/agents/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"AgentName",get:function(){var e=this.Agent;return e?y(e.json.name)?"Agent":"Agent: ".concat(this.Agent.json.name):"Agent"}},{key:"Agent",get:function(){return F.a.cloneDeep(Pe.ForId(this.$route.params.id))},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,Pe.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);vV=Object(v["a"])([Object(p["a"])({components:{AgentEditor:Kl}})],vV);var pV=vV,fV=pV,hV=Object(ha["a"])(fV,dV,mV,!1,null,null,null),bV=hV.exports,gV=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",[e._v(" General ")])],1)]},proxy:!0}])},[e.loadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Labour Entry")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-card-text",[e._v(" hello ")])],1)],1)],1),n("div",{staticStyle:{height:"50px"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{staticClass:"my-2",attrs:{color:"white",text:"",rounded:""}},[e._v(" test ")])],1)],1)],1)},yV=[],CV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={General:0,general:0},e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=Ue.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"DoChangePassword",value:function(){console.log("DoChangePassword()")}}]),n}(AO);CV=Object(v["a"])([Object(p["a"])({components:{ReloadButton:ms,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,NotificationBellButton:hl}})],CV);var jV=CV,SV=jV,IV=Object(ha["a"])(SV,gV,yV,!1,null,null,null),PV=IV.exports;ga()(IV,{VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBtn:ya["a"],VCard:Ca["a"],VCardText:ja["c"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var OV=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AssignmentEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.Assignment,callback:function(t){e.Assignment=t},expression:"Assignment"}})},kV=[],DV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=Ze.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/assignments/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return this.Assignment?[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Assignments",disabled:!1,to:"/section/assignments/index"},{text:"Assignment",disabled:!0,to:""}]:[]}},{key:"Assignment",get:function(){var e=Ze.ForId(this.$route.params.id);return e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,Ze.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);DV=Object(v["a"])([Object(p["a"])({components:{AssignmentEditor:Vl}})],DV);var _V=DV,wV=_V,xV=Object(ha["a"])(wV,OV,kV,!1,null,null,null),RV=xV.exports,MV=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"All"})}).catch((function(e){}))}}},[e._v(" All ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Reports")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-list",[n("v-list-item-group",{attrs:{color:"primary"}},[e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-report-index-assignment-report",attrs:{"two-line":"",disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportAssignmentPDF()},on:{click:function(t){return e.OpenDialogueAssignmentReport()}}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Assignment Report")]),n("v-list-item-subtitle",[e._v("Prints out service order style print out of assignments.")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-report-index-company-report",attrs:{"two-line":"",disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportCompaniesPDF()},on:{click:function(t){return e.OpenDialogueCompanyReport()}}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Company Report")]),n("v-list-item-subtitle",[e._v("Prints out a company list.")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-report-index-contacts-report",attrs:{"two-line":"",disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportContactsPDF()},on:{click:function(t){return e.OpenDialogueContactsReport()}}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Contacts Report")]),n("v-list-item-subtitle",[e._v("Creates an Address Book printout for contacts.")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-report-index-labour-report",attrs:{"two-line":"",disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportLabourPDF()},on:{click:function(t){return e.OpenDialogueLabourReport()}}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Labour Report")]),n("v-list-item-subtitle",[e._v("Prints out a list of labour.")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-report-index-materials-report",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportMaterialsPDF(),"two-line":""},on:{click:function(t){return e.OpenDialogueMaterialsReport()}}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Materials Report")]),n("v-list-item-subtitle",[e._v("Prints out a list of materials.")])],1)],1):e._e(),e.cacheLicensedProjectsSchedulingTime?n("v-list-item",{staticClass:"e2e-report-index-project-report",attrs:{"two-line":"",disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportProjectsPDF()},on:{click:function(t){return e.OpenDialogueProjectReport()}}},[n("v-list-item-content",[n("v-list-item-title",[e._v("Project Report")]),n("v-list-item-subtitle",[e._v("Creates a print out record of all the relevant information from a project.")])],1)],1):e._e(),e.cacheLicensedOnCall?n("v-list-item",{staticClass:"e2e-report-index-project-report",attrs:{"two-line":"",disabled:"Connected"!=e.connectionStatus||!e.PermCRMReportProjectsPDF()},on:{click:function(t){return e.OpenOnCallResponder30DayReport()}}},[n("v-list-item-content",[n("v-list-item-title",[e._v("On Call Responder Last 30 Days Overview")]),n("v-list-item-subtitle",[e._v("Creates a print out report detailing the events of the past month.")])],1)],1):e._e()],1)],1)],1)],1)],1)],1)],1),n("OnCallResponder30DayReportDialogue",{ref:"ocr30DayReportDialogue",attrs:{isOpen:e.ocr30DayReportOpen},on:{cancel:e.CancelOnCallResponder30DayReport,"start-over":e.StartOverOnCallResponder30DayReport},model:{value:e.ocr30DayReportModel,callback:function(t){e.ocr30DayReportModel=t},expression:"ocr30DayReportModel"}}),n("div",{staticStyle:{height:"50px"}})],1)},AV=[],TV=function(){function e(){Object(c["a"])(this,e)}return Object(u["a"])(e,null,[{key:"GetMerged",value:function(e){var t=this.GetEmpty();return F.a.merge(t,e),t}},{key:"GetEmpty",value:function(){var e={_renderingActive:!1,_showProgress:!1,_renderingComplete:!1,_downloadLink:null,_renderingProgressMessage:"",_errorMessage:""};return e}}]),e}(),VV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={All:0,all:0},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Reports",disabled:!0,to:"/section/reports/index"}],e.ocr30DayReportModel=null,e.ocr30DayReportOpen=!1,e.PermCRMReportCompaniesPDF=tn.PermCRMReportCompaniesPDF,e.PermCRMReportAssignmentPDF=Ze.PermCRMReportAssignmentPDF,e.PermCRMReportContactsPDF=un.PermCRMReportContactsPDF,e.PermCRMReportLabourPDF=Ue.PermCRMReportLabourPDF,e.PermCRMReportMaterialsPDF=gn.PermCRMReportMaterialsPDF,e.PermCRMReportProjectsPDF=ze.PermCRMReportProjectsPDF,e.cacheLicensedProjectsSchedulingTime=!1,e.cacheLicensedOnCall=!1,e._periodicInterval=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this._periodicInterval=setInterval(this.Periodic,500),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"Periodic",value:function(){this.cacheLicensedProjectsSchedulingTime=Ta.PermCRMNavigationLicensedProjectsSchedulingTime(),this.cacheLicensedOnCall=Ta.PermCRMNavigationLicensedOnCall()}},{key:"OpenDialogueAssignmentReport",value:function(){ca.Open({name:"AssignmentReportDialogue",state:null})}},{key:"OpenDialogueCompanyReport",value:function(){ca.Open({name:"CompanyReportDialogue",state:null})}},{key:"OpenDialogueContactsReport",value:function(){ca.Open({name:"ContactsReportDialogue",state:null})}},{key:"OpenDialogueLabourReport",value:function(){ca.Open({name:"LabourReportDialogue",state:null})}},{key:"OpenDialogueMaterialsReport",value:function(){ca.Open({name:"MaterialsReportDialogue",state:null})}},{key:"OpenDialogueProjectReport",value:function(){ca.Open({name:"ProjectReportDialogue",state:null})}},{key:"OpenOnCallResponder30DayReport",value:function(){var e=this;this.ocr30DayReportModel=TV.GetEmpty(),this.ocr30DayReportOpen=!0,requestAnimationFrame((function(){e.$refs.ocr30DayReportDialogue&&e.$refs.ocr30DayReportDialogue.SwitchToTabFromRoute()}))}},{key:"CancelOnCallResponder30DayReport",value:function(){this.ocr30DayReportModel=TV.GetEmpty(),this.ocr30DayReportOpen=!1}},{key:"StartOverOnCallResponder30DayReport",value:function(){this.ocr30DayReportModel=TV.GetEmpty()}}]),n}(AO);VV=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,OnCallResponder30DayReportDialogue:CO}})],VV);var BV=VV,LV=BV,NV=Object(ha["a"])(LV,MV,AV,!1,null,null,null),EV=NV.exports;ga()(NV,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCol:Sa["a"],VContainer:Ia["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemGroup:to["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var FV=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-dids-index-tab-Phone Numbers",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Phone Numbers"})}).catch((function(e){}))}}},[e._v(" Phone Numbers ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Phone Numbers")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("DIDsList",{ref:"didsList",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddDIDDialogue",{ref:"addDIDDialogue",attrs:{isOpen:e.addDIDOpen},on:{Save:e.SaveAddDID,Cancel:e.CancelAddDID},model:{value:e.addDIDModel,callback:function(t){e.addDIDModel=t},expression:"addDIDModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-menu-add-did",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermDIDsCanPush()},on:{click:function(t){return e.OpenAddDID()}}},[n("v-list-item-icon",[n("v-icon",[e._v("phone")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Phone Number")])],1)],1)],1)],1)],1)],1)},qV=[],GV=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermDIDsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-dids-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("DIDsListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,"delete-entry":e.OpenDeleteDID},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" There are no phone numbers to show. ")])],1)],1):n("PermissionsDeniedAlert"),n("DeleteDIDDialogue",{ref:"deleteDIDDialogue",attrs:{isOpen:e.deleteDIDOpen},on:{Delete:e.SaveDeleteDID,Cancel:e.CancelDeleteDID},model:{value:e.deleteDIDModel,callback:function(t){e.deleteDIDModel=t},expression:"deleteDIDModel"}})],1)},$V=[],UV=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-did-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("phone")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(e.value.json.DIDNumber))]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[n("DIDRegisteredChip",{attrs:{DIDNumber:e.value}})],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermDIDsCanDelete()},on:{click:function(t){return e.$emit("delete-entry",e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},HV=[],WV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermDIDsCanDelete=Ln.PermDIDsCanDelete,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],WV.prototype,"value",void 0),WV=Object(v["a"])([Object(p["a"])({components:{DIDRegisteredChip:eu}})],WV);var KV=WV,zV=KV,JV=Object(ha["a"])(zV,UV,HV,!1,null,null,null),YV=JV.exports;ga()(JV,{VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"]});var QV=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermDIDsCanRequest=Ln.PermDIDsCanRequest,e.deleteDIDModel=null,e.deleteDIDOpen=!1,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(Ln.PermDIDsCanRequest()){var n=Ln.RequestDIDs.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.dids}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(i){n=!1;break}}var r="";r+=e.json.DIDNumber,r=r.replace(/\W/g,""),r=r.toLowerCase();var l=this.filter.toLowerCase();if(l=l.replace(/\W/g,""),-1===r.indexOf(l)){n=!1;break}}while(0);return n}},{key:"RowSortBy",value:function(e){return(e.json.DIDNumber||"1").toLowerCase()}},{key:"GetEntryRouteForId",value:function(e){return"/section/dids/".concat(e,"?tab=General")}},{key:"IsReverseSort",value:function(){return this.isReverseSort}},{key:"OpenDeleteDID",value:function(e){var t=this;this.deleteDIDModel=e,this.deleteDIDOpen=!0,requestAnimationFrame((function(){t.$refs.deleteDIDDialogue&&t.$refs.deleteDIDDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteDID",value:function(){this.deleteDIDOpen=!1}},{key:"SaveDeleteDID",value:function(){if(this.deleteDIDModel&&this.deleteDIDModel.id&&!y(this.deleteDIDModel.id)){var e=[this.deleteDIDModel.id];Ln.DeleteIds(e),this.deleteDIDOpen=!1,this.$router.push("/section/dids/index").catch((function(e){}))}else console.error("!this.deleteDIDModel || !this.deleteDIDModel.id || IsNullOrEmpty(this.deleteDIDModel.id)")}}]),n}($i);Object(v["a"])([Object(p["b"])({default:function(){return[]}})],QV.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],QV.prototype,"isReverseSort",void 0),Object(v["a"])([Object(p["b"])({default:"There are no phone numbers to show."})],QV.prototype,"emptyMessage",void 0),QV=Object(v["a"])([Object(p["a"])({components:{DIDsListItem:YV,PermissionsDeniedAlert:Qi,DeleteDIDDialogue:Gm}})],QV);var XV=QV,ZV=XV,eB=Object(ha["a"])(ZV,GV,$V,!1,null,null,null),tB=eB.exports;ga()(eB,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var nB=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.tab=0,e.tabNameToIndex={"Phone Numbers":0,"phone numbers":0},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Phone Numbers",disabled:!0,to:"/section/dids/index"}],e.PermDIDsCanPush=Ln.PermDIDsCanPush,e.addDIDModel=null,e.addDIDOpen=!1,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.didsList||!this.$refs.didsList.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.didsList&&this.$refs.didsList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"OpenAddDID",value:function(){var e=this;this.addDIDModel=Ln.GetEmpty(),this.addDIDOpen=!0,requestAnimationFrame((function(){e.$refs.addDIDDialogue&&e.$refs.addDIDDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddDID",value:function(){this.addDIDOpen=!1}},{key:"SaveAddDID",value:function(){if(this.addDIDModel&&this.addDIDModel.id&&!y(this.addDIDModel.id)){var e={};e[this.addDIDModel.id]=this.addDIDModel,Ln.UpdateIds(e),this.addDIDOpen=!1,this.$router.push("/section/dids/".concat(this.addDIDModel.id,"?tab=General")).catch((function(e){}))}else console.error("!this.addDIDModel || !this.addDIDModel.id || IsNullOrEmpty(this.addDIDModel.id)")}}]),n}(AO);nB=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,DIDsList:tB,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,AddDIDDialogue:Xm}})],nB);var aB=nB,iB=aB,oB=Object(ha["a"])(iB,FV,qV,!1,null,null,null),sB=oB.exports;ga()(oB,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var rB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("DIDEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.DID,callback:function(t){e.DID=t},expression:"DID"}})},lB=[],cB=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=Ln.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/DIDs/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return[{text:"Dashboard",disabled:!1,to:"/"},{text:"Phone Numbers",disabled:!1,to:"/section/dids/index"},{text:"Phone Number",disabled:!0,to:""}]}},{key:"DID",get:function(){var e=Ln.ForId(this.$route.params.id);return e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,Ln.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);cB=Object(v["a"])([Object(p["a"])({components:{DIDEditor:Km}})],cB);var uB=cB,dB=uB,mB=Object(ha["a"])(dB,rB,lB,!1,null,null,null),vB=mB.exports,pB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-calendars-index-tab-calendars",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Calendars"})}).catch((function(e){}))}}},[e._v(" Calendars ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Calendars")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("CalendarList",{ref:"calendarList",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddCalendarDialogue",{ref:"addCalendarDialogue",attrs:{isOpen:e.addCalendarOpen},on:{Save:e.SaveAddCalendar,Cancel:e.CancelAddCalendar},model:{value:e.addCalendarModel,callback:function(t){e.addCalendarModel=t},expression:"addCalendarModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-menu-add-calendar",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermCalendarsCanPush()},on:{click:function(t){return e.OpenAddCalendar()}}},[n("v-list-item-icon",[n("v-icon",[e._v("calendar_today")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Calendar")])],1)],1)],1)],1)],1)],1)},fB=[],hB=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Calendars:0,calendars:0},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Calendars",disabled:!0,to:"/section/calendars/index"}],e.PermCalendarsCanPush=Wn.PermCalendarsCanPush,e.addCalendarModel=null,e.addCalendarOpen=!1,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.calendarList||!this.$refs.calendarList.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.calendarList&&this.$refs.calendarList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"OpenAddCalendar",value:function(){var e=this;this.addCalendarModel=Wn.GetEmpty(),this.addCalendarOpen=!0,requestAnimationFrame((function(){e.$refs.addCalendarDialogue&&e.$refs.addCalendarDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddCalendar",value:function(){this.addCalendarOpen=!1}},{key:"SaveAddCalendar",value:function(){var e=this;if(this.addCalendarModel&&this.addCalendarModel.id&&!y(this.addCalendarModel.id)){var t={};t[this.addCalendarModel.id]=this.addCalendarModel,Wn.UpdateIds(t),requestAnimationFrame((function(){if(e.addCalendarModel){var t=he.ForCurrentSession();if(!t)return console.error("!contact"),"";var n=Wn.PerformRetrieveCalendar.Send({calendarId:e.addCalendarModel.id||null,sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&n.completeRequestPromise.finally((function(){e.addCalendarModel&&(e.addCalendarOpen=!1,e.$router.push("/section/calendars/".concat(e.addCalendarModel.id,"?tab=General")).catch((function(e){})))}))}}))}else console.error("!this.addCalendarModel || !this.addCalendarModel.id || IsNullOrEmpty(this.addCalendarModel.id)")}}]),n}(AO);hB=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,CalendarList:ad,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,AddCalendarDialogue:Gc}})],hB);var bB=hB,gB=bB,yB=Object(ha["a"])(gB,pB,fB,!1,null,null,null),CB=yB.exports;ga()(yB,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var jB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("CalendarEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.Calendar,callback:function(t){e.Calendar=t},expression:"Calendar"}})},SB=[],IB=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=Wn.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/calendars/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Calendars",disabled:!1,to:"/section/calendars/index"},{text:"Calendar",disabled:!0,to:""}]}},{key:"Calendar",get:function(){var e=Wn.ForId(this.$route.params.id);return e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,Wn.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);IB=Object(v["a"])([Object(p["a"])({components:{CalendarEditor:Lc}})],IB);var PB=IB,OB=PB,kB=Object(ha["a"])(OB,jB,SB,!1,null,null,null),DB=kB.exports,_B=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-on-call-index-tab-auto-attendants",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Responders"})}).catch((function(e){}))}}},[e._v(" Responders ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("On Call Responders")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("OnCallAutoAttendantsList",{ref:"onCallAutoAttendantsList",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddOnCallAutoAttendantDialogue",{ref:"addOnCallAutoAttendantDialogue",attrs:{isOpen:e.addOnCallAutoAttendantOpen},on:{Save:e.SaveAddOnCallAutoAttendant,Cancel:e.CancelAddOnCallAutoAttendant},model:{value:e.addOnCallAutoAttendantModel,callback:function(t){e.addOnCallAutoAttendantModel=t},expression:"addOnCallAutoAttendantModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{staticClass:"e2e-add-menu-add-auto-attendant",attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermOnCallAutoAttendantsCanPush()},on:{click:function(t){return e.OpenAddOnCallAutoAttendant()}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-menu-open")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Auto Attendant")])],1)],1)],1)],1)],1)],1)},wB=[],xB=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.tab=0,e.tabNameToIndex={Responders:0,responders:0},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"On Call Responders",disabled:!0,to:"/section/on-call/index"}],e.PermOnCallAutoAttendantsCanPush=qn.PermOnCallAutoAttendantsCanPush,e.addOnCallAutoAttendantModel=null,e.addOnCallAutoAttendantOpen=!1,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.onCallAutoAttendantsList||!this.$refs.onCallAutoAttendantsList.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.onCallAutoAttendantsList&&this.$refs.onCallAutoAttendantsList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"OpenAddOnCallAutoAttendant",value:function(){var e=this;this.addOnCallAutoAttendantModel=qn.GetEmpty(),this.addOnCallAutoAttendantOpen=!0,requestAnimationFrame((function(){e.$refs.addOnCallAutoAttendantDialogue&&e.$refs.addOnCallAutoAttendantDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddOnCallAutoAttendant",value:function(){this.addOnCallAutoAttendantOpen=!1}},{key:"SaveAddOnCallAutoAttendant",value:function(){if(this.addOnCallAutoAttendantModel&&this.addOnCallAutoAttendantModel.id&&!y(this.addOnCallAutoAttendantModel.id)){var e={};e[this.addOnCallAutoAttendantModel.id]=this.addOnCallAutoAttendantModel,qn.UpdateIds(e),this.addOnCallAutoAttendantOpen=!1,this.$router.push("/section/on-call/".concat(this.addOnCallAutoAttendantModel.id,"?tab=General")).catch((function(e){}))}else console.error("SaveAddOnCallAutoAttendant error 1")}}]),n}(AO);xB=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OnCallAutoAttendantsList:Lu,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,AddOnCallAutoAttendantDialogue:ov}})],xB);var RB=xB,MB=RB,AB=Object(ha["a"])(MB,_B,wB,!1,null,null,null),TB=AB.exports;ga()(AB,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var VB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("OnCallAutoAttendantEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.OnCallAutoAttendant,callback:function(t){e.OnCallAutoAttendant=t},expression:"OnCallAutoAttendant"}})},BB=[],LB=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.call(this),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=qn.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/OnCallAutoAttendants/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return[{text:"Dashboard",disabled:!1,to:"/"},{text:"On Call Responders",disabled:!1,to:"/section/on-call/index"},{text:"Responder",disabled:!0,to:""}]}},{key:"OnCallAutoAttendant",get:function(){var e=qn.ForId(this.$route.params.id);return e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,qn.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);LB=Object(v["a"])([Object(p["a"])({components:{OnCallAutoAttendantEditor:xm}})],LB);var NB=LB,EB=NB,FB=Object(ha["a"])(EB,VB,BB,!1,null,null,null),qB=FB.exports,GB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{staticClass:"e2e-voicemails-index-tab-messages",on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Responders"})}).catch((function(e){}))}}},[e._v(" Messages ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Voicemails")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.ReLoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("VoicemailList",{ref:"VoicemailList",attrs:{disabled:"Connected"!=e.connectionStatus}})],1)],1),n("div",{staticStyle:{height:"50px"}})],1)},$B=[],UB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.PermVoicemailsCanRequest()?n("v-list",[e.showFilter?n("v-text-field",{ref:"filterField",staticClass:"mx-4 e2e-voicemails-list-filter",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}):e._e(),0!=e.PageRows.length?n("div",[[!0===e.showTopPagination?n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1):e._e()],n("v-list-item-group",{attrs:{color:"primary"}},e._l(e.PageRows,(function(t,a){return n("VoicemailListItem",{key:t.id,attrs:{showMenuButton:e.showMenuButton,isDialogue:e.isDialogue,disabled:e.disabled},on:{ClickEntry:e.ClickEntry,OpenEntry:e.OpenEntry,"delete-entry":e.OpenDeleteVoicemail},model:{value:e.PageRows[a],callback:function(t){e.$set(e.PageRows,a,t)},expression:"PageRows[index]"}})})),1),[n("div",{staticClass:"text-center"},[n("v-pagination",{attrs:{length:e.PageCount,"total-visible":e.breadcrumbsVisibleCount},model:{value:e.CurrentPage,callback:function(t){e.CurrentPage=t},expression:"CurrentPage"}})],1)]],2):n("div",[e.loadingData?n("div",{staticStyle:{"margin-left":"20px","margin-right":"20px"}},[n("content-placeholders",[n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}}),n("content-placeholders-heading",{attrs:{img:!0}})],1)],1):n("v-alert",{staticStyle:{"margin-left":"15px","margin-right":"15px","margin-bottom":"0px"},attrs:{outlined:"",type:"info",elevation:"0"}},[e._v(" There are no voicemails to show. ")])],1)],1):n("PermissionsDeniedAlert"),n("DeleteVoicemailDialogue",{ref:"deleteVoicemailDialogue",attrs:{isOpen:e.deleteVoicemailOpen},on:{Delete:e.SaveDeleteVoicemail,Cancel:e.CancelDeleteVoicemail},model:{value:e.deleteVoicemailModel,callback:function(t){e.deleteVoicemailModel=t},expression:"deleteVoicemailModel"}})],1)},HB=[],WB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"e2e-voicemails-list-item"},[n("v-list-item",[n("v-list-item-avatar",[n("v-icon",[e._v("voicemail")])],1),n("v-list-item-content",{on:{click:e.ClickEntry}},[n("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(" "+e._s(e.VoicemailDisplayNameForId(e.value.id))+" ")]),n("v-list-item-subtitle",{staticStyle:{width:"1px"}},[e.VoicemailDisplayTypeForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-shape")]),e._v(" "+e._s(e.VoicemailDisplayTypeForId(e.value.id))+" ")],1)]}}],null,!1,291017482)},[n("span",[e._v("Type of Message")])]):e._e(),e.VoicemailDisplayCallerIdNameForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-account")]),e._v(" "+e._s(e.VoicemailDisplayCallerIdNameForId(e.value.id))+" ")],1)]}}],null,!1,2972862115)},[n("span",[e._v("Caller ID Name")])]):e._e(),e.VoicemailDisplayCallerIdNumberForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-phone-incoming")]),e._v(" "+e._s(e.VoicemailDisplayCallerIdNumberForId(e.value.id))+" ")],1)]}}],null,!1,297932337)},[n("span",[e._v("Caller ID Number")])]):e._e(),e.VoicemailDisplayCallbackNumberForId(e.value.id)?n("v-tooltip",{attrs:{top:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-chip",e._g({staticStyle:{"margin-right":"5px"},attrs:{label:"",outlined:"",small:""}},a),[n("v-icon",{attrs:{left:"",small:""}},[e._v("mdi-phone-outgoing")]),e._v(" "+e._s(e.VoicemailDisplayCallbackNumberForId(e.value.id))+" ")],1)]}}],null,!1,1455781376)},[n("span",[e._v("Callback Number")])]):e._e()],1)],1),e.showMenuButton?n("v-list-item-action",[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,2457553763)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.isDialogue||e.disabled},on:{click:function(t){return e.$emit("OpenEntry",e.value.id)}}},[n("v-list-item-icon",[n("v-icon",[e._v("open_in_new")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Open…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermVoicemailsCanDelete()},on:{click:function(t){return e.$emit("delete-entry",e.value)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)],1):e._e()],1)],1)},KB=[],zB=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermVoicemailsCanDelete=Xn.PermVoicemailsCanDelete,e.VoicemailDisplayNameForId=Xn.DisplayNameForId,e.VoicemailDisplayTypeForId=Xn.DisplayTypeForId,e.VoicemailDisplayCallerIdNameForId=Xn.DisplayCallerIdNameForId,e.VoicemailDisplayCallerIdNumberForId=Xn.DisplayCallerIdNumberForId,e.VoicemailDisplayCallbackNumberForId=Xn.DisplayCallbackNumberForId,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){if(null!=e.value){var t=[];t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}}))}))}},{key:"ClickEntry",value:function(){this.value&&this.value.json&&!y(this.value.id)&&this.$emit("ClickEntry",this.value.id)}}]),n}(Ri);Object(v["a"])([Object(p["b"])({default:null})],zB.prototype,"value",void 0),zB=Object(v["a"])([Object(p["a"])({})],zB);var JB=zB,YB=JB,QB=Object(ha["a"])(YB,WB,KB,!1,null,null,null),XB=QB.exports;ga()(QB,{VBtn:ya["a"],VChip:Vi["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemAction:Ua["a"],VListItemAvatar:Bi["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemSubtitle:Ha["b"],VListItemTitle:Ha["c"],VMenu:pi["a"],VTooltip:Ni["a"]});var ZB=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:"",scrollable:"",fullscreen:e.MobileDeviceWidth()},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("v-card-title",[e._v("Delete On Call Responder")]),n("v-divider"),n("v-card-text",{staticStyle:{color:"black","padding-top":"20px"}},[n("p",[e._v('Are you sure you want to delete "'),e.value?n("span",[e._v(e._s(e.VoicemailDisplayNameForId(e.value.id)))]):e._e(),e._v('"?')]),n("v-alert",{attrs:{type:"warning"}},[e._v("The voicemail will not appear in any future reports.")])],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.Cancel()}}},[e._v("Cancel")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:function(t){return e.Delete()}}},[e._v("Delete")])],1)],1)],1)},eL=[],tL=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.MobileDeviceWidth=ma,e.VoicemailDisplayNameForId=Xn.DisplayNameForId,e}return Object(u["a"])(n,[{key:"SwitchToTabFromRoute",value:function(){}},{key:"EditorValue",get:function(){return this.value},set:function(e){var t=F.a.cloneDeep(e);null!=t&&(t.lastModifiedISO8601=I["DateTime"].utc().toISO(),t.json.lastModifiedBillingId=he.CurrentBillingContactId(),this.$emit("input",t))}},{key:"Cancel",value:function(){this.$emit("Cancel",null)}},{key:"Delete",value:function(){this.$emit("Delete",this.value)}}]),n}(Ll);Object(v["a"])([Object(p["b"])({default:null})],tL.prototype,"value",void 0),tL=Object(v["a"])([Object(p["a"])({components:{}})],tL);var nL=tL;p["c"].component("DeleteVoicemailDialogue",tL);var aL=nL,iL=Object(ha["a"])(aL,ZB,eL,!1,null,null,null),oL=iL.exports;ga()(iL,{VAlert:Ji["a"],VBtn:ya["a"],VCard:Ca["a"],VCardActions:ja["a"],VCardText:ja["c"],VCardTitle:ja["d"],VDialog:Pa["a"],VDivider:Ea["a"],VSpacer:_a["a"]});var sL=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.PermVoicemailsCanRequest=Xn.PermVoicemailsCanRequest,e.deleteVoicemailModel=null,e.deleteVoicemailOpen=!1,e.filter="",e.loadingData=!1,e._LoadDataTimeout=null,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;this._LoadDataTimeout&&(clearTimeout(this._LoadDataTimeout),this._LoadDataTimeout=null),this._LoadDataTimeout=setTimeout((function(){x.Ready((function(){Q.Ready((function(){var t=[];if(Xn.PermVoicemailsCanRequest()){var n=Xn.RequestVoicemails.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}),250)}},{key:"SelectFilterField",value:function(){if(this.$refs.filterField){var e=this.$refs.filterField.$el.querySelector("input");e&&e.focus()}}},{key:"GetRawRows",value:function(){return this.$store.state.Database.voicemails}},{key:"RowFilter",value:function(e,t){var n=!0;do{if(!e||!e.id||!e.json){n=!1;break}if(this.excludeIds&&this.excludeIds.length>0){var a,i=!1,o=Object(G["a"])(this.excludeIds);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(null!==s&&e.id===s){i=!0;break}}}catch(c){o.e(c)}finally{o.f()}if(i){n=!1;break}}var r="";r+=e.json.callerIdNumber,r+=e.json.callerIdName,r+=e.json.callbackNumber,r+=e.json.messageLeftAtISO8601,r=r.replace(/\W/g,""),r=r.toLowerCase();var l=this.filter.toLowerCase();if(l=l.replace(/\W/g,""),-1===r.indexOf(l)){n=!1;break}}while(0);return n}},{key:"RowSortBy",value:function(e){return(e.json.messageLeftAtISO8601||"1").toLowerCase()}},{key:"GetEntryRouteForId",value:function(e){return"/section/voicemails/".concat(e,"?tab=General")}},{key:"IsReverseSort",value:function(){return this.isReverseSort}},{key:"OpenDeleteVoicemail",value:function(e){var t=this;this.deleteVoicemailModel=e,this.deleteVoicemailOpen=!0,requestAnimationFrame((function(){t.$refs.deleteVoicemailDialogue&&t.$refs.deleteVoicemailDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteVoicemail",value:function(){this.deleteVoicemailOpen=!1}},{key:"SaveDeleteVoicemail",value:function(){if(this.deleteVoicemailModel&&this.deleteVoicemailModel.id&&!y(this.deleteVoicemailModel.id)){var e=[this.deleteVoicemailModel.id];Xn.DeleteIds(e),this.deleteVoicemailOpen=!1,this.$router.push("/section/voicemails/index").catch((function(e){}))}else console.error("SaveDeleteVoicemail error 1")}}]),n}($i);Object(v["a"])([Object(p["b"])({default:"There are no voicemails to show."})],sL.prototype,"emptyMessage",void 0),Object(v["a"])([Object(p["b"])({default:function(){return[]}})],sL.prototype,"excludeIds",void 0),Object(v["a"])([Object(p["b"])({default:!1})],sL.prototype,"isReverseSort",void 0),sL=Object(v["a"])([Object(p["a"])({components:{VoicemailListItem:XB,PermissionsDeniedAlert:Qi,DeleteVoicemailDialogue:oL}})],sL);var rL=sL,lL=rL,cL=Object(ha["a"])(lL,UB,HB,!1,null,null,null),uL=cL.exports;ga()(cL,{VAlert:Ji["a"],VList:qa["a"],VListItemGroup:to["a"],VPagination:no["a"],VTextField:wa["a"]});var dL=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Messages:0,messages:0},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"Voicemails",disabled:!0,to:"/section/voicemails/index"}],e.PermVoicemailsCanPush=Xn.PermVoicemailsCanPush,e.addVoicemailModel=null,e.addVoicemailOpen=!1,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.VoicemailList||!this.$refs.VoicemailList.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.VoicemailList&&this.$refs.VoicemailList.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"CancelAddVoicemail",value:function(){this.addVoicemailOpen=!1}},{key:"SaveAddVoicemail",value:function(){if(this.addVoicemailModel&&this.addVoicemailModel.id&&!y(this.addVoicemailModel.id)){var e={};e[this.addVoicemailModel.id]=this.addVoicemailModel,Xn.UpdateIds(e),this.addVoicemailOpen=!1,this.$router.push("/section/on-call/".concat(this.addVoicemailModel.id,"?tab=General")).catch((function(e){}))}else console.error("SaveAddVoicemail error 1")}}]),n}(AO);dL=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,VoicemailList:uL,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl}})],dL);var mL=dL,vL=mL,pL=Object(ha["a"])(vL,GB,$B,!1,null,null,null),fL=pL.exports;ga()(pL,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]});var hL=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("VoicemailEditor",{ref:"editor",attrs:{showAppBar:!0,showFooter:!0,breadcrumbs:e.Breadcrumbs,preselectTabName:e.$route.query.tab,isMakingNew:!1,isLoadingData:e.loadingData},on:{reload:function(t){return e.LoadData()}},model:{value:e.Voicemail,callback:function(t){e.Voicemail=t},expression:"Voicemail"}})},bL=[],gL=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showAppBar?n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{attrs:{disabled:!e.value},on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"General"})}).catch((function(e){}))}}},[e._v(" General ")])],1)]},proxy:!0}],null,!1,3597175971)},[e.isLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("Voicemail")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton",[n("v-list-item",{on:{click:function(t){return e.OnlineHelpFiles()}}},[n("v-list-item-icon",[n("v-icon",[e._v("book")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Voicemail Tutorial Pages")])],1)],1)],1),n("ReloadButton",{on:{reload:function(t){return e.$emit("reload")}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!1,1582921727)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:""}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items")])],1)],1)],1)],1)],1):e._e(),e.breadcrumbs?n("v-breadcrumbs",{staticStyle:{"padding-bottom":"0px","padding-top":"15px",background:"white"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}],null,!1,657206861)}):e._e(),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),e.value?n("div",[e.showAppBar?e._e():n("v-tabs",{attrs:{"background-color":"transparent",grow:"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",[e._v(" General ")])],1),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("v-card",{attrs:{flat:""}},[n("v-form",{ref:"generalForm",attrs:{autocomplete:"newpassword"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Caller Information")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-text-field",{attrs:{label:"Message Left At",readonly:!0},model:{value:e.MessageLeftAt,callback:function(t){e.MessageLeftAt=t},expression:"MessageLeftAt"}}),n("v-text-field",{attrs:{label:"Caller ID Name",readonly:!0},model:{value:e.CallerIdName,callback:function(t){e.CallerIdName=t},expression:"CallerIdName"}}),n("v-text-field",{attrs:{label:"Caller ID Number",readonly:!0},model:{value:e.CallerIdNumber,callback:function(t){e.CallerIdNumber=t},expression:"CallerIdNumber"}}),n("v-text-field",{attrs:{label:"Callback Number",readonly:!0},model:{value:e.CallbackNumber,callback:function(t){e.CallbackNumber=t},expression:"CallbackNumber"}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Recording")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("S3VoicemailPlayer",{attrs:{voicemail:e.value}})],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Actions")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-btn",{staticClass:"ma-2",attrs:{color:"",disabled:!e.value||e.IsHandled,loading:e.MarkAsHandledLoading},on:{click:e.MarkAsHandled}},[e._v(" Mark as Handled ")])],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Additional Details")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-radio-group",{attrs:{readonly:!0,dense:""},scopedSlots:e._u([{key:"label",fn:function(){return[n("div",[n("strong",[e._v("Voicemail Type")])])]},proxy:!0}]),model:{value:e.Type,callback:function(t){e.Type=t},expression:"Type"}},[n("v-radio",{attrs:{label:"Unknown",value:null}}),n("v-radio",{attrs:{label:"On-Call Responder",value:"OnCall"}})],1),"OnCall"==e.Type?n("OnCallAutoAttendantSelectField",{attrs:{readonly:!0},model:{value:e.OnCallAutoAttendantId,callback:function(t){e.OnCallAutoAttendantId=t},expression:"OnCallAutoAttendantId"}}):e._e()],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Audit Timeline")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("v-timeline",{attrs:{"align-top":"",dense:""}},e._l(e.Timeline,(function(t,a){return n("v-timeline-item",{key:a,attrs:{color:t.colour,small:""}},["text"===t.type?n("div",[n("v-card-title",{staticStyle:{margin:"0px",padding:"0px","word-break":"normal","font-size":"1rem"}},[e._v(e._s(t.description))]),n("v-card-subtitle",{staticStyle:{margin:"0px",padding:"0px","word-break":"normal"}},[e._v(e._s(e.ISO8601ToLocalDatetimeSuperSpecific(t.timestampISO8601)))])],1):e._e()])})),1)],1)],1)],1)],1)],1)],1)],1)],1):n("div",{staticClass:"fadeIn404",staticStyle:{"margin-top":"20px"}},[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[n("div",{staticClass:"title"},[e._v("Voicemail Not Found")])])],1),n("v-row",[n("v-col",{attrs:{cols:"12",sm:"8","offset-sm":"2"}},[e._v(" This could be for several reasons: "),n("ul",[n("li",[e._v("The page hasn't finished loading.")]),n("li",[e._v("The calendar no longer exists and this is an old bookmark.")]),n("li",[e._v("Someone deleted the calendar while you were opening it.")]),n("li",[e._v("There is trouble connecting to the internet.")]),n("li",[e._v("Your mobile phone is in a place with a poor connection.")]),n("li",[e._v("Other reasons the app can't connect to Dispatch Pulse.")])])])],1)],1)],1),n("DeleteVoicemailDialogue",{ref:"deleteVoicemailDialogue",attrs:{isOpen:e.deleteVoicemailOpen},on:{Delete:e.SaveDeleteVoicemail,Cancel:e.CancelDeleteVoicemail},model:{value:e.deleteVoicemailModel,callback:function(t){e.deleteVoicemailModel=t},expression:"deleteVoicemailModel"}}),e.showFooter?n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-btn",{attrs:{disabled:!e.value||"Connected"!=e.connectionStatus||!e.PermVoicemailsCanDelete(),color:"white",text:"",rounded:""},on:{click:function(t){return e.OpenDeleteVoicemail()}}},[n("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v(" Delete ")],1)],1)],1):e._e()],1)},yL=[],CL=function(e){if(!e)return null;var t=I["DateTime"].fromISO(e);return t.toFormat("MMM d, yyyy 'at' h:mm:ss.SSS a")},jL=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.hasS3Link?n("audio",{attrs:{controls:"",preload:"auto",autoplay:""}},[n("source",{attrs:{src:e.s3URI}}),e._v(" Your browser does not support the audio element. ")]):n("v-btn",{staticClass:"ma-2",staticStyle:{color:"white"},attrs:{loading:e.loading,disabled:e.disabled||e.loading,color:"green"},on:{click:e.OnClick}},[e._v(" Click to Play ")])],1)},SL=[],IL=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loading=!1,e.hasS3Link=!1,e.s3URI=null,e}return Object(u["a"])(n,[{key:"mounted",value:function(){}},{key:"OnClick",value:function(){var e=this;if(this.voicemail&&this.voicemail.id){var t=ce.CurrentSessionId();if(t){var n=he.ForCurrentSession();if(n&&n.companyId){this.loading=!0;var a=Xn.PerformGetVoicemailRecordingLink.Send({sessionId:t,voicemailId:this.voicemail.id,billingCompanyId:n.companyId});a.completeRequestPromise&&(a.completeRequestPromise.then((function(t){e.s3URI=t.voicemailURI,e.hasS3Link=!0})),a.completeRequestPromise.finally((function(){e.loading=!1})))}else console.error("!contact || !contact.companyId")}else console.error("!sessionId")}else console.error("!this.voicemail || !this.voicemail.id")}}]),n}(p["c"]);Object(v["a"])([Object(p["b"])({default:null})],IL.prototype,"voicemail",void 0),Object(v["a"])([Object(p["b"])({default:!1})],IL.prototype,"disabled",void 0),IL=Object(v["a"])([Object(p["a"])({components:{}})],IL);var PL=IL,OL=PL,kL=Object(ha["a"])(OL,jL,SL,!1,null,null,null),DL=kL.exports;ga()(kL,{VBtn:ya["a"]});var _L=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.ValidateRequiredField=zs,e.PermVoicemailsCanDelete=Xn.PermVoicemailsCanDelete,e.PermVoicemailsCanPush=Xn.PermVoicemailsCanPush,e.ISO8601ToLocalDatetimeSuperSpecific=CL,e.ISO8601ToLocalDatetime=Ce,e.deleteVoicemailModel=null,e.deleteVoicemailOpen=!1,e.MarkAsHandledLoading=!1,e.debounceId=null,e}return Object(u["a"])(n,[{key:"GetValidatedForms",value:function(){return[this.$refs.generalForm]}},{key:"GetTabNameToIndexMap",value:function(){return{General:0,general:0}}},{key:"MountedAfter",value:function(){this.LoadData()}},{key:"valueChanged",value:function(e,t){this.LoadData()}},{key:"LoadData",value:function(){this.value&&this.value.id&&this.value.json}},{key:"Type",get:function(){return this.value&&this.value.json&&this.value.json.type?this.value.json.type:null},set:function(e){this.value&&this.value.json&&console.error("You can't set this value.")}},{key:"MessageLeftAt",get:function(){return this.value&&this.value.json&&this.value.json.messageLeftAtISO8601?(console.log("this.value.json.messageLeftAtISO8601",this.value.json.messageLeftAtISO8601),Ce(this.value.json.messageLeftAtISO8601)):null},set:function(e){this.value&&this.value.json&&console.error("You can't set this value.")}},{key:"CallerIdName",get:function(){return this.value&&this.value.json&&this.value.json.callerIdName&&!y(this.value.json.callerIdName)?this.value.json.callerIdName:"None"},set:function(e){this.value&&this.value.json&&console.error("You can't set this value.")}},{key:"CallerIdNumber",get:function(){return this.value&&this.value.json&&this.value.json.callerIdNumber&&!y(this.value.json.callerIdNumber)?this.value.json.callerIdNumber:"None"},set:function(e){this.value&&this.value.json&&console.error("You can't set this value.")}},{key:"CallbackNumber",get:function(){return this.value&&this.value.json&&this.value.json.callbackNumber&&!y(this.value.json.callbackNumber)?this.value.json.callbackNumber:"None"},set:function(e){this.value&&this.value.json&&console.error("You can't set this value.")}},{key:"OnCallAutoAttendantId",get:function(){return this.value&&this.value.json&&this.value.json.onCallAutoAttendantId?this.value.json.onCallAutoAttendantId:null},set:function(e){this.value&&this.value.json&&console.error("You can't set this value.")}},{key:"Timeline",get:function(){return this.value&&this.value.json&&this.value.json.timeline?this.value.json.timeline:null},set:function(e){this.value&&this.value.json&&console.error("You can't set this value.")}},{key:"IsHandled",get:function(){return this.value&&this.value.json&&this.value.json.isMarkedHandled||!1}},{key:"MarkAsHandled",value:function(){var e=this,t=ce.CurrentSessionId();if(t)if(this.value)if(this.value.id&&!y(this.value.id)){this.MarkAsHandledLoading=!0;var n=Xn.PerformVoicemailMarkAsHandled.Send({sessionId:t,voicemailId:this.value.id});n.completeRequestPromise&&(n.completeRequestPromise.then((function(e){console.debug("marked as handled")})),n.completeRequestPromise.finally((function(){e.MarkAsHandledLoading=!1})))}else console.error("!this.value.id || IsNullOrEmpty(this.value.id)");else console.error("!this.value");else console.error("!sessionId")}},{key:"Id",get:function(){return this.value&&this.value.id?this.value.id:null}},{key:"OpenDeleteVoicemail",value:function(){var e=this;this.deleteVoicemailModel=this.value,this.deleteVoicemailOpen=!0,requestAnimationFrame((function(){e.$refs.deleteVoicemailDialogue&&e.$refs.deleteVoicemailDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteVoicemail",value:function(){this.deleteVoicemailOpen=!1}},{key:"SaveDeleteVoicemail",value:function(){if(this.deleteVoicemailModel&&this.deleteVoicemailModel.id&&!y(this.deleteVoicemailModel.id)){var e=[this.deleteVoicemailModel.id];console.log(e),Xn.DeleteIds(e),this.deleteVoicemailOpen=!1,this.$router.push("/section/voicemails/index").catch((function(e){}))}else console.error("SaveDeleteVoicemail error 1")}},{key:"SignalChanged",value:function(){var e=this;this.debounceId&&(clearTimeout(this.debounceId),this.debounceId=null),this.debounceId=setTimeout((function(){console.debug("save changes"),e.$emit("input",e.value)}),1e3)}},{key:"OnlineHelpFiles",value:function(){window.open("https://www.dispatchpulse.com/Support","_blank")}}]),n}(ei);Object(v["a"])([Object(p["b"])({default:null})],_L.prototype,"value",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_L.prototype,"isLoadingData",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_L.prototype,"showAppBar",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_L.prototype,"showFooter",void 0),Object(v["a"])([Object(p["b"])({default:null})],_L.prototype,"breadcrumbs",void 0),Object(v["a"])([Object(p["b"])({default:null})],_L.prototype,"preselectTabName",void 0),Object(v["a"])([Object(p["b"])({default:!1})],_L.prototype,"isMakingNew",void 0),Object(v["a"])([Object(p["d"])("value")],_L.prototype,"valueChanged",null),_L=Object(v["a"])([Object(p["a"])({components:{ProjectList:os,ContactList:cc,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,ReloadButton:ms,NotificationBellButton:hl,CalendarSelectFieldArrayAdapter:vd,DeleteVoicemailDialogue:oL,OnCallAutoAttendantSelectField:Vm,S3VoicemailPlayer:DL}})],_L);var wL=_L,xL=wL,RL=n("8414"),ML=n("1e06"),AL=Object(ha["a"])(xL,gL,yL,!1,null,"071cefc1",null),TL=AL.exports;ga()(AL,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VCard:Ca["a"],VCardSubtitle:ja["b"],VCardTitle:ja["d"],VCol:Sa["a"],VContainer:Ia["a"],VFooter:Il["a"],VForm:Oa["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRadio:Ol["a"],VRadioGroup:kl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VTextField:wa["a"],VTimeline:RL["a"],VTimelineItem:ML["a"],VToolbarTitle:wo["a"]});var VL=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.loadingData=!1,e}return Object(u["a"])(n,[{key:"LoadData",value:function(){var e=this;this.$route.params.id&&!y(this.$route.params.id)&&x.Ready((function(){Q.Ready((function(){var t=Xn.FetchForId(e.$route.params.id);t.completeRequestPromise&&(e.loadingData=!0,t.completeRequestPromise.finally((function(){e.loadingData=!1})))}))}))}},{key:"MountedAfter",value:function(){this.$route.params.id&&!y(this.$route.params.id)||this.$router.push("/section/Voicemails/").catch((function(e){})),this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){this.$refs.editor.SwitchToTabFromRoute()}},{key:"Breadcrumbs",get:function(){return[{text:"Dashboard",disabled:!1,to:"/"},{text:"Voicemails",disabled:!1,to:"/section/voicemails/index"},{text:"Voicemail",disabled:!0,to:""}]}},{key:"Voicemail",get:function(){var e=Xn.ForId(this.$route.params.id);return console.debug("this.$route.params.id",this.$route.params.id,e),e?F.a.cloneDeep(e):null},set:function(e){if(e){e.lastModifiedISO8601=I["DateTime"].utc().toISO(),e.json.lastModifiedBillingId=he.CurrentBillingContactId();var t=this.$route.params.id;if(t&&!y(t)){var n={};n[t]=e,Xn.UpdateIds(n)}else console.error("!id || IsNullOrEmpty(id)")}}}]),n}(AO);VL=Object(v["a"])([Object(p["a"])({components:{VoicemailEditor:TL}})],VL);var BL=VL,LL=BL,NL=Object(ha["a"])(LL,hL,bL,!1,null,null,null),EL=NL.exports,FL=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-app-bar",{attrs:{color:"#747389",dark:"",fixed:"",app:"","clipped-right":""},scopedSlots:e._u([{key:"extension",fn:function(){return[n("v-tabs",{attrs:{"background-color":"transparent","align-with-title":"","show-arrows":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tabs-slider",{attrs:{color:"white"}}),n("v-tab",{on:{click:function(t){e.$router.replace({query:Object.assign({},e.$route.query,{tab:"Recordings"})}).catch((function(e){}))}}},[e._v(" Recordings ")])],1)]},proxy:!0}])},[e.IsLoadingData?n("v-progress-linear",{attrs:{indeterminate:!0,absolute:"",top:"",color:"white"}}):e._e(),n("v-app-bar-nav-icon",{on:{click:function(t){t.stopPropagation(),e.$store.state.drawers.showNavigation=!e.$store.state.drawers.showNavigation}}},[n("v-icon",[e._v("menu")])],1),n("v-toolbar-title",{staticClass:"white--text"},[e._v("All Recordings")]),n("v-spacer"),n("NotificationBellButton"),n("HelpMenuButton"),n("ReloadButton",{on:{reload:function(t){return e.LoadData()}}}),n("v-menu",{attrs:{bottom:"",left:"","offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{dark:"",icon:""}},a),[n("v-icon",[e._v("more_vert")])],1)]}}])},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:!0}},[n("v-list-item-content",[n("v-list-item-title",[e._v("No Items.")])],1)],1)],1)],1)],1),n("v-breadcrumbs",{staticStyle:{background:"white","padding-bottom":"5px","padding-top":"15px"},attrs:{items:e.breadcrumbs},scopedSlots:e._u([{key:"divider",fn:function(){return[n("v-icon",[e._v("mdi-forward")])]},proxy:!0}])}),"Connected"!=e.connectionStatus?n("v-alert",{staticStyle:{"margin-top":"10px","margin-left":"15px","margin-right":"15px"},attrs:{type:"error",elevation:"2"}},[e._v(" Disconnected from server. ")]):e._e(),n("v-tabs-items",{staticStyle:{background:"transparent"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab-item",{staticStyle:{flex:"1"}},[n("RecordingsDataTable",{ref:"dataTable",attrs:{disabled:"Connected"!=e.connectionStatus},on:{"edit-entry":e.OpenEditRecording,"delete-entry":e.OpenDeleteRecording}})],1)],1),n("div",{staticStyle:{height:"50px"}}),n("AddRecordingDialogue",{ref:"addRecordingDialogue",attrs:{isOpen:e.addRecordingOpen},on:{Save:e.SaveAddRecording,Cancel:e.CancelAddRecording},model:{value:e.addRecordingModel,callback:function(t){e.addRecordingModel=t},expression:"addRecordingModel"}}),n("DeleteRecordingDialogue",{ref:"deleteRecordingDialogue",attrs:{isOpen:e.deleteRecordingOpen},on:{Delete:e.SaveDeleteRecording,Cancel:e.CancelDeleteRecording},model:{value:e.deleteRecordingModel,callback:function(t){e.deleteRecordingModel=t},expression:"deleteRecordingModel"}}),n("EditRecordingDialogue",{ref:"editRecordingDialogue",attrs:{isOpen:e.editRecordingOpen},on:{Save:e.SaveEditRecording,Cancel:e.CancelEditRecording},model:{value:e.editRecordingModel,callback:function(t){e.editRecordingModel=t},expression:"editRecordingModel"}}),n("v-footer",{staticClass:"white--text",attrs:{color:"#747389",app:"",inset:""}},[n("v-row",{attrs:{"no-gutters":""}},[n("v-spacer"),n("AddMenuButton",{attrs:{disabled:"Connected"!=e.connectionStatus}},[n("v-list-item",{attrs:{disabled:"Connected"!=e.connectionStatus||!e.PermRecordingsCanPush()},on:{click:function(t){return e.OpenAddRecording()}}},[n("v-list-item-icon",[n("v-icon",[e._v("mdi-file-upload")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Upload…")])],1)],1)],1)],1)],1)],1)},qL=[],GL=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{flat:""}},[n("v-text-field",{staticClass:"mx-4",staticStyle:{"margin-bottom":"10px"},attrs:{autocomplete:"newpassword","hide-details":"",label:"Filter","prepend-inner-icon":"search",solo:""},model:{value:e.searchString,callback:function(t){e.searchString=t},expression:"searchString"}}),e.PermRecordingsCanRequest()?n("v-data-table",{ref:"dataTable",attrs:{headers:e.headers,items:e.AllRecordings,search:e.searchString,"item-key":"name","custom-filter":e.CustomDataTableFilter,"footer-props":{showFirstLastPage:!0,firstIcon:"mdi-arrow-collapse-left",lastIcon:"mdi-arrow-collapse-right",prevIcon:"chevron_left",nextIcon:"chevron_right","items-per-page-options":[5,10,15,50]}},scopedSlots:e._u([{key:"item.json.name",fn:function(t){var a=t.item;return[n("span",[e._v(e._s(a.json.name))])]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-menu",{attrs:{bottom:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[n("v-icon",[e._v("more_vert")])],1)]}}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{disabled:e.disabled||!e.PermRecordingsCanPush()},on:{click:function(t){return e.EditEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("edit")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Edit…")])],1)],1),n("v-list-item",{attrs:{disabled:e.disabled||!e.PermRecordingsCanDelete()},on:{click:function(t){return e.DeleteEntry(a)}}},[n("v-list-item-icon",[n("v-icon",[e._v("delete")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v("Delete…")])],1)],1)],1)],1)]}}],null,!0)}):n("PermissionsDeniedAlert"),n("v-spacer",{staticStyle:{height:"40px"}})],1)},$L=[],UL=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.headers=[{text:"Name",value:"json.name",align:"left",sort:function(e,t){var n=""+e,a=""+t;return n.localeCompare(a)}},{text:"Actions",value:"action",align:"right",sortable:!1,filterable:!1}],e.searchString="",e.PermRecordingsCanRequest=na.PermRecordingsCanRequest,e.PermRecordingsCanDelete=na.PermRecordingsCanDelete,e.PermRecordingsCanPush=na.PermRecordingsCanPush,e.resizeObserver=null,e.closestMain=null,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"AllRecordings",get:function(){return Object.values(this.$store.state.Database.recordings)}},{key:"beforeDestroy",value:function(){this.resizeObserver&&this.closestMain&&this.resizeObserver.unobserve(this.closestMain)}},{key:"mounted",value:function(){var e=this;this.resizeObserver=new qi["a"]((function(t,n){e.ResizeTriggered(t,n)})),this.$el&&(this.closestMain=this.$el.closest(".v-content__wrap"),this.closestMain&&this.resizeObserver.observe(this.closestMain)),this.LoadData()}},{key:"IsLoadingData",get:function(){return this.loadingData}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){var t=[];if(na.PermRecordingsCanRequest()){var n=na.RequestRecordings.Send({sessionId:ce.CurrentSessionId()});n.completeRequestPromise&&t.push(n.completeRequestPromise)}t.length>0&&(e.loadingData=!0,Promise.all(t).finally((function(){e.loadingData=!1})))}))}))}},{key:"CustomDataTableFilter",value:function(e,t,n){if(null==t||y(t))return!0;var a=null,i=null;return!(!n.json.name||y(n.json.name)||(a=""+n.json.name,i=a.toLowerCase().indexOf(t.toLowerCase()),-1===i))}},{key:"EditEntry",value:function(e){this.$emit("edit-entry",e)}},{key:"DeleteEntry",value:function(e){this.$emit("delete-entry",e)}},{key:"ResizeTriggered",value:function(e,t){if(this.closestMain){var n=this.closestMain.getBoundingClientRect(),a=Math.floor(n.width);if(this.$refs.dataTable&&this.$refs.dataTable.$el){var i=this.$refs.dataTable.$el;i.style.width="".concat(a||0,"px")}}}}]),n}(Ow);UL=Object(v["a"])([Object(p["a"])({components:{DataLoaderProject:ho,DataLoaderProduct:Mw,PermissionsDeniedAlert:Qi}})],UL);var HL=UL,WL=HL,KL=Object(ha["a"])(WL,GL,$L,!1,null,null,null),zL=KL.exports;ga()(KL,{VBtn:ya["a"],VCard:Ca["a"],VDataTable:iO["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VSpacer:_a["a"],VTextField:wa["a"]});var JL=function(e){Object(d["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(c["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.tabNameToIndex={Contacts:0,contacts:0,Companies:1,companies:1},e.breadcrumbs=[{text:"Dashboard",disabled:!1,to:"/"},{text:"All Recordings",disabled:!0,to:"/section/recordings"}],e.PermRecordingsCanPush=na.PermRecordingsCanPush,e.addRecordingModel=null,e.addRecordingOpen=!1,e.editRecordingModel=null,e.editRecordingOpen=!1,e.deleteRecordingModel=null,e.deleteRecordingOpen=!1,e.loadingData=!1,e}return Object(u["a"])(n,[{key:"IsLoadingData",get:function(){return!(!this.$refs.dataTable||!this.$refs.dataTable.IsLoadingData)||this.loadingData}},{key:"ReLoadData",value:function(){this.LoadData(),this.$refs.dataTable&&this.$refs.dataTable.LoadData()}},{key:"LoadData",value:function(){var e=this;x.Ready((function(){Q.Ready((function(){e.loadingData=!0,setTimeout((function(){e.loadingData=!1}),250)}))}))}},{key:"MountedAfter",value:function(){this.SwitchToTabFromRoute(),this.LoadData()}},{key:"SwitchToTabFromRoute",value:function(){if(y(this.$route.query.tab))this.tab=0;else{var e=this.tabNameToIndex[this.$route.query.tab];this.tab=e}}},{key:"OpenAddRecording",value:function(){var e=this;this.addRecordingModel=na.GetEmpty(),this.addRecordingOpen=!0,requestAnimationFrame((function(){e.$refs.addRecordingDialogue&&e.$refs.addRecordingDialogue.SwitchToTabFromRoute()}))}},{key:"CancelAddRecording",value:function(){this.addRecordingModel=na.GetEmpty(),this.addRecordingOpen=!1}},{key:"SaveAddRecording",value:function(){if(this.addRecordingModel&&this.addRecordingModel.id&&!y(this.addRecordingModel.id)){var e={};e[this.addRecordingModel.id]=this.addRecordingModel,na.UpdateIds(e),this.addRecordingOpen=!1,this.addRecordingModel=na.GetEmpty()}else console.error("SaveAddRecording error 1")}},{key:"OpenEditRecording",value:function(e){var t=this;this.editRecordingModel=e,this.editRecordingOpen=!0,requestAnimationFrame((function(){t.$refs.editRecordingDialogue&&t.$refs.editRecordingDialogue.SwitchToTabFromRoute()}))}},{key:"CancelEditRecording",value:function(){this.editRecordingModel=na.GetEmpty(),this.editRecordingOpen=!1}},{key:"SaveEditRecording",value:function(){if(this.editRecordingModel&&this.editRecordingModel.id&&!y(this.editRecordingModel.id)){var e={};e[this.editRecordingModel.id]=this.editRecordingModel,na.UpdateIds(e),this.editRecordingOpen=!1,this.editRecordingModel=na.GetEmpty()}else console.error("SaveEditRecording error 1")}},{key:"OpenDeleteRecording",value:function(e){var t=this;this.deleteRecordingModel=e,this.deleteRecordingOpen=!0,requestAnimationFrame((function(){t.$refs.deleteRecordingDialogue&&t.$refs.deleteRecordingDialogue.SwitchToTabFromRoute()}))}},{key:"CancelDeleteRecording",value:function(){this.editRecordingModel=na.GetEmpty(),this.deleteRecordingOpen=!1}},{key:"SaveDeleteRecording",value:function(){if(console.debug("SaveDeleteRecording",this.deleteRecordingModel),this.deleteRecordingModel&&this.deleteRecordingModel.id&&!y(this.deleteRecordingModel.id)){var e=[this.deleteRecordingModel.id];na.DeleteIds(e),this.deleteRecordingOpen=!1,this.deleteRecordingModel=na.GetEmpty()}else console.error("SaveDeleteRecording error 1")}}]),n}(AO);JL=Object(v["a"])([Object(p["a"])({components:{AddMenuButton:No,OpenGlobalSearchButton:ri,HelpMenuButton:bi,CommitSessionGlobalButton:Pi,RecordingsDataTable:zL,ReloadButton:ms,NotificationBellButton:hl,AddRecordingDialogue:mv,DeleteRecordingDialogue:yv,EditRecordingDialogue:kv}})],JL);var YL=JL,QL=YL,XL=Object(ha["a"])(QL,FL,qL,!1,null,null,null),ZL=XL.exports;ga()(XL,{VAlert:Ji["a"],VAppBar:Cl["a"],VAppBarNavIcon:jl["a"],VBreadcrumbs:Sl["a"],VBtn:ya["a"],VFooter:Il["a"],VIcon:ka["a"],VList:qa["a"],VListItem:$a["a"],VListItemContent:Ha["a"],VListItemIcon:vi["a"],VListItemTitle:Ha["c"],VMenu:pi["a"],VProgressLinear:Pl["a"],VRow:Da["a"],VSpacer:_a["a"],VTab:_l["a"],VTabItem:wl["a"],VTabs:xl["a"],VTabsItems:Rl["a"],VTabsSlider:Ml["a"],VToolbarTitle:wo["a"]}),p["c"].use(wO["a"]);var eN=new wO["a"]({mode:"history",base:"/",routes:[{path:"/",name:"dashboard",component:NO,meta:{title:"Dashboard - Dispatch Pulse",metaTags:[{name:"description",content:"Dashboard - Dispatch Pulse"},{property:"og:description",content:"Dashboard - Dispatch Pulse"}]}},{path:"/section/dashboard/agent",name:"agent-dashboard",component:eD,meta:{title:"Agent Dashboard - Dispatch Pulse",metaTags:[{name:"description",content:"Agent Dashboard - Dispatch Pulse"},{property:"og:description",content:"Agent Dashboard - Dispatch Pulse"}]}},{path:"/section/dashboard/dispatch",name:"dispatch-dashboard",component:pD,meta:{title:"Dispatch Dashboard - Dispatch Pulse",metaTags:[{name:"description",content:"Dispatch Dashboard - Dispatch Pulse"},{property:"og:description",content:"Dispatch Dashboard - Dispatch Pulse"}]}},{path:"/section/dashboard/billing",name:"billing-dashboard",component:rD,meta:{title:"Billing Dashboard - Dispatch Pulse",metaTags:[{name:"description",content:"Billing Dashboard - Dispatch Pulse"},{property:"og:description",content:"Billing Dashboard - Dispatch Pulse"}]}},{path:"/section/dashboard/management",name:"management-dashboard",component:jD,meta:{title:"Management Dashboard - Dispatch Pulse",metaTags:[{name:"description",content:"Management Dashboard - Dispatch Pulse"},{property:"og:description",content:"Management Dashboard - Dispatch Pulse"}]}},{path:"/section/dashboard/on-call",name:"on-call-dashboard",component:_D,meta:{title:"On-Call Dashboard - Dispatch Pulse",metaTags:[{name:"description",content:"On-Call Dashboard - Dispatch Pulse"},{property:"og:description",content:"On-Call Dashboard - Dispatch Pulse"}]}},{path:"/section/contacts",redirect:"/section/contacts/index"},{path:"/section/contacts/index",name:"contacts-index",component:i_,meta:{title:"Contacts - Dispatch Pulse",metaTags:[{name:"description",content:"Contacts - Dispatch Pulse"},{property:"og:description",content:"Contacts - Dispatch Pulse"}]}},{path:"/section/contacts/:id",name:"contact-display",component:VD,meta:{title:"Contact - Dispatch Pulse",metaTags:[{name:"description",content:"Contact - Dispatch Pulse"},{property:"og:description",content:"Contact - Dispatch Pulse"}]}},{path:"/section/companies",redirect:"/section/companies/index"},{path:"/section/companies/index",name:"companies-index",component:YD,meta:{title:"Companies - Dispatch Pulse",metaTags:[{name:"description",content:"Companies - Dispatch Pulse"},{property:"og:description",content:"Companies - Dispatch Pulse"}]}},{path:"/section/companies/:id",name:"company-display",component:GD,meta:{title:"Company - Dispatch Pulse",metaTags:[{name:"description",content:"Company - Dispatch Pulse"},{property:"og:description",content:"Company - Dispatch Pulse"}]}},{path:"/section/projects",redirect:"/section/projects/index"},{path:"/section/projects/index",name:"projects-index",component:d_,meta:{title:"Projects - Dispatch Pulse",metaTags:[{name:"description",content:"Projects - Dispatch Pulse"},{property:"og:description",content:"Projects - Dispatch Pulse"}]}},{path:"/section/projects/:id",name:"projects-display",component:g_,meta:{title:"Project - Dispatch Pulse",metaTags:[{name:"description",content:"Project - Dispatch Pulse"},{property:"og:description",content:"Project - Dispatch Pulse"}]}},{path:"/section/agents",redirect:"/section/agents/index"},{path:"/section/agents/index",name:"agents-index",component:O_,meta:{title:"Agents - Dispatch Pulse",metaTags:[{name:"description",content:"Agents - Dispatch Pulse"},{property:"og:description",content:"Agents - Dispatch Pulse"}]}},{path:"/section/agents/:id",name:"agent-display",component:bV,meta:{title:"Agent - Dispatch Pulse",metaTags:[{name:"description",content:"Agent - Dispatch Pulse"},{property:"og:description",content:"Agent - Dispatch Pulse"}]}},{path:"/section/labour",redirect:"/section/labour/index"},{path:"/section/labour/index",name:"labour-index",component:WR,meta:{title:"Labour - Dispatch Pulse",metaTags:[{name:"description",content:"Labour - Dispatch Pulse"},{property:"og:description",content:"Labour - Dispatch Pulse"}]}},{path:"/section/labour/:id",name:"labour-display",component:PV,meta:{title:"Labour Entry - Dispatch Pulse",metaTags:[{name:"description",content:"Labour Entry - Dispatch Pulse"},{property:"og:description",content:"Labour Entry - Dispatch Pulse"}]}},{path:"/section/assignments",redirect:"/section/assignments/index"},{path:"/section/assignments/index",name:"assignments-index",component:bw,meta:{title:"Assignments - Dispatch Pulse",metaTags:[{name:"description",content:"Assignments - Dispatch Pulse"},{property:"og:description",content:"Assignments - Dispatch Pulse"}]}},{path:"/section/assignments/:id",name:"assignment-display",component:RV,meta:{title:"Assignment Display - Dispatch Pulse",metaTags:[{name:"description",content:"Assignment Display - Dispatch Pulse"},{property:"og:description",content:"Assignment Display - Dispatch Pulse"}]}},{path:"/section/material-entries",redirect:"/section/material-entries/index"},{path:"/section/material-entries/index",name:"material-entries-index",component:$w,meta:{title:"Material Entries - Dispatch Pulse",metaTags:[{name:"description",content:"Material Entries - Dispatch Pulse"},{property:"og:description",content:"Material Entries - Dispatch Pulse"}]}},{path:"/section/quotes",redirect:"/section/quotes/index"},{path:"/section/quotes/index",name:"quotes-index",component:UM,meta:{title:"Quotes - Dispatch Pulse",metaTags:[{name:"description",content:"Quotes - Dispatch Pulse"},{property:"og:description",content:"Quotes - Dispatch Pulse"}]}},{path:"/section/product-definitions",name:"product-definitions",component:ix,meta:{title:"Product Definitions - Dispatch Pulse",metaTags:[{name:"description",content:"Product Definitions - Dispatch Pulse"},{property:"og:description",content:"Product Definitions - Dispatch Pulse"}]}},{path:"/section/assignment-status-definitions",name:"assignment-status-settings",component:rM,meta:{title:"Assignment Status Definitions - Dispatch Pulse",metaTags:[{name:"description",content:"Assignment Status Definitions - Dispatch Pulse"},{property:"og:description",content:"Assignment Status Definitions - Dispatch Pulse"}]}},{path:"/section/man-hours-definitions",name:"man-hours-definitions",component:LM,meta:{title:"Man Hours Definitions - Dispatch Pulse",metaTags:[{name:"description",content:"Man Hours Definitions - Dispatch Pulse"},{property:"og:description",content:"Man Hours Definitions - Dispatch Pulse"}]}},{path:"/section/project-status-definitions",name:"project-status-definitions",component:SM,meta:{title:"Project Status Definitions - Dispatch Pulse",metaTags:[{name:"description",content:"Project Status Definitions - Dispatch Pulse"},{property:"og:description",content:"Project Status Definitions - Dispatch Pulse"}]}},{path:"/section/employment-status-definitions",name:"employment-status-settings",component:uR,meta:{title:"Employment Statuses - Dispatch Pulse",metaTags:[{name:"description",content:"Employment Status Definitions - Dispatch Pulse"},{property:"og:description",content:"Employment Status Definitions - Dispatch Pulse"}]}},{path:"/section/labour-exception-definitions",name:"labour-exception-definitions",component:Jx,meta:{title:"Labour Exception Definitions - Dispatch Pulse",metaTags:[{name:"description",content:"Labour Exception Definitions - Dispatch Pulse"},{property:"og:description",content:"Labour Exception Definitions - Dispatch Pulse"}]}},{path:"/section/labour-holiday-definitions",name:"labour-holidays-definitions",component:Tx,meta:{title:"Labour Holiday Definitions - Dispatch Pulse",metaTags:[{name:"description",content:"Labour Holiday Definitions - Dispatch Pulse"},{property:"og:description",content:"Labour Holiday Definitions - Dispatch Pulse"}]}},{path:"/section/labour-non-billable-definitions",name:"labour-non-billable-definitions",component:yx,meta:{title:"Labour Non Billable Definitions - Dispatch Pulse",metaTags:[{name:"description",content:"Labour Non Billable Definitions - Dispatch Pulse"},{property:"og:description",content:"Labour Non Billable Definitions - Dispatch Pulse"}]}},{path:"/section/reports",redirect:"/section/reports/index"},{path:"/section/reports/index",name:"reports-index",component:EV,meta:{title:"Reports - Dispatch Pulse",metaTags:[{name:"description",content:"Reports - Dispatch Pulse"},{property:"og:description",content:"Reports - Dispatch Pulse"}]}},{path:"/section/dids",redirect:"/section/dids/index"},{path:"/section/dids/index",name:"dids-index",component:sB,meta:{title:"Phone Numbers - Dispatch Pulse",metaTags:[{name:"description",content:"Phone Numbers - Dispatch Pulse"},{property:"og:description",content:"Phone Numbers - Dispatch Pulse"}]}},{path:"/section/dids/:id",name:"did-display",component:vB,meta:{title:"Inbound Phone Numbers - Dispatch Pulse",metaTags:[{name:"description",content:"Inbound Phone Numbers - Dispatch Pulse"},{property:"og:description",content:"Inbound Phone Numbers - Dispatch Pulse"}]}},{path:"/section/on-call",redirect:"/section/on-call/index"},{path:"/section/on-call/index",name:"on-call-index",component:TB,meta:{title:"On Call Auto Attendants - Dispatch Pulse",metaTags:[{name:"description",content:"On Call Auto Attendants - Dispatch Pulse"},{property:"og:description",content:"On Call Auto Attendants - Dispatch Pulse"}]}},{path:"/section/on-call/:id",name:"on-call-display",component:qB,meta:{title:"On Call Responders - Dispatch Pulse",metaTags:[{name:"description",content:"On Call Responders - Dispatch Pulse"},{property:"og:description",content:"On Call Responders - Dispatch Pulse"}]}},{path:"/section/calendars",redirect:"/section/calendars/index"},{path:"/section/calendars/index",name:"calendars-index",component:CB,meta:{title:"Phone Numbers - Dispatch Pulse",metaTags:[{name:"description",content:"Phone Numbers - Dispatch Pulse"},{property:"og:description",content:"Phone Numbers - Dispatch Pulse"}]}},{path:"/section/calendars/:id",name:"calendar-display",component:DB,meta:{title:"Calendar - Dispatch Pulse",metaTags:[{name:"description",content:"Calendar - Dispatch Pulse"},{property:"og:description",content:"Calendar - Dispatch Pulse"}]}},{path:"/section/voicemails",redirect:"/section/voicemails/index"},{path:"/section/voicemails/index",name:"voicemails-index",component:fL,meta:{title:"Voicemails - Dispatch Pulse",metaTags:[{name:"description",content:"Voicemails - Dispatch Pulse"},{property:"og:description",content:"Voicemails - Dispatch Pulse"}]}},{path:"/section/voicemails/:id",name:"voicemails-display",component:EL,meta:{title:"Voicemail - Dispatch Pulse",metaTags:[{name:"description",content:"Voicemail - Dispatch Pulse"},{property:"og:description",content:"Voicemail - Dispatch Pulse"}]}},{path:"/section/recordings",name:"recordings-index",component:ZL,meta:{title:"Recordings - Dispatch Pulse",metaTags:[{name:"description",content:"Recordings - Dispatch Pulse"},{property:"og:description",content:"Recordings - Dispatch Pulse"}]}},{path:"/settings",name:"settings",component:uV,meta:{title:"Settings - Dispatch Pulse",metaTags:[{name:"description",content:"Settings - Dispatch Pulse"},{property:"og:description",content:"Settings - Dispatch Pulse"}]}},{path:"*",redirect:"/"}],scrollBehavior:function(e,t,n){return n||(e.hash?{selector:e.hash}:{x:0,y:0})}}),tN=n("9483");Object(tN["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),a["default"].use(R_.a);var nN=n("3a60"),aN=n.n(nN);a["default"].use(aN.a);var iN=n("967d");a["default"].use(iN["default"]),window.DEBUG_PRINT_REQUESTS=!1,a["default"].config.productionTip=!1,eN.beforeEach((function(e,t,n){var a=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.title})),i=e.matched.slice().reverse().find((function(e){return e.meta&&e.meta.metaTags}));if(a&&(document.title=a.meta.title),Array.from(document.querySelectorAll("[data-vue-router-controlled]")).map((function(e){e.parentNode.removeChild(e)})),!i)return n();i.meta.metaTags.map((function(e){var t=document.createElement("meta");return Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])})),t.setAttribute("data-vue-router-controlled",""),t})).forEach((function(e){return document.head.appendChild(e)})),n()})),window.DEBUG_SIGNALR=x,new a["default"]({router:eN,store:ra,vuetify:s,render:function(e){return e(_O)}}).$mount("#app")},d40a:function(e,t,n){},d6a5:function(e,t,n){"use strict";n("6485")},d8ab:function(e,t,n){},dbd6:function(e,t,n){},ed3d:function(e,t,n){"use strict";n("5b6e")}});
//# sourceMappingURL=app.91dca84e.js.map